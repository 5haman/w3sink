(function(){function h6(f,e){try{for(var h in e){Object.defineProperty(f.prototype,h,{value:e[h],enumerable:!1})}}catch(g){f.prototype=e}}function hZ(f){var e=-1,h=f.length,g=[];while(++e<h){g.push(f[e])}return g}function hW(b){return Array.prototype.slice.call(b)}function hO(){}function hE(b){return b}function hB(){return this}function hy(){return !0}function hv(b){return typeof b=="function"?b:function(){return b}}function hs(f,e,g){return function(){var a=g.apply(e,arguments);return arguments.length?f:a}}function hp(b){return b!=null&&!isNaN(b)}function hn(b){return b.length}function hg(b){return b==null}function hd(b){return b.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function hb(e){var c=1;while(e*c%1){c*=10}return c}function jF(){}function jD(f){function g(){var j=e,i=-1,b=j.length,a;while(++i<b){(a=j[i].on)&&a.apply(this,arguments)}return f}var e=[],h=new hO;return g.on=function(i,c){var b=h.get(i),a;return arguments.length<2?b&&b.on:(b&&(b.on=null,e=e.slice(0,a=e.indexOf(b)).concat(e.slice(a+1)),h.remove(i)),c&&e.push(h.set(i,{on:c})),f)},g}function jt(e,c){return c-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-c))/Math.LN10):1)}function jq(b){return b+""}function jo(f){var e=f.lastIndexOf("."),h=e>=0?f.substring(e):(e=f.length,""),g=[];while(e>0){g.push(f.substring(e-=3,e+3))}return g.reverse().join(",")+h}function jg(e,c){return{scale:Math.pow(10,(8-c)*3),symbol:e}}function iY(b){return function(a){return a<=0?0:a>=1?1:b(a)}}function iW(b){return function(a){return 1-b(1-a)}}function iT(b){return function(a){return 0.5*(a<0.5?b(2*a):2-b(2-2*a))}}function iP(b){return b}function iM(b){return function(a){return Math.pow(a,b)}}function iJ(b){return 1-Math.cos(b*Math.PI/2)}function iG(b){return Math.pow(2,10*(b-1))}function iD(b){return 1-Math.sqrt(1-b*b)}function iA(f,e){var g;return arguments.length<2&&(e=0.45),arguments.length<1?(f=1,g=e/4):g=e/(2*Math.PI)*Math.asin(1/f),function(a){return 1+f*Math.pow(2,10*-a)*Math.sin((a-g)*2*Math.PI/e)}}function ix(b){return b||(b=1.70158),function(a){return a*a*((b+1)*a-b)}}function iu(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function iq(){d3.event.stopPropagation(),d3.event.preventDefault()}function j6(){var e=d3.event,c;while(c=e.sourceEvent){e=c}return e}function il(f){var e=new jF,h=0,g=arguments.length;while(++h<g){e[arguments[h]]=jD(e)}return e.of=function(b,a){return function(i){try{var c=i.sourceEvent=d3.event;i.target=f,d3.event=i,e[i.type].apply(b,a)}finally{d3.event=c}}},e}function jz(b){return b=="transform"?d3.interpolateTransform:d3.interpolate}function jv(e,c){return c=c-(e=+e)?1/(c-e):0,function(a){return(a-e)*c}}function js(e,c){return c=c-(e=+e)?1/(c-e):0,function(a){return Math.max(0,Math.min(1,(a-e)*c))}}function jp(f,e,g){return new jm(f,e,g)}function jm(f,e,g){this.r=f,this.g=e,this.b=g}function ji(b){return b<16?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function jf(s,r,q){var p=0,o=0,m=0,l,k,j;l=/([a-z]+)\((.*)\)/i.exec(s);if(l){k=l[2].split(",");switch(l[1]){case"hsl":return q(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case"rgb":return r(i9(k[0]),i9(k[1]),i9(k[2]))}}return(j=i6.get(s))?r(j.r,j.g,j.b):(s!=null&&s.charAt(0)==="#"&&(s.length===4?(p=s.charAt(1),p+=p,o=s.charAt(2),o+=o,m=s.charAt(3),m+=m):s.length===7&&(p=s.substring(1,3),o=s.substring(3,5),m=s.substring(5,7)),p=parseInt(p,16),o=parseInt(o,16),m=parseInt(m,16)),r(p,o,m))}function jc(s,r,q){var p=Math.min(s/=255,r/=255,q/=255),o=Math.max(s,r,q),m=o-p,l,k,j=(o+p)/2;return m?(k=j<0.5?m/(o+p):m/(2-o-p),s==o?l=(r-q)/m+(r<q?6:0):r==o?l=(q-s)/m+2:l=(s-r)/m+4,l*=60):k=l=0,i3(l,k,j)}function i9(e){var c=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(c*2.55):c}function i3(f,e,g){return new i0(f,e,g)}function i0(f,e,g){this.h=f,this.s=e,this.l=g}function iX(i,h,o){function k(b){return b>360?b-=360:b<0&&(b+=360),b<60?m+(l-m)*b/60:b<180?l:b<240?m+(l-m)*(240-b)/60:m}function j(b){return Math.round(k(b)*255)}var m,l;return i%=360,i<0&&(i+=360),h=h<0?0:h>1?1:h,o=o<0?0:o>1?1:o,l=o<=0.5?o*(1+h):o+h-o*h,m=2*o-l,jp(j(i+120),j(i),j(i-120))}function iU(b){return hQ(b,iC),b}function iz(b){return function(){return iR(b,this)}}function iw(b){return function(){return iO(b,this)}}function ip(j,i){function m(){if(a=this.classList){return a.add(j)}var a=this.className,f=a.baseVal!=null,c=f?a.baseVal:a;q.lastIndex=0,q.test(c)||(c=hd(c+" "+j),f?a.baseVal=c:this.className=c)}function l(){if(a=this.classList){return a.remove(j)}var a=this.className,f=a.baseVal!=null,c=f?a.baseVal:a;c=hd(c.replace(q," ")),f?a.baseVal=c:this.className=c}function k(){(i.apply(this,arguments)?m:l).call(this)}var q=new RegExp("(^|\\s+)"+d3.requote(j)+"(\\s+|$)","g");if(arguments.length<2){var p=this.node();if(o=p.classList){return o.contains(j)}var o=p.className;return q.lastIndex=0,q.test(o.baseVal!=null?o.baseVal:o)}return this.each(typeof i=="function"?k:i?m:l)}function im(b){return{__data__:b}}function j8(b){return function(){return iF(this,b)}}function j7(b){return arguments.length||(b=d3.ascending),function(a,e){return b(a&&a.__data__,e&&e.__data__)}}function j3(b){return hQ(b,j2),b}function j1(h,g,l){hQ(h,jX);var k=new hO,j=d3.dispatch("start","end"),i=jP;return h.id=g,h.time=l,h.tween=function(a,e){return arguments.length<2?k.get(a):(e==null?k.remove(a):k.set(a,e),h)},h.ease=function(a){return arguments.length?(i=typeof a=="function"?a:d3.ease.apply(d3,arguments),h):i},h.each=function(a,e){return arguments.length<2?jO.call(h,a):(j.on(a,e),h)},d3.timer(function(a){return h.each(function(y,x,w){function e(m){return f.active>g?b():(f.active=g,k.forEach(function(p,o){(o=o.call(u,y,x))&&v.push(o)}),j.start.call(u,y,x),c(m)||d3.timer(c,0,l),1)}function c(m){if(f.active!==g){return b()}var q=(m-t)/s,p=i(q),o=v.length;while(o>0){v[--o].call(u,p)}if(q>=1){return b(),jV=g,j.end.call(u,y,x),jV=0,1}}function b(){return --f.count||delete u.__transition__,1}var v=[],u=this,t=h[w][x].delay,s=h[w][x].duration,f=u.__transition__||(u.__transition__={active:0,count:0});++f.count,t<=a?e(a):d3.timer(e,t,l)}),1},0,l),h}function jZ(f,e,g){return g!=""&&j0}function jY(g,f){function i(b,l,k){var c=f.call(this,b,l);return c==null?k!=""&&j0:k!=c&&j(k,c)}function h(b,k,c){return c!=f&&j(c,f)}var j=jz(g);return typeof f=="function"?i:f==null?jZ:(f+="",h)}function jO(w){var v=jV,u=jP,t=jR,s=jQ;jV=this.id,jP=this.ease();for(var r=0,q=this.length;r<q;r++){for(var p=this[r],o=0,m=p.length;o<m;o++){var l=p[o];l&&(jR=this[r][o].delay,jQ=this[r][o].duration,w.call(l=l.node,l.__data__,o,r))}}return jV=v,jP=u,jR=t,jQ=s,this}function jK(){var f,e=Date.now(),h=jN;while(h){f=e-h.then,f>=h.delay&&(h.flush=h.callback(f)),h=h.next}var g=jJ()-e;g>24?(isFinite(g)&&(clearTimeout(jL),jL=setTimeout(jK,g)),jM=0):(jM=1,jI(jK))}function jJ(){var f=null,e=jN,g=Infinity;while(e){e.flush?e=f?f.next=e.next:jN=e.next:(g=Math.min(g,e.then+e.delay),e=(f=e).next)}return g}function jH(h){var g=[h.a,h.b],l=[h.c,h.d],k=jG(g),j=j9(g,l),i=jG(ih(l,g,-j))||0;g[0]*l[1]<l[0]*g[1]&&(g[0]*=-1,g[1]*=-1,k*=-1,j*=-1),this.rotate=(k?Math.atan2(g[1],g[0]):Math.atan2(-l[0],l[1]))*id,this.translate=[h.e,h.f],this.scale=[k,i],this.skew=i?Math.atan2(j,i)*id:0}function j9(e,c){return e[0]*c[0]+e[1]*c[1]}function jG(e){var c=Math.sqrt(j9(e,e));return c&&(e[0]/=c,e[1]/=c),c}function ih(f,e,g){return f[0]+=g*e[0],f[1]+=g*e[1],f}function h7(h,g){var l=h.ownerSVGElement||h;if(l.createSVGPoint){var k=l.createSVGPoint();if(h9<0&&(window.scrollX||window.scrollY)){l=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var j=l[0][0].getScreenCTM();h9=!j.f&&!j.e,l.remove()}return h9?(k.x=g.pageX,k.y=g.pageY):(k.x=g.clientX,k.y=g.clientY),k=k.matrixTransform(h.getScreenCTM().inverse()),[k.x,k.y]}var i=h.getBoundingClientRect();return[g.clientX-i.left-h.clientLeft,g.clientY-i.top-h.clientTop]}function h4(){}function h1(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function hY(b){return b.rangeExtent?b.rangeExtent():h1(b.range())}function hV(i,h){var o=0,m=i.length-1,l=i[o],k=i[m],j;k<l&&(j=o,o=m,m=j,j=l,l=k,k=j);if(j=k-l){h=h(j),i[o]=h.floor(l),i[m]=h.ceil(k)}return i}function hS(){return Math}function hP(j,i,q,p){function l(){var b=Math.min(j.length,i.length)>2?hu:hx,a=p?js:jv;return o=b(j,i,a,q),m=b(i,j,a,d3.interpolate),k}function k(b){return o(b)}var o,m;return k.invert=function(b){return m(b)},k.domain=function(a){return arguments.length?(j=a.map(Number),l()):j},k.range=function(b){return arguments.length?(i=b,l()):i},k.rangeRound=function(b){return k.range(b).interpolate(d3.interpolateRound)},k.clamp=function(b){return arguments.length?(p=b,l()):p},k.interpolate=function(b){return arguments.length?(q=b,l()):q},k.ticks=function(a){return hD(j,a)},k.tickFormat=function(a){return hA(j,a)},k.nice=function(){return hV(j,hJ),l()},k.copy=function(){return hP(j,i,q,p)},l()}function hM(e,c){return d3.rebind(e,c,"range","rangeRound","interpolate","clamp")}function hJ(b){return b=Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1),{floor:function(a){return Math.floor(a/b)*b},ceil:function(a){return Math.ceil(a/b)*b}}}function hG(h,g){var l=h1(h),k=l[1]-l[0],j=Math.pow(10,Math.floor(Math.log(k/g)/Math.LN10)),i=g/k*j;return i<=0.15?j*=10:i<=0.35?j*=5:i<=0.75&&(j*=2),l[0]=Math.ceil(l[0]/j)*j,l[1]=Math.floor(l[1]/j)*j+j*0.5,l[2]=j,l}function hD(e,c){return d3.range.apply(d3,hG(e,c))}function hA(e,c){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hG(e,c)[2])/Math.LN10+0.01))+"f")}function hx(h,g,l,k){var j=l(h[0],h[1]),i=k(g[0],g[1]);return function(b){return i(j(b))}}function hu(j,i,q,p){var o=[],m=[],l=0,k=Math.min(j.length,i.length)-1;j[k]<j[0]&&(j=j.slice().reverse(),i=i.slice().reverse());while(++l<=k){o.push(q(j[l-1],j[l])),m.push(p(i[l-1],i[l]))}return function(a){var e=d3.bisect(j,a,1,k)-1;return m[e](o[e](a))}}function hr(f,e){function g(a){return f(e(a))}var h=e.pow;return g.invert=function(a){return h(f.invert(a))},g.domain=function(a){return arguments.length?(e=a[0]<0?hi:hl,h=e.pow,f.domain(a.map(e)),g):f.domain().map(h)},g.nice=function(){return f.domain(hV(f.domain(),hS)),g},g.ticks=function(){var o=h1(f.domain()),m=[];if(o.every(isFinite)){var l=Math.floor(o[0]),k=Math.ceil(o[1]),c=h(o[0]),b=h(o[1]);if(e===hi){m.push(h(l));for(;l++<k;){for(var a=9;a>0;a--){m.push(h(l)*a)}}}else{for(;l<k;l++){for(var a=1;a<10;a++){m.push(h(l)*a)}}m.push(h(l))}for(l=0;m[l]<c;l++){}for(k=m.length;m[k-1]>b;k--){}m=m.slice(l,k)}return m},g.tickFormat=function(b,k){arguments.length<2&&(k=ho);if(arguments.length<1){return k}var j=b/g.ticks().length,i=e===hi?(c=-1e-12,Math.floor):(c=1e-12,Math.ceil),c;return function(l){return l/h(i(e(l)+c))<j?k(l):""}},g.copy=function(){return hr(f.copy(),e)},hM(g,f)}function hl(b){return Math.log(b<0?0:b)/Math.LN10}function hi(b){return -Math.log(b>0?0:-b)/Math.LN10}function hf(g,f){function h(a){return g(j(a))}var j=hc(f),i=hc(1/f);return h.invert=function(a){return i(g.invert(a))},h.domain=function(a){return arguments.length?(g.domain(a.map(j)),h):g.domain().map(i)},h.ticks=function(b){return hD(h.domain(),b)},h.tickFormat=function(b){return hA(h.domain(),b)},h.nice=function(){return h.domain(hV(h.domain(),hJ))},h.exponent=function(b){if(!arguments.length){return f}var c=h.domain();return j=hc(f=b),i=hc(1/f),h.domain(c)},h.copy=function(){return hf(g.copy(),f)},hM(h,g)}function hc(b){return function(a){return a<0?-Math.pow(-a,b):Math.pow(a,b)}}function g9(i,h){function k(a){return m[((o.get(a)||o.set(a,i.push(a)))-1)%m.length]}function j(a,e){return d3.range(i.length).map(function(b){return a+e*b})}var o,m,l;return k.domain=function(f){if(!arguments.length){return i}i=[],o=new hO;var c=-1,b=f.length,a;while(++c<b){o.has(a=f[c])||o.set(a,i.push(a))}return k[h.t](h.x,h.p)},k.range=function(b){return arguments.length?(m=b,l=0,h={t:"range",x:b},k):m},k.rangePoints=function(g,f){arguments.length<2&&(f=0);var e=g[0],b=g[1],a=(b-e)/(i.length-1+f);return m=j(i.length<2?(e+b)/2:e+a*f/2,a),l=0,h={t:"rangePoints",x:g,p:f},k},k.rangeBands=function(p,g){arguments.length<2&&(g=0);var f=p[1]<p[0],e=p[f-0],b=p[1-f],a=(b-e)/(i.length+g);return m=j(e+a*g,a),f&&m.reverse(),l=a*(1-g),h={t:"rangeBands",x:p,p:g},k},k.rangeRoundBands=function(q,p){arguments.length<2&&(p=0);var g=q[1]<q[0],f=q[g-0],e=q[1-g],b=Math.floor((e-f)/(i.length+p)),a=e-f-(i.length-p)*b;return m=j(f+Math.round(a/2),b),g&&m.reverse(),l=Math.round(b*(1-p)),h={t:"rangeRoundBands",x:q,p:p},k},k.rangeBand=function(){return l},k.rangeExtent=function(){return h1(h.x)},k.copy=function(){return g9(i,h)},k.domain(i)}function jy(g,f){function i(){var c=0,b=g.length,a=f.length;j=[];while(++c<a){j[c-1]=d3.quantile(g,c/a)}return h}function h(b){return isNaN(b=+b)?NaN:f[d3.bisect(j,b)]}var j;return h.domain=function(a){return arguments.length?(g=a.filter(function(b){return !isNaN(b)}).sort(d3.ascending),i()):g},h.range=function(b){return arguments.length?(f=b,i()):f},h.quantiles=function(){return j},h.copy=function(){return jy(g,f)},i()}function ju(i,h,o){function k(a){return o[Math.max(0,Math.min(l,Math.floor(m*(a-i))))]}function j(){return m=o.length/(h-i),l=o.length-1,k}var m,l;return k.domain=function(a){return arguments.length?(i=+a[0],h=+a[a.length-1],j()):[i,h]},k.range=function(b){return arguments.length?(o=b,j()):o},k.copy=function(){return ju(i,h,o)},j()}function jr(e){function c(b){return +b}return c.invert=c,c.domain=c.range=function(a){return arguments.length?(e=a.map(c),c):e},c.ticks=function(a){return hD(e,a)},c.tickFormat=function(a){return hA(e,a)},c.copy=function(){return jr(e)},c}function jh(b){return b.innerRadius}function je(b){return b.outerRadius}function jb(b){return b.startAngle}function i8(b){return b.endAngle}function i5(j){function k(u){function a(){t.push("M",m(j(s),l))}var t=[],s=[],r=-1,g=u.length,f,c=hv(i),b=hv(q);while(++r<g){p.call(this,f=u[r],r)?s.push([+c.call(this,f,r),+b.call(this,f,r)]):s.length&&(a(),s=[])}return s.length&&a(),t.length?t.join(""):null}var i=i2,q=iZ,p=hy,o=iV,m=iQ,l=0.7;return k.x=function(b){return arguments.length?(i=b,k):i},k.y=function(b){return arguments.length?(q=b,k):q},k.defined=function(b){return arguments.length?(p=b,k):p},k.interpolate=function(b){return arguments.length?(iS.has(b+="")||(b=iV),m=iS.get(o=b),k):o},k.tension=function(b){return arguments.length?(l=b,k):l},k}function i2(b){return b[0]}function iZ(b){return b[1]}function iQ(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("L",(i=g[f])[0],",",i[1])}return h.join("")}function iN(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("V",(i=g[f])[1],"H",i[0])}return h.join("")}function iK(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("H",(i=g[f])[0],"V",i[1])}return h.join("")}function iH(e,c){return e.length<4?iQ(e):e[1]+iy(e.slice(1,e.length-1),iv(e,c))}function iE(e,c){return e.length<3?iQ(e):e[0]+iy((e.push(e[0]),e),iv([e[e.length-2]].concat(e,[e[1]]),c))}function iB(f,e,g){return f.length<3?iQ(f):f[0]+iy(f,iv(f,e))}function iy(w,v){if(v.length<1||w.length!=v.length&&w.length!=v.length+2){return iQ(w)}var u=w.length!=v.length,t="",s=w[0],r=w[1],q=v[0],p=q,o=1;u&&(t+="Q"+(r[0]-q[0]*2/3)+","+(r[1]-q[1]*2/3)+","+r[0]+","+r[1],s=w[1],o=2);if(v.length>1){p=v[1],r=w[o],o++,t+="C"+(s[0]+q[0])+","+(s[1]+q[1])+","+(r[0]-p[0])+","+(r[1]-p[1])+","+r[0]+","+r[1];for(var m=2;m<v.length;m++,o++){r=w[o],p=v[m],t+="S"+(r[0]-p[0])+","+(r[1]-p[1])+","+r[0]+","+r[1]}}if(u){var l=w[o];t+="Q"+(r[0]+p[0]*2/3)+","+(r[1]+p[1]*2/3)+","+l[0]+","+l[1]}return t}function iv(s,r){var q=[],p=(1-r)/2,o,m=s[0],l=s[1],k=1,j=s.length;while(++k<j){o=m,m=l,l=s[k],q.push([p*(l[0]-o[0]),p*(l[1]-o[1])])}return q}function ir(s){if(s.length<3){return iQ(s)}var r=1,q=s.length,p=s[0],o=p[0],m=p[1],l=[o,o,o,(p=s[1])[0]],k=[m,m,m,p[1]],j=[o,",",m];gQ(j,l,k);while(++r<q){p=s[r],l.shift(),l.push(p[0]),k.shift(),k.push(p[1]),gQ(j,l,k)}r=-1;while(++r<2){l.shift(),l.push(p[0]),k.shift(),k.push(p[1]),gQ(j,l,k)}return j.join("")}function io(i){if(i.length<4){return iQ(i)}var h=[],o=-1,m=i.length,l,k=[0],j=[0];while(++o<3){l=i[o],k.push(l[0]),j.push(l[1])}h.push(gZ(gS,k)+","+gZ(gS,j)),--o;while(++o<m){l=i[o],k.shift(),k.push(l[0]),j.shift(),j.push(l[1]),gQ(h,k,j)}return h.join("")}function j4(j){var i,q=-1,p=j.length,o=p+4,m,l=[],k=[];while(++q<4){m=j[q%p],l.push(m[0]),k.push(m[1])}i=[gZ(gS,l),",",gZ(gS,k)],--q;while(++q<o){m=j[q%p],l.shift(),l.push(m[0]),k.shift(),k.push(m[1]),gQ(i,l,k)}return i.join("")}function ik(u,t){var s=u.length-1,r=u[0][0],q=u[0][1],p=u[s][0]-r,o=u[s][1]-q,m=-1,l,k;while(++m<=s){l=u[m],k=m/s,l[0]=t*l[0]+(1-t)*(r+k*p),l[1]=t*l[1]+(1-t)*(q+k*o)}return ir(u)}function gZ(e,c){return e[0]*c[0]+e[1]*c[1]+e[2]*c[2]+e[3]*c[3]}function gQ(f,e,g){f.push("C",gZ(gW,e),",",gZ(gW,g),",",gZ(gU,e),",",gZ(gU,g),",",gZ(gS,e),",",gZ(gS,g))}function gO(e,c){return(c[1]-e[1])/(c[0]-e[0])}function gM(i){var h=0,o=i.length-1,m=[],l=i[0],k=i[1],j=m[0]=gO(l,k);while(++h<o){m[h]=j+(j=gO(l=k,k=i[h+1]))}return m[h]=j,m}function gK(s){var r=[],q,p,o,m,l=gM(s),k=-1,j=s.length-1;while(++k<j){q=gO(s[k],s[k+1]),Math.abs(q)<0.000001?l[k]=l[k+1]=0:(p=l[k]/q,o=l[k+1]/q,m=p*p+o*o,m>9&&(m=q*3/Math.sqrt(m),l[k]=m*p,l[k+1]=m*o))}k=-1;while(++k<=j){m=(s[Math.min(j,k+1)][0]-s[Math.max(0,k-1)][0])/(6*(1+l[k]*l[k])),r.push([m||0,l[k]*m||0])}return r}function gI(b){return b.length<3?iQ(b):b[0]+iy(b,gK(b))}function gG(h){var g,l=-1,k=h.length,j,i;while(++l<k){g=h[l],j=g[0],i=g[1]+jn,g[0]=j*Math.cos(i),g[1]=j*Math.sin(i)}return h}function gE(y){function m(i){function j(){h.push("M",r(y(e),o),p,q(y(f.reverse()),o),"Z")}var h=[],f=[],e=[],c=-1,b=i.length,a,D=hv(x),C=hv(v),B=x===w?function(){return z}:hv(w),A=v===u?function(){return k}:hv(u),z,k;while(++c<b){t.call(this,a=i[c],c)?(f.push([z=+D.call(this,a,c),k=+C.call(this,a,c)]),e.push([+B.call(this,a,c),+A.call(this,a,c)])):f.length&&(j(),f=[],e=[])}return f.length&&j(),h.length?h.join(""):null}var x=i2,w=i2,v=0,u=iZ,t=hy,s=iV,r=iQ,q=iQ,p="L",o=0.7;return m.x=function(b){return arguments.length?(x=w=b,m):w},m.x0=function(b){return arguments.length?(x=b,m):x},m.x1=function(b){return arguments.length?(w=b,m):w},m.y=function(b){return arguments.length?(v=u=b,m):u},m.y0=function(b){return arguments.length?(v=b,m):v},m.y1=function(b){return arguments.length?(u=b,m):u},m.defined=function(b){return arguments.length?(t=b,m):t},m.interpolate=function(b){return arguments.length?(iS.has(b+="")||(b=iV),r=iS.get(s=b),q=r.reverse||r,p=/-closed$/.test(b)?"M":"L",m):s},m.tension=function(b){return arguments.length?(o=b,m):o},m}function gC(b){return b.source}function gA(b){return b.target}function gz(b){return b.radius}function gv(b){return b.startAngle}function gt(b){return b.endAngle}function gs(b){return[b.x,b.y]}function f9(b){return function(){var a=b.apply(this,arguments),f=a[0],e=a[1]+jn;return[f*Math.cos(e),f*Math.sin(e)]}}function f7(){return 64}function f5(){return"circle"}function f3(e){var c=Math.sqrt(e/Math.PI);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function e6(e,c){e.attr("transform",function(b){return"translate("+c(b)+",0)"})}function ij(e,c){e.attr("transform",function(b){return"translate(0,"+c(b)+")"})}function ig(u,t,s){q=[];if(s&&t.length>1){var r=h1(u.domain()),q,p=-1,o=t.length,m=(t[1]-t[0])/++s,l,k;while(++p<o){for(l=s;--l>0;){(k=+t[p]-l*m)>=r[0]&&q.push(k)}}for(--p,l=0;++l<s&&(k=+t[p]+l*m)<r[1];){q.push(k)}}return q}function h0(){h5||(h5=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var f=d3.event,e;try{h5.scrollTop=1000,h5.dispatchEvent(f),e=1000-h5.scrollTop}catch(g){e=f.wheelDelta||-f.detail*5}return e}function hX(h){var g=h.source,l=h.target,k=hR(g,l),j=[g];while(g!==k){g=g.parent,j.push(g)}var i=j.length;while(l!==k){j.splice(i,0,l),l=l.parent}return j}function hU(f){var e=[],g=f.parent;while(g!=null){e.push(f),f=g,g=g.parent}return e.push(f),e}function hR(i,h){if(i===h){return i}var o=hU(i),m=hU(h),l=o.pop(),k=m.pop(),j=null;while(l===k){j=l,l=o.pop(),k=m.pop()}return j}function hI(b){b.fixed|=2}function hF(b){b!==hK&&(b.fixed&=1)}function hC(){hK.fixed&=1,hN=hK=null}function hz(){hK.px=d3.event.x,hK.py=d3.event.y,hN.resume()}function hw(u,t,s){var r=0,q=0;u.charge=0;if(!u.leaf){var p=u.nodes,o=p.length,m=-1,l;while(++m<o){l=p[m];if(l==null){continue}hw(l,t,s),u.charge+=l.charge,r+=l.charge*l.cx,q+=l.charge*l.cy}}if(u.point){u.leaf||(u.point.x+=Math.random()-0.5,u.point.y+=Math.random()-0.5);var k=t*s[u.point.index];u.charge+=u.pointCharge=k,r+=k*u.point.x,q+=k*u.point.y}u.cx=r/u.charge,u.cy=q/u.charge}function ht(b){return 20}function hq(b){return 1}function hk(b){return b.x}function hh(b){return b.y}function he(f,e,g){f.y0=e,f.y=g}function g5(b){return d3.range(b.length)}function jx(f){var e=-1,h=f[0].length,g=[];while(++e<h){g[e]=0}return g}function g2(h){var g=1,l=0,k=h[0][1],j,i=h.length;for(;g<i;++g){(j=h[g][1])>k&&(l=g,k=j)}return l}function e3(b){return b.reduce(e0,0)}function e0(e,c){return e+c[1]}function d9(e,c){return d6(e,Math.ceil(Math.log(c.length)/Math.LN2+1))}function d6(h,g){var l=-1,k=+h[0],j=(h[1]-k)/g,i=[];while(++l<=g){i[l]=j*l+k}return i}function d5(b){return[d3.min(b),d3.max(b)]}function d2(e,c){return d3.rebind(e,c,"sort","children","value"),e.links=c3,e.nodes=function(a){return c1=!0,(e.nodes=e)(a)},e}function d0(b){return b.children}function c7(b){return b.value}function c5(e,c){return c.value-e.value}function c3(b){return d3.merge(b.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function b9(e,c){return e.value-c.value}function b7(f,e){var g=f._pack_next;f._pack_next=e,e._pack_prev=f,e._pack_next=g,g._pack_prev=e}function b5(e,c){e._pack_next=c,c._pack_prev=e}function b3(g,f){var j=f.x-g.x,i=f.y-g.y,h=g.r+f.r;return h*h-j*j-i*i>0.001}function b1(N){function C(b){M=Math.min(b.x-b.r,M),L=Math.max(b.x+b.r,L),K=Math.min(b.y-b.r,K),J=Math.max(b.y+b.r,J)}var M=Infinity,L=-Infinity,K=Infinity,J=-Infinity,I=N.length,H,G,F,E,D;N.forEach(a9),H=N[0],H.x=-H.r,H.y=0,C(H);if(I>1){G=N[1],G.x=G.r,G.y=0,C(G);if(I>2){F=N[2],a1(H,G,F),C(F),b7(H,F),H._pack_prev=F,b7(F,G),G=H._pack_next;for(var B=3;B<I;B++){a1(H,G,F=N[B]);var A=0,z=1,y=1;for(E=G._pack_next;E!==G;E=E._pack_next,z++){if(b3(E,F)){A=1;break}}if(A==1){for(D=H._pack_prev;D!==E._pack_prev;D=D._pack_prev,y++){if(b3(D,F)){break}}}A?(z<y||z==y&&G.r<H.r?b5(H,G=E):b5(H=D,G),B--):(b7(H,F),G=F,C(F))}}}var x=(M+L)/2,w=(K+J)/2,v=0;for(var B=0;B<I;B++){var u=N[B];u.x-=x,u.y-=w,v=Math.max(v,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}return N.forEach(a7),v}function a9(b){b._pack_next=b._pack_prev=b}function a7(b){delete b._pack_next,delete b._pack_prev}function a5(e){var c=e.children;c&&c.length?(c.forEach(a5),e.r=b1(c)):e.r=Math.sqrt(e.value)}function a4(i,h,o,m){var l=i.children;i.x=h+=m*i.x,i.y=o+=m*i.y,i.r*=m;if(l){var k=-1,j=l.length;while(++k<j){a4(l[k],h,o,m)}}}function a1(y,x,w){var v=y.r+w.r,u=x.x-y.x,t=x.y-y.y;if(v&&(u||t)){var s=x.r+w.r,r=Math.sqrt(u*u+t*t),q=Math.max(-1,Math.min(1,(v*v+r*r-s*s)/(2*v*r))),p=Math.acos(q),o=q*(v/=r),m=Math.sin(p)*v;w.x=y.x+o*u+m*t,w.y=y.y+o*t-m*u}else{w.x=y.x+v,w.y=y.y}}function a0(b){return 1+d3.max(b,function(c){return c.y})}function aX(b){return b.reduce(function(e,c){return e+c.x},0)/b.length}function aW(e){var c=e.children;return c&&c.length?aW(c[0]):e}function aT(f){var e=f.children,g;return e&&(g=e.length)?aT(e[g-1]):f}function aS(e,c){return e.parent==c.parent?1:2}function g1(e){var c=e.children;return c&&c.length?c[0]:e._tree.thread}function g0(f){var e=f.children,g;return e&&(g=e.length)?e[g-1]:f._tree.thread}function gX(h,g){var l=h.children;if(l&&(j=l.length)){var k,j,i=-1;while(++i<j){g(k=gX(l[i],g),h)>0&&(h=k)}}return h}function gV(e,c){return e.x-c.x}function gT(e,c){return c.x-e.x}function gR(e,c){return e.depth-c.depth}function gP(f,e){function g(b,o){var m=b.children;if(m&&(c=m.length)){var l,k=null,j=-1,c;while(++j<c){l=m[j],g(l,k),k=l}}e(b,o)}g(f,null)}function gN(h){var g=0,l=0,k=h.children,j=k.length,i;while(--j>=0){i=k[j]._tree,i.prelim+=g,i.mod+=g,g+=i.shift+(l+=i.change)}}function gL(f,e,h){f=f._tree,e=e._tree;var g=h/(e.number-f.number);f.change+=g,e.change-=g,e.shift+=h,e.prelim+=h,e.mod+=h}function gJ(f,e,g){return f._tree.ancestor.parent==e.parent?f._tree.ancestor:g}function gH(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function gF(h,g){var l=h.x+g[3],k=h.y+g[0],j=h.dx-g[1]-g[3],i=h.dy-g[0]-g[2];return j<0&&(l+=j/2,j=0),i<0&&(k+=i/2,i=0),{x:l,y:k,dx:j,dy:i}}function gD(b){return b.map(gB).join(",")}function gB(b){return/[",\n]/.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}function gx(e,c){return function(a){return a&&e.hasOwnProperty(a.type)?e[a.type](a):c}}function gw(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function gu(e,c){gr.hasOwnProperty(e.type)&&gr[e.type](e,c)}function gq(e,c){gu(e.geometry,c)}function f8(g,f){for(var j=g.features,i=0,h=j.length;i<h;i++){gu(j[i].geometry,f)}}function f6(g,f){for(var j=g.geometries,i=0,h=j.length;i<h;i++){gu(j[i],f)}}function f4(g,f){for(var j=g.coordinates,i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function f2(j,i){for(var q=j.coordinates,p=0,o=q.length;p<o;p++){for(var m=q[p],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function f0(j,i){for(var q=j.coordinates,p=0,o=q.length;p<o;p++){for(var m=q[p][0],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e8(e,c){c.apply(null,e.coordinates)}function ic(g,f){for(var j=g.coordinates[0],i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function e5(b){return b.source}function aQ(b){return b.target}function aP(H,G){function r(h){var e=Math.sin(t-(h*=t))/s,m=Math.sin(h)/s,k=e*B*E+m*v*y,j=e*B*D+m*v*x,g=e*A+m*u;return[Math.atan2(j,k)/gy,Math.atan2(g,Math.sqrt(k*k+j*j))/gy]}var F=H[0]*gy,E=Math.cos(F),D=Math.sin(F),C=H[1]*gy,B=Math.cos(C),A=Math.sin(C),z=G[0]*gy,y=Math.cos(z),x=Math.sin(z),w=G[1]*gy,v=Math.cos(w),u=Math.sin(w),t=r.d=Math.acos(Math.max(-1,Math.min(1,A*u+B*v*Math.cos(z-F)))),s=Math.sin(t);return r}function aM(f){var e=0,g=0;for(;;){if(f(e,g)){return[e,g]}e===0?(e=g+1,g=0):(e-=1,g+=1)}}function aL(w,v,u,t){var s,r,q,p,o,m,l;return s=t[w],r=s[0],q=s[1],s=t[v],p=s[0],o=s[1],s=t[u],m=s[0],l=s[1],(l-q)*(p-r)-(o-q)*(m-r)>0}function aK(f,e,g){return(g[0]-e[0])*(f[1]-e[1])<(g[1]-e[1])*(f[0]-e[0])}function aJ(L,K,J,I){var H=L[0],G=K[0],F=J[0],E=I[0],D=L[1],C=K[1],B=J[1],A=I[1],z=H-F,y=G-H,x=E-F,w=D-B,v=C-D,u=A-B,t=(x*w-u*z)/(u*y-x*v);return[H+t*y,D+t*v]}function aH(N,M){var L={list:N.map(function(e,c){return{index:c,x:e[0],y:e[1]}}).sort(function(e,c){return e.y<c.y?-1:e.y>c.y?1:e.x<c.x?-1:e.x>c.x?1:0}),bottomSite:null},K={list:[],leftEnd:null,rightEnd:null,init:function(){K.leftEnd=K.createHalfEdge(null,"l"),K.rightEnd=K.createHalfEdge(null,"l"),K.leftEnd.r=K.rightEnd,K.rightEnd.l=K.leftEnd,K.list.unshift(K.leftEnd,K.rightEnd)},createHalfEdge:function(e,c){return{edge:e,side:c,vertex:null,l:null,r:null}},insert:function(e,c){c.l=e,c.r=e.r,e.r.l=c,e.r=c},leftBound:function(e){var c=K.leftEnd;do{c=c.r}while(c!=K.rightEnd&&J.rightOf(c,e));return c=c.l,c},del:function(b){b.l.r=b.r,b.r.l=b.l,b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[b.side]},rightRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[aI[b.side]]}},J={bisect:function(i,h){var o={region:{l:i,r:h},ep:{l:null,r:null}},m=h.x-i.x,l=h.y-i.y,k=m>0?m:-m,j=l>0?l:-l;return o.c=i.x*m+i.y*l+(m*m+l*l)*0.5,k>j?(o.a=1,o.b=l/m,o.c/=m):(o.b=1,o.a=m/l,o.c/=l),o},intersect:function(S,R){var Q=S.edge,P=R.edge;if(!Q||!P||Q.region.r==P.region.r){return null}var O=Q.a*P.b-Q.b*P.a;if(Math.abs(O)<1e-10){return null}var t=(Q.c*P.b-P.c*Q.b)/O,s=(P.c*Q.a-Q.c*P.a)/O,r=Q.region.r,q=P.region.r,p,o;r.y<q.y||r.y==q.y&&r.x<q.x?(p=S,o=Q):(p=R,o=P);var m=t>=o.region.r.x;return m&&p.side==="l"||!m&&p.side==="r"?null:{x:t,y:s}},rightOf:function(V,U){var T=V.edge,S=T.region.r,R=U.x>S.x;if(R&&V.side==="l"){return 1}if(!R&&V.side==="r"){return 0}if(T.a===1){var Q=U.y-S.y,P=U.x-S.x,O=0,t=0;!R&&T.b<0||R&&T.b>=0?t=O=Q>=T.b*P:(t=U.x+U.y*T.b>T.c,T.b<0&&(t=!t),t||(O=1));if(!O){var s=S.x-T.region.l.x;t=T.b*(P*P-Q*Q)<s*Q*(1+2*P/s+T.b*T.b),T.b<0&&(t=!t)}}else{var r=T.c-T.a*U.x,q=U.y-r,p=U.x-S.x,o=r-S.y;t=q*q>p*p+o*o}return V.side==="l"?t:!t},endPoint:function(b,f,e){b.ep[f]=e;if(!b.ep[aI[f]]){return}M(b)},distance:function(f,e){var h=f.x-e.x,g=f.y-e.y;return Math.sqrt(h*h+g*g)}},I={list:[],insert:function(i,f,o){i.vertex=f,i.ystar=f.y+o;for(var m=0,l=I.list,k=l.length;m<k;m++){var j=l[m];if(i.ystar>j.ystar||i.ystar==j.ystar&&f.x>j.vertex.x){continue}break}l.splice(m,0,i)},del:function(f){for(var e=0,h=I.list,g=h.length;e<g&&h[e]!=f;++e){}h.splice(e,1)},empty:function(){return I.list.length===0},nextEvent:function(f){for(var e=0,h=I.list,g=h.length;e<g;++e){if(h[e]==f){return h[e+1]}}return null},min:function(){var b=I.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return I.list.shift()}};K.init(),L.bottomSite=L.list.shift();var H=L.list.shift(),G,F,E,D,C,B,A,z,y,x,w,v,u;for(;;){I.empty()||(G=I.min());if(H&&(I.empty()||H.y<G.y||H.y==G.y&&H.x<G.x)){F=K.leftBound(H),E=K.right(F),A=K.rightRegion(F),v=J.bisect(A,H),B=K.createHalfEdge(v,"l"),K.insert(F,B),x=J.intersect(F,B),x&&(I.del(F),I.insert(F,x,J.distance(x,H))),F=B,B=K.createHalfEdge(v,"r"),K.insert(F,B),x=J.intersect(B,E),x&&I.insert(B,x,J.distance(x,H)),H=L.list.shift()}else{if(!I.empty()){F=I.extractMin(),D=K.left(F),E=K.right(F),C=K.right(E),A=K.leftRegion(F),z=K.rightRegion(E),w=F.vertex,J.endPoint(F.edge,F.side,w),J.endPoint(E.edge,E.side,w),K.del(F),I.del(E),K.del(E),u="l",A.y>z.y&&(y=A,A=z,z=y,u="r"),v=J.bisect(A,z),B=K.createHalfEdge(v,u),K.insert(D,B),J.endPoint(v,aI[u],w),x=J.intersect(D,B),x&&(I.del(D),I.insert(D,x,J.distance(x,A))),x=J.intersect(B,C),x&&I.insert(B,x,J.distance(x,A))}else{break}}}for(F=K.right(K.leftEnd);F!=K.rightEnd;F=K.right(F)){M(F.edge)}}function aG(){return{leaf:!0,nodes:[],point:null}}function aF(s,r,q,p,o,m){if(!s(r,q,p,o,m)){var l=(q+o)*0.5,k=(p+m)*0.5,j=r.nodes;j[0]&&aF(s,j[0],q,p,l,k),j[1]&&aF(s,j[1],l,p,o,k),j[2]&&aF(s,j[2],q,k,l,m),j[3]&&aF(s,j[3],l,k,o,m)}}function aE(b){return{x:b[0],y:b[1]}}function aC(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function aA(s,r,q,p){var o,m,l=0,k=r.length,j=q.length;while(l<k){if(p>=j){return -1}o=r.charCodeAt(l++);if(o==37){m=au[r.charAt(l++)];if(!m||(p=m(s,q,p))<0){return -1}}else{if(o!=q.charCodeAt(p++)){return -1}}}return p}function at(f,e,g){return aq.test(e.substring(g,g+=3))?g:-1}function ar(f,e,h){e4.lastIndex=0;var g=e4.exec(e.substring(h,h+10));return g?h+=g[0].length:-1}function e1(f,e,h){var g=d8.get(e.substring(h,h+=3).toLowerCase());return g==null?-1:(f.m=g,h)}function d7(f,e,h){d4.lastIndex=0;var g=d4.exec(e.substring(h,h+12));return g?(f.m=d1.get(g[0].toLowerCase()),h+=g[0].length):-1}function c8(f,e,g){return aA(f,av.c.toString(),e,g)}function c6(f,e,g){return aA(f,av.x.toString(),e,g)}function c4(f,e,g){return aA(f,av.X.toString(),e,g)}function c2(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+4));return g?(f.y=+g[0],h+=g[0].length):-1}function c0(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.y=b8()+ +g[0],h+=g[0].length):-1}function b8(){return ~~((new Date).getFullYear()/1000)*1000}function b6(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.m=g[0]-1,h+=g[0].length):-1}function b4(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.d=+g[0],h+=g[0].length):-1}function b2(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.H=+g[0],h+=g[0].length):-1}function b0(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.M=+g[0],h+=g[0].length):-1}function a8(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+2));return g?(f.S=+g[0],h+=g[0].length):-1}function a6(f,e,h){a3.lastIndex=0;var g=a3.exec(e.substring(h,h+3));return g?(f.L=+g[0],h+=g[0].length):-1}function a2(f,e,h){var g=aZ.get(e.substring(h,h+=2).toLowerCase());return g==null?-1:(f.p=g,h)}function aY(g){var f=g.getTimezoneOffset(),j=f>0?"-":"+",i=~~(Math.abs(f)/60),h=Math.abs(f)%60;return j+az(i)+az(h)}function aU(b){return b.toISOString()}function gY(s,r,q){function p(a){var f=s(a),e=m(f,1);return a-f<e-a?f:e}function o(a){return r(a=s(new aD(a-1)),1),a}function m(b,e){return r(b=new aD(+b),e),b}function l(b,t,i){var e=o(b),c=[];if(i>1){while(e<t){q(e)%i||c.push(new Date(+e)),r(e,1)}}else{while(e<t){c.push(new Date(+e)),r(e,1)}}return c}function k(f,e,h){try{aD=aC;var g=new aC;return g._=f,l(g,e,h)}finally{aD=Date}}s.floor=s,s.round=p,s.ceil=o,s.offset=m,s.range=l;var j=s.utc=aR(s);return j.floor=j,j.round=aR(p),j.ceil=aR(o),j.offset=aR(m),j.range=k,s}function aR(b){return function(a,f){try{aD=aC;var e=new aC;return e._=a,b(e,f)._}finally{aD=Date}}}function ap(f,e,h){function g(a){return f(a)}return g.invert=function(a){return an(f.invert(a))},g.domain=function(a){return arguments.length?(f.domain(a),g):f.domain().map(an)},g.nice=function(i){var c=ao(g.domain());return g.domain([i.floor(c[0]),i.ceil(c[1])])},g.ticks=function(m,l){var k=ao(g.domain());if(typeof m!="function"){var j=k[1]-k[0],b=j/m,a=d3.bisect(aj,b);if(a==aj.length){return e.year(k,m)}if(!a){return f.ticks(m).map(an)}Math.log(b/aj[a-1])<Math.log(aj[a]/b)&&--a,m=e[a],l=m[1],m=m[0].range}return m(k[0],new Date(+k[1]+1),l)},g.tickFormat=function(){return h},g.copy=function(){return ap(f.copy(),e,h)},d3.rebind(g,f,"range","rangeRound","interpolate","clamp")}function ao(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function an(b){return new Date(b)}function am(b){return function(a){var f=b.length-1,e=b[f];while(!e[1](a)){e=b[--f]}return e[0](a)}}function al(e){var c=new Date(e,0,1);return c.setFullYear(e),c}function ak(f){var e=f.getFullYear(),h=al(e),g=al(e+1);return e+(f-h)/(g-h)}function ab(e){var c=new Date(Date.UTC(e,0,1));return c.setUTCFullYear(e),c}function aa(f){var e=f.getUTCFullYear(),h=ab(e),g=ab(e+1);return e+(f-h)/(g-h)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(ii){var ie=CSSStyleDeclaration.prototype,ib=ie.setProperty;ie.setProperty=function(e,c,f){ib.call(this,e,c+"",f)}}d3={version:"2.9.1"};var h3=hW;try{h3(document.documentElement.childNodes)[0].nodeType}catch(hT){h3=hZ}var hQ=[].__proto__?function(e,c){e.__proto__=c}:function(f,e){for(var g in e){f[g]=e[g]}};d3.map=function(f){var e=new hO;for(var g in f){e.set(g,f[g])}return e},h6(hO,{has:function(b){return hL+b in this},get:function(b){return this[hL+b]},set:function(e,c){return this[hL+e]=c},remove:function(b){return b=hL+b,b in this&&delete this[b]},keys:function(){var b=[];return this.forEach(function(a){b.push(a)}),b},values:function(){var b=[];return this.forEach(function(a,e){b.push(e)}),b},entries:function(){var b=[];return this.forEach(function(a,e){b.push({key:a,value:e})}),b},forEach:function(e){for(var c in this){c.charCodeAt(0)===hH&&e.call(this,c.substring(1),this[c])}}});var hL="\0",hH=hL.charCodeAt(0);d3.functor=hv,d3.rebind=function(g,f){var j=1,i=arguments.length,h;while(++j<i){g[h=arguments[j]]=hs(g,f,f[h])}return g},d3.ascending=function(e,c){return e<c?-1:e>c?1:e>=c?0:NaN},d3.descending=function(e,c){return c<e?-1:c>e?1:c>=e?0:NaN},d3.mean=function(i,h){var o=i.length,m,l=0,k=-1,j=0;if(arguments.length===1){while(++k<o){hp(m=i[k])&&(l+=(m-l)/++j)}}else{while(++k<o){hp(m=h.call(i,i[k],k))&&(l+=(m-l)/++j)}}return j?l:undefined},d3.median=function(e,c){return arguments.length>1&&(e=e.map(c)),e=e.filter(hp),e.length?d3.quantile(e.sort(d3.ascending),0.5):undefined},d3.min=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&j>i&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&j>i&&(j=i)}}return j},d3.max=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&i>j&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&i>j&&(j=i)}}return j},d3.extent=function(i,h){var o=-1,m=i.length,l,k,j;if(arguments.length===1){while(++o<m&&((l=j=i[o])==null||l!=l)){l=j=undefined}while(++o<m){(k=i[o])!=null&&(l>k&&(l=k),j<k&&(j=k))}}else{while(++o<m&&((l=j=h.call(i,i[o],o))==null||l!=l)){l=undefined}while(++o<m){(k=h.call(i,i[o],o))!=null&&(l>k&&(l=k),j<k&&(j=k))}}return[l,j]},d3.random={normal:function(e,c){return arguments.length<2&&(c=1),arguments.length<1&&(e=0),function(){var f,b,a;do{f=Math.random()*2-1,b=Math.random()*2-1,a=f*f+b*b}while(!a||a>1);return e+c*f*Math.sqrt(-2*Math.log(a)/a)}}},d3.sum=function(h,g){var l=0,k=h.length,j,i=-1;if(arguments.length===1){while(++i<k){isNaN(j=+h[i])||(l+=j)}}else{while(++i<k){isNaN(j=+g.call(h,h[i],i))||(l+=j)}}return l},d3.quantile=function(h,g){var l=(h.length-1)*g+1,k=Math.floor(l),j=h[k-1],i=l-k;return i?j+i*(h[k]-j):j},d3.transpose=function(b){return d3.zip.apply(d3,b)},d3.zip=function(){if(!(j=arguments.length)){return[]}for(var h=-1,g=d3.min(arguments,hn),l=new Array(g);++h<g;){for(var k=-1,j,i=l[h]=new Array(j);++k<j;){i[k]=arguments[k][h]}}return l},d3.bisector=function(b){return{left:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;b.call(a,a[g],g)<j?i=g+1:h=g}return i},right:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;j<b.call(a,a[g],g)?h=g:i=g+1}return i}}};var hj=d3.bisector(function(b){return b});d3.bisectLeft=hj.left,d3.bisect=d3.bisectRight=hj.right,d3.first=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])>0&&(j=i)}return j},d3.last=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])<=0&&(j=i)}return j},d3.nest=function(){function k(v,u){if(u>=h.length){return l?l.call(i,v):m?v.sort(m):v}var t=-1,s=v.length,r=h[u++],q,f,e=new hO,b,a={};while(++t<s){(b=e.get(q=r(f=v[t])))?b.push(f):e.set(q,[f])}return e.forEach(function(c){a[c]=k(e.get(c),u)}),a}function j(b,q){if(q>=h.length){return b}var p=[],g=o[q++],c;for(c in b){p.push({key:c,values:j(b[c],q)})}return g&&p.sort(function(f,e){return g(f.key,e.key)}),p}var i={},h=[],o=[],m,l;return i.map=function(b){return k(b,0)},i.entries=function(b){return j(k(b,0),0)},i.key=function(a){return h.push(a),i},i.sortKeys=function(a){return o[h.length-1]=a,i},i.sortValues=function(a){return m=a,i},i.rollup=function(a){return l=a,i},i},d3.keys=function(f){var e=[];for(var g in f){e.push(g)}return e},d3.values=function(f){var e=[];for(var g in f){e.push(f[g])}return e},d3.entries=function(f){var e=[];for(var g in f){e.push({key:g,value:f[g]})}return e},d3.permute=function(g,f){var j=[],i=-1,h=f.length;while(++i<h){j[i]=g[f[i]]}return j},d3.merge=function(b){return Array.prototype.concat.apply([],b)},d3.split=function(i,h){var o=[],m=[],l,k=-1,j=i.length;arguments.length<2&&(h=hg);while(++k<j){h.call(m,l=i[k],k)?m=[]:(m.length||o.push(m),m.push(l))}return o},d3.range=function(i,h,o){arguments.length<3&&(o=1,arguments.length<2&&(h=i,i=0));if((h-i)/o===Infinity){throw new Error("infinite range")}var m=[],l=hb(Math.abs(o)),k=-1,j;i*=l,h*=l,o*=l;if(o<0){while((j=i+o*++k)>h){m.push(j/l)}}else{while((j=i+o*++k)<h){m.push(j/l)}}return m},d3.requote=function(b){return b.replace(g8,"\\$&")};var g8=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,c){return c?Math.round(e*(c=Math.pow(10,c)))/c:Math.round(e)},d3.xhr=function(f,e,h){var g=new XMLHttpRequest;arguments.length<3?(h=e,e=null):e&&g.overrideMimeType&&g.overrideMimeType(e),g.open("GET",f,!0),e&&g.setRequestHeader("Accept",e),g.onreadystatechange=function(){if(g.readyState===4){var b=g.status;h(b>=200&&b<300||b===304?g:null)}},g.send(null)},d3.text=function(f,e,h){function g(b){h(b&&b.responseText)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)},d3.json=function(e,c){d3.text(e,"application/json",function(b){c(b?JSON.parse(b):null)})},d3.html=function(e,c){d3.text(e,"text/html",function(b){if(b!=null){var f=document.createRange();f.selectNode(document.body),b=f.createContextualFragment(b)}c(b)})},d3.xml=function(f,e,h){function g(b){h(b&&b.responseXML)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)};var g4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:g4,qualify:function(f){var e=f.indexOf(":"),g=f;return e>=0&&(g=f.substring(0,e),f=f.substring(e+1)),g4.hasOwnProperty(g)?{space:g4[g],local:f}:f}},d3.dispatch=function(){var f=new jF,e=-1,g=arguments.length;while(++e<g){f[arguments[e]]=jD(f)}return f},jF.prototype.on=function(f,e){var h=f.indexOf("."),g="";return h>0&&(g=f.substring(h+1),f=f.substring(0,h)),arguments.length<2?this[f].on(g):this[f].on(g,e)},d3.format=function(y){var x=jA.exec(y),w=x[1]||" ",v=x[3]||"",u=x[5],t=+x[6],s=x[7],r=x[8],q=x[9],p=1,o="",m=!1;r&&(r=+r.substring(1)),u&&(w="0",s&&(t-=Math.floor((t-1)/4)));switch(q){case"n":s=!0,q="g";break;case"%":p=100,o="%",q="f";break;case"p":p=100,o="%",q="r";break;case"d":m=!0,r=0;break;case"s":p=-1,q="r"}return q=="r"&&!r&&(q="g"),q=jw.get(q)||jq,function(f){if(m&&f%1){return""}var e=f<0&&(f=-f)?"−":v;if(p<0){var c=d3.formatPrefix(f,r);f*=c.scale,o=c.symbol}else{f*=p}f=q(f,r);if(u){var g=f.length+e.length;g<t&&(f=(new Array(t-g+1)).join(w)+f),s&&(f=jo(f)),f=e+f}else{s&&(f=jo(f)),f=e+f;var g=f.length;g<t&&(f=(new Array(t-g+1)).join(w)+f)}return f+o}};var jA=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,jw=d3.map({g:function(e,c){return e.toPrecision(c)},e:function(e,c){return e.toExponential(c)},f:function(e,c){return e.toFixed(c)},r:function(e,c){return d3.round(e,c=jt(e,c)).toFixed(Math.max(0,Math.min(20,c)))}}),jl=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(jg);d3.formatPrefix=function(f,e){var g=0;return f&&(f<0&&(f*=-1),e&&(f=d3.round(f,jt(f,e))),g=1+Math.floor(1e-12+Math.log(f)/Math.LN10),g=Math.max(-24,Math.min(24,Math.floor((g<=0?g+1:g-1)/3)*3))),jl[8+g/3]};var jd=iM(2),ja=iM(3),i7=function(){return iP},i4=d3.map({linear:i7,poly:iM,quad:function(){return jd},cubic:function(){return ja},sin:function(){return iJ},exp:function(){return iG},circle:function(){return iD},elastic:iA,back:ix,bounce:function(){return iu}}),i1=d3.map({"in":iP,out:iW,"in-out":iT,"out-in":function(b){return iT(iW(b))}});d3.ease=function(f){var e=f.indexOf("-"),h=e>=0?f.substring(0,e):f,g=e>=0?f.substring(e+1):"in";return h=i4.get(h)||i7,g=i1.get(g)||iP,iY(g(h.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(f,e){var h=d3.interpolators.length,g;while(--h>=0&&!(g=d3.interpolators[h](f,e))){}return g},d3.interpolateNumber=function(e,c){return c-=e,function(a){return e+c*a}},d3.interpolateRound=function(e,c){return c-=e,function(a){return Math.round(e+c*a)}},d3.interpolateString=function(w,v){var u,t,s,r=0,q=0,p=[],o=[],m,l;jB.lastIndex=0;for(t=0;u=jB.exec(v);++t){u.index&&p.push(v.substring(r,q=u.index)),o.push({i:p.length,x:u[0]}),p.push(null),r=jB.lastIndex}r<v.length&&p.push(v.substring(r));for(t=0,m=o.length;(u=jB.exec(w))&&t<m;++t){l=o[t];if(l.x==u[0]){if(l.i){if(p[l.i+1]==null){p[l.i-1]+=l.x,p.splice(l.i,1);for(s=t+1;s<m;++s){o[s].i--}}else{p[l.i-1]+=l.x+p[l.i+1],p.splice(l.i,2);for(s=t+1;s<m;++s){o[s].i-=2}}}else{if(p[l.i+1]==null){p[l.i]=l.x}else{p[l.i]=l.x+p[l.i+1],p.splice(l.i+1,1);for(s=t+1;s<m;++s){o[s].i--}}}o.splice(t,1),m--,t--}else{l.x=d3.interpolateNumber(parseFloat(u[0]),parseFloat(l.x))}}while(t<m){l=o.pop(),p[l.i+1]==null?p[l.i]=l.x:(p[l.i]=l.x+p[l.i+1],p.splice(l.i+1,1)),m--}return p.length===1?p[0]==null?o[0].x:function(){return v}:function(b){for(t=0;t<m;++t){p[(l=o[t]).i]=l.x(b)}return p.join("")}},d3.interpolateTransform=function(D,C){var B=[],A=[],z,y=d3.transform(D),x=d3.transform(C),w=y.translate,v=x.translate,u=y.rotate,t=x.rotate,s=y.skew,r=x.skew,q=y.scale,p=x.scale;return w[0]!=v[0]||w[1]!=v[1]?(B.push("translate(",null,",",null,")"),A.push({i:1,x:d3.interpolateNumber(w[0],v[0])},{i:3,x:d3.interpolateNumber(w[1],v[1])})):v[0]||v[1]?B.push("translate("+v+")"):B.push(""),u!=t?A.push({i:B.push(B.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,t)}):t&&B.push(B.pop()+"rotate("+t+")"),s!=r?A.push({i:B.push(B.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,r)}):r&&B.push(B.pop()+"skewX("+r+")"),q[0]!=p[0]||q[1]!=p[1]?(z=B.push(B.pop()+"scale(",null,",",null,")"),A.push({i:z-4,x:d3.interpolateNumber(q[0],p[0])},{i:z-2,x:d3.interpolateNumber(q[1],p[1])})):(p[0]!=1||p[1]!=1)&&B.push(B.pop()+"scale("+p+")"),z=A.length,function(e){var c=-1,g;while(++c<z){B[(g=A[c]).i]=g.x(e)}return B.join("")}},d3.interpolateRgb=function(j,i){j=d3.rgb(j),i=d3.rgb(i);var q=j.r,p=j.g,o=j.b,m=i.r-q,l=i.g-p,k=i.b-o;return function(b){return"#"+ji(Math.round(q+m*b))+ji(Math.round(p+l*b))+ji(Math.round(o+k*b))}},d3.interpolateHsl=function(j,i){j=d3.hsl(j),i=d3.hsl(i);var q=j.h,p=j.s,o=j.l,m=i.h-q,l=i.s-p,k=i.l-o;return function(b){return iX(q+m*b,p+l*b,o+k*b).toString()}},d3.interpolateArray=function(j,i){var q=[],p=[],o=j.length,m=i.length,l=Math.min(j.length,i.length),k;for(k=0;k<l;++k){q.push(d3.interpolate(j[k],i[k]))}for(;k<o;++k){p[k]=j[k]}for(;k<m;++k){p[k]=i[k]}return function(b){for(k=0;k<l;++k){p[k]=q[k](b)}return p}},d3.interpolateObject=function(g,f){var j={},i={},h;for(h in g){h in f?j[h]=jz(h)(g[h],f[h]):i[h]=g[h]}for(h in f){h in g||(i[h]=f[h])}return function(b){for(h in j){i[h]=j[h](b)}return i}};var jB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,c){return c instanceof Array&&d3.interpolateArray(e,c)},function(e,c){return(typeof e=="string"||typeof c=="string")&&d3.interpolateString(e+"",c+"")},function(e,c){return(typeof c=="string"?i6.has(c)||/^(#|rgb\(|hsl\()/.test(c):c instanceof jm||c instanceof i0)&&d3.interpolateRgb(e,c)},function(e,c){return !isNaN(e=+e)&&!isNaN(c=+c)&&d3.interpolateNumber(e,c)}],d3.rgb=function(f,e,g){return arguments.length===1?f instanceof jm?jp(f.r,f.g,f.b):jf(""+f,jp,iX):jp(~~f,~~e,~~g)},jm.prototype.brighter=function(g){g=Math.pow(0.7,arguments.length?g:1);var f=this.r,j=this.g,i=this.b,h=30;return !f&&!j&&!i?jp(h,h,h):(f&&f<h&&(f=h),j&&j<h&&(j=h),i&&i<h&&(i=h),jp(Math.min(255,Math.floor(f/g)),Math.min(255,Math.floor(j/g)),Math.min(255,Math.floor(i/g))))},jm.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),jp(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*this.b))},jm.prototype.hsl=function(){return jc(this.r,this.g,this.b)},jm.prototype.toString=function(){return"#"+ji(this.r)+ji(this.g)+ji(this.b)};var i6=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});i6.forEach(function(e,c){i6.set(e,jf(c,jp,iX))}),d3.hsl=function(f,e,g){return arguments.length===1?f instanceof i0?i3(f.h,f.s,f.l):jf(""+f,jc,i3):i3(+f,+e,+g)},i0.prototype.brighter=function(b){return b=Math.pow(0.7,arguments.length?b:1),i3(this.h,this.s,this.l/b)},i0.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),i3(this.h,this.s,b*this.l)},i0.prototype.rgb=function(){return iX(this.h,this.s,this.l)},i0.prototype.toString=function(){return this.rgb().toString()};var iR=function(e,c){return c.querySelector(e)},iO=function(e,c){return c.querySelectorAll(e)},iL=document.documentElement,iI=iL.matchesSelector||iL.webkitMatchesSelector||iL.mozMatchesSelector||iL.msMatchesSelector||iL.oMatchesSelector,iF=function(e,c){return iI.call(e,c)};typeof Sizzle=="function"&&(iR=function(e,c){return Sizzle(e,c)[0]},iO=function(e,c){return Sizzle.uniqueSort(Sizzle(e,c))},iF=Sizzle.matchesSelector);var iC=[];d3.selection=function(){return j5},d3.selection.prototype=iC,iC.select=function(u){var t=[],s,r,q,p;typeof u!="function"&&(u=iz(u));for(var o=-1,m=this.length;++o<m;){t.push(s=[]),s.parentNode=(q=this[o]).parentNode;for(var l=-1,k=q.length;++l<k;){(p=q[l])?(s.push(r=u.call(p,p.__data__,l)),r&&"__data__" in p&&(r.__data__=p.__data__)):s.push(null)}}return iU(t)},iC.selectAll=function(s){var r=[],q,p;typeof s!="function"&&(s=iw(s));for(var o=-1,m=this.length;++o<m;){for(var l=this[o],k=-1,f=l.length;++k<f;){if(p=l[k]){r.push(q=h3(s.call(p,p.__data__,k))),q.parentNode=p}}}return iU(r)},iC.attr=function(s,r){function p(){this.removeAttribute(s)}function o(){this.removeAttributeNS(s.space,s.local)}function m(){this.setAttribute(s,r)}function l(){this.setAttributeNS(s.space,s.local,r)}function k(){var a=r.apply(this,arguments);a==null?this.removeAttribute(s):this.setAttribute(s,a)}function j(){var a=r.apply(this,arguments);a==null?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,a)}s=d3.ns.qualify(s);if(arguments.length<2){var q=this.node();return s.local?q.getAttributeNS(s.space,s.local):q.getAttribute(s)}return this.each(r==null?s.local?o:p:typeof r=="function"?s.local?j:k:s.local?l:m)},iC.classed=function(g,f){var j=g.split(it),i=j.length,h=-1;if(arguments.length>1){while(++h<i){ip.call(this,j[h],f)}return this}while(++h<i){if(!ip.call(this,j[h])){return !1}}return !0};var it=/\s+/g;iC.style=function(h,g,l){function k(){this.style.removeProperty(h)}function j(){this.style.setProperty(h,g,l)}function i(){var a=g.apply(this,arguments);a==null?this.style.removeProperty(h):this.style.setProperty(h,a,l)}return arguments.length<3&&(l=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(h):this.each(g==null?k:typeof g=="function"?i:j)},iC.property=function(g,f){function j(){delete this[g]}function i(){this[g]=f}function h(){var a=f.apply(this,arguments);a==null?delete this[g]:this[g]=a}return arguments.length<2?this.node()[g]:this.each(f==null?j:typeof f=="function"?h:i)},iC.text=function(b){return arguments.length<1?this.node().textContent:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.textContent=a==null?"":a}:b==null?function(){this.textContent=""}:function(){this.textContent=b})},iC.html=function(b){return arguments.length<1?this.node().innerHTML:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.innerHTML=a==null?"":a}:b==null?function(){this.innerHTML=""}:function(){this.innerHTML=b})},iC.append=function(f){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,f))}function g(){return this.appendChild(document.createElementNS(f.space,f.local))}return f=d3.ns.qualify(f),this.select(f.local?g:e)},iC.insert=function(f,e){function h(){return this.insertBefore(document.createElementNS(this.namespaceURI,f),iR(e,this))}function g(){return this.insertBefore(document.createElementNS(f.space,f.local),iR(e,this))}return f=d3.ns.qualify(f),this.select(f.local?g:h)},iC.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})},iC.data=function(u,t){function o(D,C){var B,A=D.length,z=C.length,y=Math.min(A,z),x=Math.max(A,z),w=[],v=[],j=[],i,h;if(t){var b=new hO,G=[],F,E=C.length;for(B=-1;++B<A;){F=t.call(i=D[B],i.__data__,B),b.has(F)?j[E++]=i:b.set(F,i),G.push(F)}for(B=-1;++B<z;){F=t.call(C,h=C[B],B),b.has(F)?(w[B]=i=b.get(F),i.__data__=h,v[B]=j[B]=null):(v[B]=im(h),w[B]=j[B]=null),b.remove(F)}for(B=-1;++B<A;){b.has(G[B])&&(j[B]=D[B])}}else{for(B=-1;++B<y;){i=D[B],h=C[B],i?(i.__data__=h,w[B]=i,v[B]=j[B]=null):(v[B]=im(h),w[B]=j[B]=null)}for(;B<z;++B){v[B]=im(C[B]),w[B]=j[B]=null}for(;B<x;++B){j[B]=D[B],v[B]=w[B]=null}}v.update=w,v.parentNode=w.parentNode=j.parentNode=D.parentNode,m.push(v),l.push(w),k.push(j)}var s=-1,r=this.length,q,p;if(!arguments.length){u=new Array(r=(q=this[0]).length);while(++s<r){if(p=q[s]){u[s]=p.__data__}}return u}var m=j3([]),l=iU([]),k=iU([]);if(typeof u=="function"){while(++s<r){o(q=this[s],u.call(q,q.parentNode.__data__,s))}}else{while(++s<r){o(q=this[s],u)}}return l.enter=function(){return m},l.exit=function(){return k},l},iC.datum=iC.map=function(b){return arguments.length<1?this.property("__data__"):this.property("__data__",b)},iC.filter=function(s){var r=[],q,p,o;typeof s!="function"&&(s=j8(s));for(var m=0,l=this.length;m<l;m++){r.push(q=[]),q.parentNode=(p=this[m]).parentNode;for(var k=0,j=p.length;k<j;k++){(o=p[k])&&s.call(o,o.__data__,k)&&q.push(o)}}return iU(r)},iC.order=function(){for(var h=-1,g=this.length;++h<g;){for(var l=this[h],k=l.length-1,j=l[k],i;--k>=0;){if(i=l[k]){j&&j!==i.nextSibling&&j.parentNode.insertBefore(i,j),j=i}}}return this},iC.sort=function(f){f=j7.apply(this,arguments);for(var e=-1,g=this.length;++e<g;){this[e].sort(f)}return this.order()},iC.on=function(g,f,j){arguments.length<3&&(j=!1);var i="__on"+g,h=g.indexOf(".");return h>0&&(g=g.substring(0,h)),arguments.length<2?(h=this.node()[i])&&h._:this.each(function(l,k){function a(e){var m=d3.event;d3.event=e;try{f.call(c,c.__data__,k)}finally{d3.event=m}}var c=this,b=c[i];b&&(c.removeEventListener(g,b,b.$),delete c[i]),f&&(c.addEventListener(g,c[i]=a,a.$=j),a._=f)})},iC.each=function(i){for(var h=-1,o=this.length;++h<o;){for(var m=this[h],l=-1,k=m.length;++l<k;){var j=m[l];j&&i.call(j,j.__data__,l,h)}}return this},iC.call=function(b){return b.apply(this,(arguments[0]=this,arguments)),this},iC.empty=function(){return !this.node()},iC.node=function(i){for(var h=0,o=this.length;h<o;h++){for(var m=this[h],l=0,k=m.length;l<k;l++){var j=m[l];if(j){return j}}}return null},iC.transition=function(){var j=[],i,q;for(var p=-1,o=this.length;++p<o;){j.push(i=[]);for(var m=this[p],l=-1,k=m.length;++l<k;){i.push((q=m[l])?{node:q,delay:jR,duration:jQ}:null)}}return j1(j,jV||++jW,Date.now())};var j5=iU([[document]]);j5[0].parentNode=iL,d3.select=function(b){return typeof b=="string"?j5.select(b):iU([[b]])},d3.selectAll=function(b){return typeof b=="string"?j5.selectAll(b):iU([h3(b)])};var j2=[];d3.selection.enter=j3,d3.selection.enter.prototype=j2,j2.append=iC.append,j2.insert=iC.insert,j2.empty=iC.empty,j2.node=iC.node,j2.select=function(w){var v=[],u,t,s,r,q;for(var p=-1,o=this.length;++p<o;){s=(r=this[p]).update,v.push(u=[]),u.parentNode=r.parentNode;for(var m=-1,l=r.length;++m<l;){(q=r[m])?(u.push(s[m]=t=w.call(r.parentNode,q.__data__,m)),t.__data__=q.__data__):u.push(null)}}return iU(v)};var j0={},jX=[],jW=0,jV=0,jU=0,jT=250,jS=d3.ease("cubic-in-out"),jR=jU,jQ=jT,jP=jS;jX.call=iC.call,d3.transition=function(b){return arguments.length?jV?b.transition():b:j5.transition()},d3.transition.prototype=jX,jX.select=function(u){var t=[],s,r,q;typeof u!="function"&&(u=iz(u));for(var p=-1,o=this.length;++p<o;){t.push(s=[]);for(var m=this[p],l=-1,k=m.length;++l<k;){(q=m[l])&&(r=u.call(q.node,q.node.__data__,l))?("__data__" in q.node&&(r.__data__=q.node.__data__),s.push({node:r,delay:q.delay,duration:q.duration})):s.push(null)}}return j1(t,this.id,this.time).ease(this.ease())},jX.selectAll=function(y){var x=[],w,v,u;typeof y!="function"&&(y=iw(y));for(var t=-1,s=this.length;++t<s;){for(var r=this[t],q=-1,p=r.length;++q<p;){if(u=r[q]){v=y.call(u.node,u.node.__data__,q),x.push(w=[]);for(var o=-1,m=v.length;++o<m;){w.push({node:v[o],delay:u.delay,duration:u.duration})}}}}return j1(x,this.id,this.time).ease(this.ease())},jX.attr=function(e,c){return this.attrTween(e,jY(e,c))},jX.attrTween=function(g,f){function i(b,k){var c=f.call(this,b,k,this.getAttribute(j));return c===j0?(this.removeAttribute(j),null):c&&function(e){this.setAttribute(j,c(e))}}function h(b,k){var c=f.call(this,b,k,this.getAttributeNS(j.space,j.local));return c===j0?(this.removeAttributeNS(j.space,j.local),null):c&&function(e){this.setAttributeNS(j.space,j.local,c(e))}}var j=d3.ns.qualify(g);return this.tween("attr."+g,j.local?h:i)},jX.style=function(f,e,g){return arguments.length<3&&(g=""),this.styleTween(f,jY(f,e),g)},jX.styleTween=function(f,e,g){return arguments.length<3&&(g=""),this.tween("style."+f,function(c,b){var a=e.call(this,c,b,window.getComputedStyle(this,null).getPropertyValue(f));return a===j0?(this.style.removeProperty(f),null):a&&function(h){this.style.setProperty(f,a(h),g)}})},jX.text=function(b){return this.tween("text",function(a,e){this.textContent=typeof b=="function"?b.call(this,a,e):b})},jX.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})},jX.delay=function(e){var c=this;return c.each(typeof e=="function"?function(f,b,a){c[a][b].delay=e.apply(this,arguments)|0}:(e|=0,function(f,b,a){c[a][b].delay=e}))},jX.duration=function(e){var c=this;return c.each(typeof e=="function"?function(f,b,a){c[a][b].duration=Math.max(1,e.apply(this,arguments)|0)}:(e=Math.max(1,e|0),function(f,b,a){c[a][b].duration=e}))},jX.transition=function(){return this.select(hB)};var jN=null,jM,jL;d3.timer=function(h,g,l){var k=!1,j,i=jN;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}l=Date.now()}while(i){if(i.callback===h){i.then=l,i.delay=g,k=!0;break}j=i,i=i.next}k||(jN={callback:h,then:l,delay:g,next:jN}),jM||(jL=clearTimeout(jL),jM=1,jI(jK))},d3.timer.flush=function(){var f,e=Date.now(),g=jN;while(g){f=e-g.then,g.delay||(g.flush=g.callback(f)),g=g.next}jJ()};var jI=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,17)};d3.transform=function(f){var e=document.createElementNS(d3.ns.prefix.svg,"g"),g={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(b){e.setAttribute("transform",b);var c=e.transform.baseVal.consolidate();return new jH(c?c.matrix:g)})(f)},jH.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var id=180/Math.PI;d3.mouse=function(b){return h7(b,j6())};var h9=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,c){return arguments.length<2&&(c=j6().touches),c?h3(c).map(function(a){var f=h7(e,a);return f.identifier=a.identifier,f}):[]},d3.scale={},d3.scale.linear=function(){return hP([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return hr(d3.scale.linear(),hl)};var ho=d3.format(".0e");hl.pow=function(b){return Math.pow(10,b)},hi.pow=function(b){return -Math.pow(10,-b)},d3.scale.pow=function(){return hf(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return g9([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(g6)},d3.scale.category20=function(){return d3.scale.ordinal().range(g3)},d3.scale.category20b=function(){return d3.scale.ordinal().range(jE)},d3.scale.category20c=function(){return d3.scale.ordinal().range(jC)};var g6=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],g3=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],jE=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],jC=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return jy([],[])},d3.scale.quantize=function(){return ju(0,1,[0,1])},d3.scale.identity=function(){return jr([0,1])},d3.svg={},d3.svg.arc=function(){function h(){var u=g.apply(this,arguments),t=f.apply(this,arguments),s=j.apply(this,arguments)+jn,r=i.apply(this,arguments)+jn,q=(r<s&&(q=s,s=r,r=q),r-s),p=q<Math.PI?"0":"1",o=Math.cos(s),c=Math.sin(s),b=Math.cos(r),a=Math.sin(r);return q>=jk?u?"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"M0,"+u+"A"+u+","+u+" 0 1,0 0,"+-u+"A"+u+","+u+" 0 1,0 0,"+u+"Z":"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z":u?"M"+t*o+","+t*c+"A"+t+","+t+" 0 "+p+",1 "+t*b+","+t*a+"L"+u*b+","+u*a+"A"+u+","+u+" 0 "+p+",0 "+u*o+","+u*c+"Z":"M"+t*o+","+t*c+"A"+t+","+t+" 0 "+p+",1 "+t*b+","+t*a+"L0,0Z"}var g=jh,f=je,j=jb,i=i8;return h.innerRadius=function(a){return arguments.length?(g=hv(a),h):g},h.outerRadius=function(b){return arguments.length?(f=hv(b),h):f},h.startAngle=function(b){return arguments.length?(j=hv(b),h):j},h.endAngle=function(b){return arguments.length?(i=hv(b),h):i},h.centroid=function(){var b=(g.apply(this,arguments)+f.apply(this,arguments))/2,a=(j.apply(this,arguments)+i.apply(this,arguments))/2+jn;return[Math.cos(a)*b,Math.sin(a)*b]},h};var jn=-Math.PI/2,jk=2*Math.PI-0.000001;d3.svg.line=function(){return i5(hE)};var iV="linear",iS=d3.map({linear:iQ,"step-before":iN,"step-after":iK,basis:ir,"basis-open":io,"basis-closed":j4,bundle:ik,cardinal:iB,"cardinal-open":iH,"cardinal-closed":iE,monotone:gI}),gW=[0,2/3,1/3,0],gU=[0,1/3,2/3,0],gS=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var b=i5(gG);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b},iN.reverse=iK,iK.reverse=iN,d3.svg.area=function(){return gE(Object)},d3.svg.area.radial=function(){var b=gE(gG);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b},d3.svg.chord=function(){function p(h,g){var b=o(this,u,h,g),a=o(this,t,h,g);return"M"+b.p0+l(b.r,b.p1,b.a1-b.a0)+(m(b,a)?k(b.r,b.p1,b.r,b.p0):k(b.r,b.p1,a.r,a.p0)+l(a.r,a.p1,a.a1-a.a0)+k(a.r,a.p1,b.r,b.p0))+"Z"}function o(e,c,A,z){var y=c.call(e,A,z),x=s.call(e,y,z),w=r.call(e,y,z)+jn,v=q.call(e,y,z)+jn;return{r:x,a0:w,a1:v,p0:[x*Math.cos(w),x*Math.sin(w)],p1:[x*Math.cos(v),x*Math.sin(v)]}}function m(e,c){return e.a0==c.a0&&e.a1==c.a1}function l(f,e,g){return"A"+f+","+f+" 0 "+ +(g>Math.PI)+",1 "+e}function k(f,e,h,g){return"Q 0,0 "+g}var u=gC,t=gA,s=gz,r=jb,q=i8;return p.radius=function(b){return arguments.length?(s=hv(b),p):s},p.source=function(a){return arguments.length?(u=hv(a),p):u},p.target=function(b){return arguments.length?(t=hv(b),p):t},p.startAngle=function(b){return arguments.length?(r=hv(b),p):r},p.endAngle=function(b){return arguments.length?(q=hv(b),p):q},p},d3.svg.diagonal=function(){function g(l,k){var j=f.call(this,l,k),c=e.call(this,l,k),b=(j.y+c.y)/2,a=[j,{x:j.x,y:b},{x:c.x,y:b},c];return a=a.map(h),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var f=gC,e=gA,h=gs;return g.source=function(a){return arguments.length?(f=hv(a),g):f},g.target=function(b){return arguments.length?(e=hv(b),g):e},g.projection=function(b){return arguments.length?(h=b,g):h},g},d3.svg.diagonal.radial=function(){var f=d3.svg.diagonal(),e=gs,g=f.projection;return f.projection=function(b){return arguments.length?g(f9(e=b)):e},f},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function g(b,a){return(f1.get(f.call(this,b,a))||f3)(e.call(this,b,a))}var f=f5,e=f7;return g.type=function(a){return arguments.length?(f=hv(a),g):f},g.size=function(b){return arguments.length?(e=hv(b),g):e},g};var f1=d3.map({circle:f3,cross:function(e){var c=Math.sqrt(e/5)/2;return"M"+-3*c+","+-c+"H"+-c+"V"+-3*c+"H"+c+"V"+-c+"H"+3*c+"V"+c+"H"+c+"V"+3*c+"H"+-c+"V"+c+"H"+-3*c+"Z"},diamond:function(f){var e=Math.sqrt(f/(2*e7)),g=e*e7;return"M0,"+-e+"L"+g+",0 0,"+e+" "+-g+",0Z"},square:function(e){var c=Math.sqrt(e)/2;return"M"+-c+","+-c+"L"+c+","+-c+" "+c+","+c+" "+-c+","+c+"Z"},"triangle-down":function(f){var e=Math.sqrt(f/e9),g=e*e9/2;return"M0,"+g+"L"+e+","+-g+" "+-e+","+-g+"Z"},"triangle-up":function(f){var e=Math.sqrt(f/e9),g=e*e9/2;return"M0,"+-g+"L"+e+","+g+" "+-e+","+g+"Z"}});d3.svg.symbolTypes=f1.keys();var e9=Math.sqrt(3),e7=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(a){a.each(function(){var R=d3.select(this),Q=p==null?w.ticks?w.ticks.apply(w,q):w.domain():p,P=o==null?w.tickFormat?w.tickFormat.apply(w,q):String:o,O=ig(w,Q,m),N=R.selectAll(".minor").data(O,String),M=N.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),K=d3.transition(N.exit()).style("opacity",0.000001).remove(),I=d3.transition(N).style("opacity",1),G=R.selectAll("g").data(Q,String),j=G.enter().insert("g","path").style("opacity",0.000001),h=d3.transition(G.exit()).style("opacity",0.000001).remove(),g=d3.transition(G).style("opacity",1),f,e=hY(w),c=R.selectAll(".domain").data([0]),b=c.enter().append("path").attr("class","domain"),L=d3.transition(c),J=w.copy(),H=this.__chart__||J;this.__chart__=J,j.append("line").attr("class","tick"),j.append("text"),g.select("text").text(P);switch(v){case"bottom":f=e6,M.attr("y2",t),I.attr("x2",0).attr("y2",t),j.select("line").attr("y2",u),j.select("text").attr("y",Math.max(u,0)+r),g.select("line").attr("x2",0).attr("y2",u),g.select("text").attr("x",0).attr("y",Math.max(u,0)+r).attr("dy",".71em").attr("text-anchor","middle"),L.attr("d","M"+e[0]+","+s+"V0H"+e[1]+"V"+s);break;case"top":f=e6,M.attr("y2",-t),I.attr("x2",0).attr("y2",-t),j.select("line").attr("y2",-u),j.select("text").attr("y",-(Math.max(u,0)+r)),g.select("line").attr("x2",0).attr("y2",-u),g.select("text").attr("x",0).attr("y",-(Math.max(u,0)+r)).attr("dy","0em").attr("text-anchor","middle"),L.attr("d","M"+e[0]+","+-s+"V0H"+e[1]+"V"+-s);break;case"left":f=ij,M.attr("x2",-t),I.attr("x2",-t).attr("y2",0),j.select("line").attr("x2",-u),j.select("text").attr("x",-(Math.max(u,0)+r)),g.select("line").attr("x2",-u).attr("y2",0),g.select("text").attr("x",-(Math.max(u,0)+r)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),L.attr("d","M"+-s+","+e[0]+"H0V"+e[1]+"H"+-s);break;case"right":f=ij,M.attr("x2",t),I.attr("x2",t).attr("y2",0),j.select("line").attr("x2",u),j.select("text").attr("x",Math.max(u,0)+r),g.select("line").attr("x2",u).attr("y2",0),g.select("text").attr("x",Math.max(u,0)+r).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),L.attr("d","M"+s+","+e[0]+"H0V"+e[1]+"H"+s)}if(w.ticks){j.call(f,H),g.call(f,J),h.call(f,J),M.call(f,H),I.call(f,J),K.call(f,J)}else{var F=J.rangeBand()/2,i=function(k){return J(k)+F};j.call(f,i),g.call(f,i)}})}var w=d3.scale.linear(),v="bottom",u=6,t=6,s=6,r=3,q=[10],p=null,o,m=0;return l.scale=function(a){return arguments.length?(w=a,l):w},l.orient=function(b){return arguments.length?(v=b,l):v},l.ticks=function(){return arguments.length?(q=arguments,l):q},l.tickValues=function(b){return arguments.length?(p=b,l):p},l.tickFormat=function(b){return arguments.length?(o=b,l):o},l.tickSize=function(e,c,i){if(!arguments.length){return u}var h=arguments.length-1;return u=+e,t=h>1?+c:u,s=h>0?+arguments[h]:u,l},l.tickPadding=function(b){return arguments.length?(r=+b,l):r},l.tickSubdivide=function(b){return arguments.length?(m=+b,l):m},l},d3.svg.brush=function(){function q(b){b.each(function(){var h=d3.select(this),j=h.selectAll(".background").data([0]),i=h.selectAll(".extent").data([0]),g=h.selectAll(".resize").data(t,String),c;h.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),j.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.enter().append("rect").attr("class","extent").style("cursor","move"),g.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return ia[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),g.style("display",q.empty()?"none":null),g.exit().remove(),v&&(c=hY(v),j.attr("x",c[0]).attr("width",c[1]-c[0]),o(h)),u&&(c=hY(u),j.attr("y",c[0]).attr("height",c[1]-c[0]),m(h)),p(h)})}function p(b){b.selectAll(".resize").attr("transform",function(c){return"translate("+s[+/e$/.test(c)][0]+","+s[+/^s/.test(c)][1]+")"})}function o(b){b.select(".extent").attr("x",s[0][0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function m(b){b.select(".extent").attr("y",s[0][1]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function l(){function c(){var k=d3.event.changedTouches;return k?d3.touches(N,k)[0]:d3.mouse(N)}function b(){d3.event.keyCode==32&&(F||(D=null,i[0]-=s[1][0],i[1]-=s[1][1],F=2),iq())}function a(){d3.event.keyCode==32&&F==2&&(i[0]+=s[1][0],i[1]+=s[1][1],F=0,iq())}function G(){var k=c(),x=!1;h&&(k[0]+=h[0],k[1]+=h[1]),F||(d3.event.altKey?(D||(D=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),i[0]=s[+(k[0]<D[0])][0],i[1]=s[+(k[1]<D[1])][1]):D=null),I&&E(k,v,0)&&(o(K),x=!0),H&&E(k,u,1)&&(m(K),x=!0),x&&(p(K),L({type:"brush",mode:F?"move":"resize"}))}function E(R,Q,P){var O=hY(Q),C=O[0],B=O[1],A=i[P],z=s[1][P]-s[0][P],y,x;F&&(C-=A,B-=z+A),y=Math.max(C,Math.min(B,R[P])),F?x=(y+=A)+z:(D&&(A=Math.max(C,Math.min(B,2*D[P]-y))),A<y?(x=y,y=A):x=A);if(s[0][P]!==y||s[1][P]!==x){return r=null,s[0][P]=y,s[1][P]=x,!0}}function j(){G(),K.style("pointer-events","all").selectAll(".resize").style("display",q.empty()?"none":null),d3.select("body").style("cursor",null),g.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L({type:"brushend"}),iq()}var N=this,M=d3.select(d3.event.target),L=w.of(N,arguments),K=d3.select(N),J=M.datum(),I=!/^(n|s)$/.test(J)&&v,H=!/^(e|w)$/.test(J)&&u,F=M.classed("extent"),D,i=c(),h,g=d3.select(window).on("mousemove.brush",G).on("mouseup.brush",j).on("touchmove.brush",G).on("touchend.brush",j).on("keydown.brush",b).on("keyup.brush",a);if(F){i[0]=s[0][0]-i[0],i[1]=s[0][1]-i[1]}else{if(J){var f=+/w$/.test(J),e=+/^n/.test(J);h=[s[1-f][0]-i[0],s[1-e][1]-i[1]],i[0]=s[f][0],i[1]=s[e][1]}else{d3.event.altKey&&(D=i.slice())}}K.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",M.style("cursor")),L({type:"brushstart"}),G(),iq()}var w=il(q,"brushstart","brush","brushend"),v=null,u=null,t=h8[0],s=[[0,0],[0,0]],r;return q.x=function(b){return arguments.length?(v=b,t=h8[!v<<1|!u],q):v},q.y=function(b){return arguments.length?(u=b,t=h8[!v<<1|!u],q):u},q.extent=function(b){var x,g,f,e,c;return arguments.length?(r=[[0,0],[0,0]],v&&(x=b[0],g=b[1],u&&(x=x[0],g=g[0]),r[0][0]=x,r[1][0]=g,v.invert&&(x=v(x),g=v(g)),g<x&&(c=x,x=g,g=c),s[0][0]=x|0,s[1][0]=g|0),u&&(f=b[0],e=b[1],v&&(f=f[1],e=e[1]),r[0][1]=f,r[1][1]=e,u.invert&&(f=u(f),e=u(e)),e<f&&(c=f,f=e,e=c),s[0][1]=f|0,s[1][1]=e|0),q):(b=r||s,v&&(x=b[0][0],g=b[1][0],r||(x=s[0][0],g=s[1][0],v.invert&&(x=v.invert(x),g=v.invert(g)),g<x&&(c=x,x=g,g=c))),u&&(f=b[0][1],e=b[1][1],r||(f=s[0][1],e=s[1][1],u.invert&&(f=u.invert(f),e=u.invert(e)),e<f&&(c=f,f=e,e=c))),v&&u?[[x,f],[g,e]]:v?[x,g]:u&&[f,e])},q.clear=function(){return r=null,s[0][0]=s[0][1]=s[1][0]=s[1][1]=0,q},q.empty=function(){return v&&s[0][0]===s[1][0]||u&&s[0][1]===s[1][1]},d3.rebind(q,w,"on")};var ia={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h8=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function h(){this.on("mousedown.drag",g).on("touchstart.drag",g)}function g(){function p(){var i=w.parentNode,c=d3.event.changedTouches;return c?d3.touches(i,c)[0]:d3.mouse(i)}function o(){if(!w.parentNode){return b()}var i=p(),c=i[0]-s[0],j=i[1]-s[1];r|=c|j,s=i,iq(),v({type:"drag",x:i[0]+t[0],y:i[1]+t[1],dx:c,dy:j})}function b(){v({type:"dragend"}),r&&(iq(),d3.event.target===u&&q.on("click.drag",a,!0)),q.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function a(){iq(),q.on("click.drag",null)}var w=this,v=f.of(w,arguments),u=d3.event.target,t,s=p(),r=0,q=d3.select(window).on("mousemove.drag",o).on("touchmove.drag",o).on("mouseup.drag",b,!0).on("touchend.drag",b,!0);e?(t=e.apply(w,arguments),t=[t.x-s[0],t.y-s[1]]):t=[0,0],iq(),v({type:"dragstart"})}var f=il(h,"drag","dragstart","dragend"),e=null;return h.origin=function(b){return arguments.length?(e=b,h):e},d3.rebind(h,f,"on")},d3.behavior.zoom=function(){function I(){this.on("mousedown.zoom",C).on("mousewheel.zoom",B).on("mousemove.zoom",A).on("DOMMouseScroll.zoom",B).on("dblclick.zoom",z).on("touchstart.zoom",y).on("touchmove.zoom",x).on("touchend.zoom",y)}function H(a){return[(a[0]-T[0])/R,(a[1]-T[1])/R]}function G(a){return[a[0]*R+T[0],a[1]*R+T[1]]}function F(b){R=Math.max(P[0],Math.min(P[1],b))}function E(a,e){e=G(e),T[0]+=a[0]-e[0],T[1]+=a[1]-e[1]}function D(a){M&&M.domain(N.range().map(function(c){return(c-T[0])/R}).map(N.invert)),K&&K.domain(L.range().map(function(c){return(c-T[1])/R}).map(L.invert)),d3.event.preventDefault(),a({type:"zoom",scale:R,translate:T})}function C(){function l(){p=1,E(d3.mouse(s),m),D(r)}function k(){p&&iq(),o.on("mousemove.zoom",null).on("mouseup.zoom",null),p&&d3.event.target===q&&o.on("click.zoom",f,!0)}function f(){iq(),o.on("click.zoom",null)}var s=this,r=O.of(s,arguments),q=d3.event.target,p=0,o=d3.select(window).on("mousemove.zoom",l).on("mouseup.zoom",k),m=H(d3.mouse(s));window.focus(),iq()}function B(){S||(S=H(d3.mouse(this))),F(Math.pow(2,h0()*0.002)*R),E(d3.mouse(this),S),D(O.of(this,arguments))}function A(){S=null}function z(){var e=d3.mouse(this),c=H(e);F(d3.event.shiftKey?R/2:R*2),E(e,c),D(O.of(this,arguments))}function y(){var b=d3.touches(this),i=Date.now();Q=R,S={},b.forEach(function(e){S[e.identifier]=H(e)}),iq();if(b.length===1&&i-J<500){var f=b[0],c=H(b[0]);F(R*2),E(f,c),D(O.of(this,arguments))}J=i}function x(){var b=d3.touches(this),k=b[0],j=S[k.identifier];if(i=b[1]){var i,f=S[i.identifier];k=[(k[0]+i[0])/2,(k[1]+i[1])/2],j=[(j[0]+f[0])/2,(j[1]+f[1])/2],F(d3.event.scale*Q)}E(k,j),D(O.of(this,arguments))}var T=[0,0],S,R=1,Q,P=h2,O=il(I,"zoom"),N,M,L,K,J;return I.translate=function(a){return arguments.length?(T=a.map(Number),I):T},I.scale=function(b){return arguments.length?(R=+b,I):R},I.scaleExtent=function(b){return arguments.length?(P=b==null?h2:b.map(Number),I):P},I.x=function(b){return arguments.length?(M=b,N=b.copy(),I):M},I.y=function(b){return arguments.length?(K=b,L=b.copy(),I):K},d3.rebind(I,O,"on")};var h5,h2=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(f){var e=[],h=-1,g=f.length;while(++h<g){e.push(hX(f[h]))}return e}},d3.layout.chord=function(){function m(){var B={},k=[],i=d3.range(s),h=[],g,f,e,c,b;v=[],u=[],g=0,c=-1;while(++c<s){f=0,b=-1;while(++b<s){f+=t[c][b]}k.push(f),h.push(d3.range(s)),g+=f}q&&i.sort(function(x,j){return q(k[x],k[j])}),p&&h.forEach(function(x,j){x.sort(function(y,H){return p(t[j][y],t[j][H])})}),g=(2*Math.PI-r*s)/g,f=0,c=-1;while(++c<s){e=f,b=-1;while(++b<s){var G=i[c],F=h[G][b],E=t[G][F],D=f,C=f+=E*g;B[G+"-"+F]={index:G,subindex:F,startAngle:D,endAngle:C,value:E}}u[G]={index:G,startAngle:e,endAngle:f,value:(f-e)/g},f+=r}c=-1;while(++c<s){b=c-1;while(++b<s){var A=B[c+"-"+b],z=B[b+"-"+c];(A.value||z.value)&&v.push(A.value<z.value?{source:z,target:A}:{source:A,target:z})}}o&&l()}function l(){v.sort(function(e,c){return o((e.source.value+e.target.value)/2,(c.source.value+c.target.value)/2)})}var w={},v,u,t,s,r=0,q,p,o;return w.matrix=function(a){return arguments.length?(s=(t=a)&&t.length,v=u=null,w):t},w.padding=function(a){return arguments.length?(r=a,v=u=null,w):r},w.sortGroups=function(a){return arguments.length?(q=a,v=u=null,w):q},w.sortSubgroups=function(a){return arguments.length?(p=a,v=null,w):p},w.sortChords=function(a){return arguments.length?(o=a,v&&l(),w):o},w.chords=function(){return v||m(),v},w.groups=function(){return u||m(),u},w},d3.layout.force=function(){function v(b){return function(t,s,r,p,o){if(t.point!==b){var m=t.cx-b.x,l=t.cy-b.y,k=1/Math.sqrt(m*m+l*l);if((p-s)*k<C){var a=t.charge*k*k;return b.px-=m*a,b.py-=l*a,!0}if(t.point&&isFinite(k)){var a=t.pointCharge*k*k;b.px-=m*a,b.py-=l*a}}return !t.charge}}function q(a){hI(hK=a),hN=M}var M={},L=d3.dispatch("start","tick","end"),K=[1,1],J,I,H=0.9,G=ht,F=hq,E=-30,D=0.1,C=0.8,B,A=[],z=[],y,x,w;return M.tick=function(){if((I*=0.99)<0.005){return L.end({type:"end",alpha:I=0}),!0}var o=A.length,m=z.length,j,i,f,e,c,b,s,r,p;for(i=0;i<m;++i){f=z[i],e=f.source,c=f.target,r=c.x-e.x,p=c.y-e.y;if(b=r*r+p*p){b=I*x[i]*((b=Math.sqrt(b))-y[i])/b,r*=b,p*=b,c.x-=r*(s=e.weight/(c.weight+e.weight)),c.y-=p*s,e.x+=r*(s=1-s),e.y+=p*s}}if(s=I*D){r=K[0]/2,p=K[1]/2,i=-1;if(s){while(++i<o){f=A[i],f.x+=(r-f.x)*s,f.y+=(p-f.y)*s}}}if(E){hw(j=d3.geom.quadtree(A),I,w),i=-1;while(++i<o){(f=A[i]).fixed||j.visit(v(f))}}i=-1;while(++i<o){f=A[i],f.fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*H,f.y-=(f.py-(f.py=f.y))*H)}L.tick({type:"tick",alpha:I})},M.nodes=function(a){return arguments.length?(A=a,M):A},M.links=function(a){return arguments.length?(z=a,M):z},M.size=function(a){return arguments.length?(K=a,M):K},M.linkDistance=function(a){return arguments.length?(G=hv(a),M):G},M.distance=M.linkDistance,M.linkStrength=function(a){return arguments.length?(F=hv(a),M):F},M.friction=function(a){return arguments.length?(H=a,M):H},M.charge=function(a){return arguments.length?(E=typeof a=="function"?a:+a,M):E},M.gravity=function(a){return arguments.length?(D=a,M):D},M.theta=function(a){return arguments.length?(C=a,M):C},M.alpha=function(a){return arguments.length?(I?a>0?I=a:I=0:a>0&&(L.start({type:"start",alpha:I=a}),d3.timer(M.tick)),M):I},M.start=function(){function a(b,u){var t=s(r),l=-1,k=t.length,j;while(++l<k){if(!isNaN(j=t[l][b])){return j}}return Math.random()*u}function s(){if(!g){g=[];for(p=0;p<o;++p){g[p]=[]}for(p=0;p<m;++p){var b=z[p];g[b.source.index].push(b.target),g[b.target.index].push(b.source)}}return g[r]}var r,p,o=A.length,m=z.length,i=K[0],h=K[1],g,c;for(r=0;r<o;++r){(c=A[r]).index=r,c.weight=0}y=[],x=[];for(r=0;r<m;++r){c=z[r],typeof c.source=="number"&&(c.source=A[c.source]),typeof c.target=="number"&&(c.target=A[c.target]),y[r]=G.call(this,c,r),x[r]=F.call(this,c,r),++c.source.weight,++c.target.weight}for(r=0;r<o;++r){c=A[r],isNaN(c.x)&&(c.x=a("x",i)),isNaN(c.y)&&(c.y=a("y",h)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y)}w=[];if(typeof E=="function"){for(r=0;r<o;++r){w[r]=+E.call(this,A[r],r)}}else{for(r=0;r<o;++r){w[r]=E}}return M.resume()},M.resume=function(){return M.alpha(0.1)},M.stop=function(){return M.alpha(0)},M.drag=function(){J||(J=d3.behavior.drag().origin(hE).on("dragstart",q).on("drag",hz).on("dragend",hC)),this.on("mouseover.force",hI).on("mouseout.force",hF).call(J)},d3.rebind(M,L,"on")};var hN,hK;d3.layout.partition=function(){function j(s,r,q,p){var o=s.children;s.x=r,s.y=s.depth*p,s.dx=q,s.dy=p;if(o&&(l=o.length)){var m=-1,l,k,c;q=s.value?q/s.value:0;while(++m<l){j(k=o[m],r,c=k.value*q,p),r+=c}}}function i(l){var k=l.children,p=0;if(k&&(m=k.length)){var o=-1,m;while(++o<m){p=Math.max(p,i(k[o]))}}return 1+p}function h(c,b){var a=g.call(this,c,b);return j(a[0],0,f[0],f[1]/i(a[0])),a}var g=d3.layout.hierarchy(),f=[1,1];return h.size=function(b){return arguments.length?(f=b,h):f},d2(h,g)},d3.layout.pie=function(){function i(p,o){var f=p.map(function(l,m){return +h.call(i,l,m)}),e=+(typeof k=="function"?k.apply(this,arguments):k),c=((typeof j=="function"?j.apply(this,arguments):j)-k)/d3.sum(f),b=d3.range(p.length);g!=null&&b.sort(g===hm?function(m,l){return f[l]-f[m]}:function(l,m){return g(p[l],p[m])});var a=[];return b.forEach(function(l){a[l]={data:p[l],value:d=f[l],startAngle:e,endAngle:e+=d*c}}),a}var h=Number,g=hm,k=0,j=2*Math.PI;return i.value=function(a){return arguments.length?(h=a,i):h},i.sort=function(b){return arguments.length?(g=b,i):g},i.startAngle=function(b){return arguments.length?(k=b,i):k},i.endAngle=function(b){return arguments.length?(j=b,i):j},i};var hm={};d3.layout.stack=function(){function j(w,v){var u=w.map(function(p,q){return i.call(j,p,q)}),t=u.map(function(q,p){return q.map(function(x,r){return[l.call(j,x,r),k.call(j,x,r)]})}),s=h.call(j,t,v);u=d3.permute(u,s),t=d3.permute(t,s);var g=o.call(j,t,v),f=u.length,e=u[0].length,c,b,a;for(b=0;b<e;++b){m.call(j,u[0][b],a=g[b],t[0][b][1]);for(c=1;c<f;++c){m.call(j,u[c][b],a+=t[c-1][b][1],t[c][b][1])}}return w}var i=hE,h=g5,o=jx,m=he,l=hk,k=hh;return j.values=function(a){return arguments.length?(i=a,j):i},j.order=function(b){return arguments.length?(h=typeof b=="function"?b:ha.get(b)||g5,j):h},j.offset=function(b){return arguments.length?(o=typeof b=="function"?b:g7.get(b)||jx,j):o},j.x=function(b){return arguments.length?(l=b,j):l},j.y=function(b){return arguments.length?(k=b,j):k},j.out=function(b){return arguments.length?(m=b,j):m},j};var ha=d3.map({"inside-out":function(w){var v=w.length,u,t,s=w.map(g2),r=w.map(e3),q=d3.range(v).sort(function(e,c){return s[e]-s[c]}),p=0,o=0,m=[],l=[];for(u=0;u<v;++u){t=q[u],p<o?(p+=r[t],m.push(t)):(o+=r[t],l.push(t))}return l.reverse().concat(m)},reverse:function(b){return d3.range(b.length).reverse()},"default":g5}),g7=d3.map({silhouette:function(s){var r=s.length,q=s[0].length,p=[],o=0,m,l,k,j=[];for(l=0;l<q;++l){for(m=0,k=0;m<r;m++){k+=s[m][l][1]}k>o&&(o=k),p.push(k)}for(l=0;l<q;++l){j[l]=(o-p[l])/2}return j},wiggle:function(D){var C=D.length,B=D[0],A=B.length,z=0,y,x,w,v,u,t,s,r,q,p=[];p[0]=r=q=0;for(x=1;x<A;++x){for(y=0,v=0;y<C;++y){v+=D[y][x][1]}for(y=0,u=0,s=B[x][0]-B[x-1][0];y<C;++y){for(w=0,t=(D[y][x][1]-D[y][x-1][1])/(2*s);w<y;++w){t+=(D[w][x][1]-D[w][x-1][1])/s}u+=t*D[y][x][1]}p[x]=r-=v?u/v*s:0,r<q&&(q=r)}for(x=0;x<A;++x){p[x]-=q}return p},expand:function(j){var i=j.length,q=j[0].length,p=1/i,o,m,l,k=[];for(m=0;m<q;++m){for(o=0,l=0;o<i;o++){l+=j[o][m][1]}if(l){for(o=0;o<i;o++){j[o][m][1]/=l}}else{for(o=0;o<i;o++){j[o][m][1]=p}}}for(m=0;m<q;++m){k[m]=0}return k},zero:jx});d3.layout.histogram=function(){function h(w,v){var u=[],t=w.map(f,this),s=j.call(this,t,v),r=i.call(this,s,t,v),q,v=-1,p=t.length,c=r.length-1,b=g?1:1/p,a;while(++v<c){q=u[v]=[],q.dx=r[v+1]-(q.x=r[v]),q.y=0}if(c>0){v=-1;while(++v<p){a=t[v],a>=s[0]&&a<=s[1]&&(q=u[d3.bisect(r,a,1,c)-1],q.y+=b,q.push(w[v]))}}return u}var g=!0,f=Number,j=d5,i=d9;return h.value=function(b){return arguments.length?(f=b,h):f},h.range=function(b){return arguments.length?(j=hv(b),h):j},h.bins=function(b){return arguments.length?(i=typeof b=="number"?function(a){return d6(a,b)}:hv(b),h):i},h.frequency=function(a){return arguments.length?(g=!!a,h):g},h},d3.layout.hierarchy=function(){function l(u,t,s){var r=h.call(j,u,t),q=c1?u:{data:u};q.depth=t,s.push(q);if(r&&(e=r.length)){var g=-1,e,c=q.children=[],b=0,a=t+1;while(++g<e){d=l(r[g],a,s),d.parent=q,c.push(d),b+=d.value}i&&c.sort(i),m&&(q.value=b)}else{m&&(q.value=+m.call(j,u,t)||0)}return q}function k(f,c){var r=f.children,q=0;if(r&&(o=r.length)){var p=-1,o,g=c+1;while(++p<o){q+=k(r[p],g)}}else{m&&(q=+m.call(j,c1?f:f.data,c)||0)}return m&&(f.value=q),q}function j(e){var c=[];return l(e,0,c),c}var i=c5,h=d0,m=c7;return j.sort=function(a){return arguments.length?(i=a,j):i},j.children=function(b){return arguments.length?(h=b,j):h},j.value=function(b){return arguments.length?(m=b,j):m},j.revalue=function(b){return k(b,0),b},j};var c1=!1;d3.layout.pack=function(){function g(o,m){var l=f.call(this,o,m),k=l[0];k.x=0,k.y=0,a5(k);var j=e[0],b=e[1],a=1/Math.max(2*k.r/j,2*k.r/b);return a4(k,j/2,b/2,a),l}var f=d3.layout.hierarchy().sort(b9),e=[1,1];return g.size=function(b){return arguments.length?(e=b,g):e},d2(g,f)},d3.layout.cluster=function(){function g(x,w){var v=f.call(this,x,w),u=v[0],t,s=0,r,q;gP(u,function(i){var j=i.children;j&&j.length?(i.x=aX(j),i.y=a0(j)):(i.x=t?s+=e(i,t):0,i.y=0,t=i)});var p=aW(u),c=aT(u),b=p.x-e(p,c)/2,a=c.x+e(c,p)/2;return gP(u,function(i){i.x=(i.x-b)/(a-b)*h[0],i.y=(1-(u.y?i.y/u.y:1))*h[1]}),v}var f=d3.layout.hierarchy().sort(null).value(null),e=aS,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d2(g,f)},d3.layout.tree=function(){function g(z,y){function v(H,G){var F=H.children,E=H._tree;if(F&&(D=F.length)){var D,C=F[0],B,A=C,p,o=-1;while(++o<D){p=F[o],v(p,B),A=t(p,B,A),B=p}gN(H);var j=0.5*(C._tree.prelim+p._tree.prelim);G?(E.prelim=G._tree.prelim+e(H,G),E.mod=E.prelim-j):E.prelim=j}else{G&&(E.prelim=G._tree.prelim+e(H,G))}}function u(j,i){j.x=j._tree.prelim+i;var m=j.children;if(m&&(k=m.length)){var l=-1,k;i+=j._tree.mod;while(++l<k){u(m[l],i)}}}function t(J,I,H){if(I){var G=J,F=J,E=I,D=J.parent.children[0],C=G._tree.mod,B=F._tree.mod,A=E._tree.mod,p=D._tree.mod,o;while(E=g0(E),G=g1(G),E&&G){D=g1(D),F=g0(F),F._tree.ancestor=J,o=E._tree.prelim+A-G._tree.prelim-C+e(E,G),o>0&&(gL(gJ(E,J,H),J,o),C+=o,B+=o),A+=E._tree.mod,C+=G._tree.mod,p+=D._tree.mod,B+=F._tree.mod}E&&!g0(F)&&(F._tree.thread=E,F._tree.mod+=A-B),G&&!g1(D)&&(D._tree.thread=G,D._tree.mod+=C-p,H=J)}return H}var x=f.call(this,z,y),w=x[0];gP(w,function(j,i){j._tree={ancestor:j,prelim:0,mod:0,change:0,shift:0,number:i?i._tree.number+1:0}}),v(w),u(w,-w._tree.prelim);var s=gX(w,gT),r=gX(w,gV),q=gX(w,gR),c=s.x-e(s,r)/2,b=r.x+e(r,s)/2,a=q.depth||1;return gP(w,function(i){i.x=(i.x-c)/(b-c)*h[0],i.y=i.depth/a*h[1],delete i._tree}),x}var f=d3.layout.hierarchy().sort(null).value(null),e=aS,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d2(g,f)},d3.layout.treemap=function(){function t(h,g){var l=-1,k=h.length,j,i;while(++l<k){i=(j=h[l]).value*(g<0?0:g),j.area=isNaN(i)||i<=0?0:i}}function s(G){var F=G.children;if(F&&F.length){var E=x(G),D=[],C=F.slice(),m,l=Infinity,j,i=Math.min(E.dx,E.dy),e;t(C,E.dx*E.dy/G.value),D.area=0;while((e=C.length)>0){D.push(m=C[e-1]),D.area+=m.area,(j=q(D,i))<=l?(C.pop(),l=j):(D.area-=D.pop().area,p(D,i,E,!1),i=Math.min(E.dx,E.dy),D.length=D.area=0,l=Infinity)}D.length&&(p(D,i,E,!0),D.length=D.area=0),F.forEach(s)}}function r(h){var e=h.children;if(e&&e.length){var l=x(h),k=e.slice(),j,i=[];t(k,l.dx*l.dy/h.value),i.area=0;while(j=k.pop()){i.push(j),i.area+=j.area,j.z!=null&&(p(i,j.z?l.dx:l.dy,l,!k.length),i.length=i.area=0)}e.forEach(r)}}function q(j,h){var E=j.area,D,C=0,m=Infinity,l=-1,k=j.length;while(++l<k){if(!(D=j[l].area)){continue}D<m&&(m=D),D>C&&(C=D)}return E*=E,h*=h,E?Math.max(h*C*u/E,E/(h*m*u)):Infinity}function p(I,H,G,F){var E=-1,D=I.length,C=G.x,m=G.y,l=H?A(I.area/H):0,b;if(H==G.dx){if(F||l>G.dy){l=G.dy}while(++E<D){b=I[E],b.x=C,b.y=m,b.dy=l,C+=b.dx=Math.min(G.x+G.dx-C,l?A(b.area/l):0)}b.z=!0,b.dx+=G.x+G.dx-C,G.y+=l,G.dy-=l}else{if(F||l>G.dx){l=G.dx}while(++E<D){b=I[E],b.x=C,b.y=m,b.dx=l,m+=b.dy=Math.min(G.y+G.dy-m,l?A(b.area/l):0)}b.z=!1,b.dy+=G.y+G.dy-m,G.x+=l,G.dx-=l}}function o(a){var f=v||B(a),c=f[0];return c.x=0,c.y=0,c.dx=z[0],c.dy=z[1],v&&B.revalue(c),t([c],c.dx*c.dy/c.value),(v?r:s)(c),w&&(v=f),f}var B=d3.layout.hierarchy(),A=Math.round,z=[1,1],y=null,x=gH,w=!1,v,u=0.5*(1+Math.sqrt(5));return o.size=function(b){return arguments.length?(z=b,o):z},o.padding=function(g){function e(a){var f=g.call(o,a,a.depth);return f==null?gH(a):gF(a,typeof f=="number"?[f,f,f,f]:f)}function i(a){return gF(a,g)}if(!arguments.length){return y}var h;return x=(y=g)==null?gH:(h=typeof g)==="function"?e:h==="number"?(g=[g,g,g,g],i):i,o},o.round=function(b){return arguments.length?(A=b?Math.round:Number,o):A!=Number},o.sticky=function(b){return arguments.length?(w=b,v=null,o):w},o.ratio=function(b){return arguments.length?(u=b,o):u},d2(o,B)},d3.csv=function(e,c){d3.text(e,"text/csv",function(b){c(b&&d3.csv.parse(b))})},d3.csv.parse=function(e){var c;return d3.csv.parseRows(e,function(b,j){if(j){var i={},h=-1,g=c.length;while(++h<g){i[c[h]]=b[h]}return i}return c=b,null})},d3.csv.parseRows=function(w,v){function m(){if(r.lastIndex>=w.length){return t}if(o){return o=!1,u}var a=r.lastIndex;if(w.charCodeAt(a)===34){var i=a;while(i++<w.length){if(w.charCodeAt(i)===34){if(w.charCodeAt(i+1)!==34){break}i++}}r.lastIndex=i+2;var f=w.charCodeAt(i+1);return f===13?(o=!0,w.charCodeAt(i+2)===10&&r.lastIndex++):f===10&&(o=!0),w.substring(a+1,i).replace(/""/g,'"')}var c=r.exec(w);return c?(o=c[0].charCodeAt(0)!==44,w.substring(a,c.index)):(r.lastIndex=w.length,w.substring(a))}var u={},t={},s=[],r=/\r\n|[,\r\n]/g,q=0,p,o;r.lastIndex=0;while((p=m())!==t){var l=[];while(p!==u&&p!==t){l.push(p),p=m()}if(v&&!(l=v(l,q++))){continue}s.push(l)}return s},d3.csv.format=function(b){return b.map(gD).join("\n")},d3.geo={};var gy=Math.PI/180;d3.geo.azimuthal=function(){function j(z){var y=z[0]*gy-o,x=z[1]*gy,w=Math.cos(y),v=Math.sin(y),u=Math.cos(x),t=Math.sin(x),h=s!=="orthographic"?k*t+l*u*w:null,g,e=s==="stereographic"?1/(1+h):s==="gnomonic"?1/h:s==="equidistant"?(g=Math.acos(h),g?g/Math.sin(g):0):s==="equalarea"?Math.sqrt(2/(1+h)):1,c=e*u*v,a=e*(k*u*w-l*t);return[q*c+p[0],q*a+p[1]]}var s="orthographic",r,q=200,p=[480,250],o,m,l,k;return j.invert=function(c){var u=(c[0]-p[0])/q,t=(c[1]-p[1])/q,h=Math.sqrt(u*u+t*t),g=s==="stereographic"?2*Math.atan(h):s==="gnomonic"?Math.atan(h):s==="equidistant"?h:s==="equalarea"?2*Math.asin(0.5*h):Math.asin(h),e=Math.sin(g),a=Math.cos(g);return[(o+Math.atan2(u*e,h*l*a+t*k*e))/gy,Math.asin(a*k-(h?t*e*l/h:0))/gy]},j.mode=function(a){return arguments.length?(s=a+"",j):s},j.origin=function(b){return arguments.length?(r=b,o=r[0]*gy,m=r[1]*gy,l=Math.cos(m),k=Math.sin(m),j):r},j.scale=function(b){return arguments.length?(q=+b,j):q},j.translate=function(b){return arguments.length?(p=[+b[0],+b[1]],j):p},j.origin([0,0])},d3.geo.albers=function(){function l(e){var c=p*(gy*e[0]-q),f=Math.sqrt(o-2*p*Math.sin(gy*e[1]))/p;return[s*f*Math.sin(c)+r[0],s*(f*Math.cos(c)-m)+r[1]]}function k(){var g=gy*t[0],f=gy*t[1],e=gy*u[1],b=Math.sin(g),a=Math.cos(g);return q=gy*u[0],p=0.5*(b+Math.sin(f)),o=a*a+2*p*b,m=Math.sqrt(o-2*p*Math.sin(e))/p,l}var u=[-98,38],t=[29.5,45.5],s=1000,r=[480,250],q,p,o,m;return l.invert=function(f){var c=(f[0]-r[0])/s,v=(f[1]-r[1])/s,h=m+v,g=Math.atan2(c,h),e=Math.sqrt(c*c+h*h);return[(q+g/p)/gy,Math.asin((o-e*e*p*p)/(2*p))/gy]},l.origin=function(a){return arguments.length?(u=[+a[0],+a[1]],k()):u},l.parallels=function(b){return arguments.length?(t=[+b[0],+b[1]],k()):t},l.scale=function(b){return arguments.length?(s=+b,l):s},l.translate=function(b){return arguments.length?(r=[+b[0],+b[1]],l):r},k()},d3.geo.albersUsa=function(){function h(c){var b=c[0],a=c[1];return(a>50?f:b<-140?j:a<21?i:g)(c)}var g=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),j=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return h.scale=function(a){return arguments.length?(g.scale(a),f.scale(a*0.6),j.scale(a),i.scale(a*1.5),h.translate(g.translate())):g.scale()},h.translate=function(e){if(!arguments.length){return g.translate()}var c=g.scale()/1000,b=e[0],a=e[1];return g.translate(e),f.translate([b-400*c,a+170*c]),j.translate([b-190*c,a+200*c]),i.translate([b+580*c,a+430*c]),h},h.scale(g.scale())},d3.geo.bonne=function(){function j(f){var e=f[0]*gy-o,c=f[1]*gy-m;if(l){var b=k+l-c,a=e*Math.cos(c)/b;e=b*Math.sin(a),c=b*Math.cos(a)-k}else{e*=Math.cos(c),c*=-1}return[i*e+h[0],i*c+h[1]]}var i=200,h=[480,250],o,m,l,k;return j.invert=function(f){var e=(f[0]-h[0])/i,c=(f[1]-h[1])/i;if(l){var b=k+c,a=Math.sqrt(e*e+b*b);c=k+l-a,e=o+a*Math.atan2(e,b)/Math.cos(c)}else{c*=-1,e/=Math.cos(c)}return[e/gy,c/gy]},j.parallel=function(b){return arguments.length?(k=1/Math.tan(l=b*gy),j):l/gy},j.origin=function(b){return arguments.length?(o=b[0]*gy,m=b[1]*gy,j):[o/gy,m/gy]},j.scale=function(a){return arguments.length?(i=+a,j):i},j.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],j):h},j.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function g(h){var b=h[0]/360,a=-h[1]/360;return[f*b+e[0],f*a+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,-360*a]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.mercator=function(){function g(h){var b=h[0]/360,a=-(Math.log(Math.tan(Math.PI/4+h[1]*gy/2))/gy)/360;return[f*b+e[0],f*Math.max(-0.5,Math.min(0.5,a))+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,2*Math.atan(Math.exp(-360*a*gy))/gy-90]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.path=function(){function t(b,a){return typeof w=="function"&&(v=gw(w.apply(this,arguments))),r(b)||null}function s(b){return u(b).join(",")}function p(f){var e=l(f[0]),h=0,g=f.length;while(++h<g){e-=l(f[h])}return e}function o(D){var C=d3.geom.polygon(D[0].map(u)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z=A[0],y=A[1],x=B,k=0,c=D.length;while(++k<c){C=d3.geom.polygon(D[k].map(u)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z-=A[0],y-=A[1],x-=B}return[z,y,6*x]}function l(b){return Math.abs(d3.geom.polygon(b.map(u)).area())}var w=4.5,v=gw(w),u=d3.geo.albersUsa(),r=gx({FeatureCollection:function(g){var f=[],j=g.features,i=-1,h=j.length;while(++i<h){f.push(r(j[i].geometry))}return f.join("")},Feature:function(b){return r(b.geometry)},Point:function(b){return"M"+s(b.coordinates)+v},MultiPoint:function(b){var j=[],i=b.coordinates,h=-1,e=i.length;while(++h<e){j.push("M",s(i[h]),v)}return j.join("")},LineString:function(g){var e=["M"],j=g.coordinates,i=-1,h=j.length;while(++i<h){e.push(s(j[i]),"L")}return e.pop(),e.join("")},MultiLineString:function(j){var e=[],B=j.coordinates,A=-1,z=B.length,y,x,k;while(++A<z){y=B[A],x=-1,k=y.length,e.push("M");while(++x<k){e.push(s(y[x]),"L")}e.pop()}return e.join("")},Polygon:function(j){var e=[],B=j.coordinates,A=-1,z=B.length,y,x,k;while(++A<z){y=B[A],x=-1;if((k=y.length-1)>0){e.push("M");while(++x<k){e.push(s(y[x]),"L")}e[e.length-1]="Z"}}return e.join("")},MultiPolygon:function(G){var F=[],E=G.coordinates,D=-1,C=E.length,B,A,z,y,x,e;while(++D<C){B=E[D],A=-1,z=B.length;while(++A<z){y=B[A],x=-1;if((e=y.length-1)>0){F.push("M");while(++x<e){F.push(s(y[x]),"L")}F[F.length-1]="Z"}}}return F.join("")},GeometryCollection:function(g){var f=[],j=g.geometries,i=-1,h=j.length;while(++i<h){f.push(r(j[i]))}return f.join("")}}),q=t.area=gx({FeatureCollection:function(g){var f=0,j=g.features,i=-1,h=j.length;while(++i<h){f+=q(j[i])}return f},Feature:function(b){return q(b.geometry)},Polygon:function(b){return p(b.coordinates)},MultiPolygon:function(g){var f=0,j=g.coordinates,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f},GeometryCollection:function(g){var f=0,j=g.geometries,i=-1,h=j.length;while(++i<h){f+=q(j[i])}return f}},0),m=t.centroid=gx({Feature:function(b){return m(b.geometry)},Polygon:function(e){var c=o(e.coordinates);return[c[0]/c[2],c[1]/c[2]]},MultiPolygon:function(D){var C=0,B=D.coordinates,A,z=0,y=0,x=0,k=-1,i=B.length;while(++k<i){A=o(B[k]),z+=A[0],y+=A[1],x+=A[2]}return[z/x,y/x]}});return t.projection=function(b){return u=b,t},t.pointRadius=function(a){return typeof a=="function"?w=a:(w=+a,v=gw(w)),t},t},d3.geo.bounds=function(g){var f=Infinity,j=Infinity,i=-Infinity,h=-Infinity;return gu(g,function(b,c){b<f&&(f=b),b>i&&(i=b),c<j&&(j=c),c>h&&(h=c)}),[[f,j],[i,h]]};var gr={Feature:gq,FeatureCollection:f8,GeometryCollection:f6,LineString:f4,MultiLineString:f2,MultiPoint:f4,MultiPolygon:f0,Point:e8,Polygon:ic};d3.geo.circle=function(){function o(){}function m(b){return p.distance(b)<q}function k(z){var y=-1,x=z.length,w=[],v,u,t,i,c;while(++y<x){c=p.distance(t=z[y]),c<q?(u&&w.push(aP(u,t)((i-q)/(i-c))),w.push(t),v=u=null):(u=t,!v&&w.length&&(w.push(aP(w[w.length-1],u)((q-i)/(c-i))),v=u)),i=c}return u&&w.length&&(c=p.distance(t=w[0]),w.push(aP(u,t)((i-q)/(i-c)))),j(w)}function j(u){var t=0,A=u.length,z,y,x=A?[u[0]]:u,w,v=p.source();while(++t<A){w=p.source(u[t-1])(u[t]).coordinates;for(z=0,y=w.length;++z<y;){x.push(w[z])}}return p.source(v),x}var s=[0,0],r=89.99,q=r*gy,p=d3.geo.greatArc().target(hE);o.clip=function(a){return p.source(typeof s=="function"?s.apply(this,arguments):s),l(a)};var l=gx({FeatureCollection:function(e){var c=e.features.map(l).filter(hE);return c&&(e=Object.create(e),e.features=c,e)},Feature:function(e){var c=l(e.geometry);return c&&(e=Object.create(e),e.geometry=c,e)},Point:function(b){return m(b.coordinates)&&b},MultiPoint:function(e){var c=e.coordinates.filter(m);return c.length&&{type:e.type,coordinates:c}},LineString:function(e){var c=k(e.coordinates);return c.length&&(e=Object.create(e),e.coordinates=c,e)},MultiLineString:function(e){var c=e.coordinates.map(k).filter(function(b){return b.length});return c.length&&(e=Object.create(e),e.coordinates=c,e)},Polygon:function(e){var c=e.coordinates.map(k);return c[0].length&&(e=Object.create(e),e.coordinates=c,e)},MultiPolygon:function(e){var c=e.coordinates.map(function(b){return b.map(k)}).filter(function(b){return b[0].length});return c.length&&(e=Object.create(e),e.coordinates=c,e)},GeometryCollection:function(e){var c=e.geometries.map(l).filter(hE);return c.length&&(e=Object.create(e),e.geometries=c,e)}});return o.origin=function(a){return arguments.length?(s=a,o):s},o.angle=function(b){return arguments.length?(q=(r=+b)*gy,o):r},o.precision=function(b){return arguments.length?(p.precision(b),o):p.precision()},o},d3.geo.greatArc=function(){function g(){var l=typeof f=="function"?f.apply(this,arguments):f,k=typeof e=="function"?e.apply(this,arguments):e,j=aP(l,k),c=h/j.d,b=0,a=[l];while((b+=c)<1){a.push(j(b))}return a.push(k),{type:"LineString",coordinates:a}}var f=e5,e=aQ,h=6*gy;return g.distance=function(){var b=typeof f=="function"?f.apply(this,arguments):f,a=typeof e=="function"?e.apply(this,arguments):e;return aP(b,a).d},g.source=function(a){return arguments.length?(f=a,g):f},g.target=function(b){return arguments.length?(e=b,g):e},g.precision=function(b){return arguments.length?(h=b*gy,g):h/gy},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(w,v){var u=v||aM(w),t=[],s=u[0],r=u[1],q=0,p=0,o=NaN,m=NaN,l=0;do{l=0,w(s-1,r-1)&&(l+=1),w(s,r-1)&&(l+=2),w(s-1,r)&&(l+=4),w(s,r)&&(l+=8),l===6?(q=m===-1?-1:1,p=0):l===9?(q=0,p=o===1?-1:1):(q=aO[l],p=aN[l]),q!=o&&p!=m&&(t.push([s,r]),o=q,m=p),s+=q,r+=p}while(u[0]!=s||u[1]!=r);return t};var aO=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],aN=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(H){if(H.length<3){return[]}var G=H.length,F=G-1,E=[],D=[],C,B,A=0,z,y,x,w,v,u,t,s;for(C=1;C<G;++C){H[C][1]<H[A][1]?A=C:H[C][1]==H[A][1]&&(A=H[C][0]<H[A][0]?C:A)}for(C=0;C<G;++C){if(C===A){continue}y=H[C][1]-H[A][1],z=H[C][0]-H[A][0],E.push({angle:Math.atan2(y,z),index:C})}E.sort(function(e,c){return e.angle-c.angle}),t=E[0].angle,u=E[0].index,v=0;for(C=1;C<F;++C){B=E[C].index,t==E[C].angle?(z=H[u][0]-H[A][0],y=H[u][1]-H[A][1],x=H[B][0]-H[A][0],w=H[B][1]-H[A][1],z*z+y*y>=x*x+w*w?E[C].index=-1:(E[v].index=-1,t=E[C].angle,v=C,u=B)):(t=E[C].angle,v=C,u=B)}D.push(A);for(C=0,B=0;C<2;++B){E[B].index!==-1&&(D.push(E[B].index),C++)}s=D.length;for(;B<F;++B){if(E[B].index===-1){continue}while(!aL(D[s-2],D[s-1],E[B].index,H)){--s}D[s++]=E[B].index}var r=[];for(C=0;C<s;++C){r.push(H[D[C]])}return r},d3.geom.polygon=function(b){return b.area=function(){var a=0,h=b.length,g=b[h-1][0]*b[0][1],f=b[h-1][1]*b[0][0];while(++a<h){g+=b[a-1][0]*b[a][1],f+=b[a-1][1]*b[a][0]}return(f-g)*0.5},b.centroid=function(a){var q=-1,p=b.length,o=0,m=0,l,k=b[p-1],j;arguments.length||(a=-1/(6*b.area()));while(++q<p){l=k,k=b[q],j=l[0]*k[1]-k[0]*l[1],o+=(l[0]+k[0])*j,m+=(l[1]+k[1])*j}return[o*a,m*a]},b.clip=function(u){var t,s=-1,r=b.length,q,p,o=b[r-1],m,l,a;while(++s<r){t=u.slice(),u.length=0,m=b[s],l=t[(p=t.length)-1],q=-1;while(++q<p){a=t[q],aK(a,o,m)?(aK(l,o,m)||u.push(aJ(l,a,o,m)),u.push(a)):aK(l,o,m)&&u.push(aJ(l,a,o,m)),l=a}o=m}return u},b},d3.geom.voronoi=function(e){var c=e.map(function(){return[]});return aH(e,function(s){var r,q,p,o,m,l;s.a===1&&s.b>=0?(r=s.ep.r,q=s.ep.l):(r=s.ep.l,q=s.ep.r),s.a===1?(m=r?r.y:-1000000,p=s.c-s.b*m,l=q?q.y:1000000,o=s.c-s.b*l):(p=r?r.x:-1000000,m=s.c-s.a*p,o=q?q.x:1000000,l=s.c-s.a*o);var k=[p,m],b=[o,l];c[s.region.l.index].push(k,b),c[s.region.r.index].push(k,b)}),c.map(function(a,h){var g=e[h][0],f=e[h][1];return a.forEach(function(b){b.angle=Math.atan2(b[0]-g,b[1]-f)}),a.sort(function(j,i){return j.angle-i.angle}).filter(function(b,i){return !i||b.angle-a[i-1].angle>1e-10})})};var aI={l:"r",r:"l"};d3.geom.delaunay=function(f){var e=f.map(function(){return[]}),g=[];return aH(f,function(a){e[a.region.l.index].push(f[a.region.r.index])}),e.forEach(function(a,o){var m=f[o],l=m[0],k=m[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-l,b[1]-k)}),a.sort(function(i,h){return i.angle-h.angle});for(var j=0,c=a.length-1;j<c;j++){g.push([m,a[j],a[j+1]])}}),g},d3.geom.quadtree=function(A,z,y,x,w){function q(i,h,B,m,l,k){if(isNaN(h.x)||isNaN(h.y)){return}if(i.leaf){var j=i.point;j?Math.abs(j.x-h.x)+Math.abs(j.y-h.y)<0.01?p(i,h,B,m,l,k):(i.point=null,p(i,j,B,m,l,k),p(i,h,B,m,l,k)):i.point=h}else{p(i,h,B,m,l,k)}}function p(J,I,H,G,F,E){var D=(H+F)*0.5,C=(G+E)*0.5,B=I.x>=D,m=I.y>=C,k=(m<<1)+B;J.leaf=!1,J=J.nodes[k]||(J.nodes[k]=aG()),B?H=D:F=D,m?G=C:E=C,q(J,I,H,G,F,E)}var v,u=-1,t=A.length;t&&isNaN(A[0].x)&&(A=A.map(aE));if(arguments.length<5){if(arguments.length===3){w=x=y,y=z}else{z=y=Infinity,x=w=-Infinity;while(++u<t){v=A[u],v.x<z&&(z=v.x),v.y<y&&(y=v.y),v.x>x&&(x=v.x),v.y>w&&(w=v.y)}var s=x-z,r=w-y;s>r?w=y+s:x=z+r}}var o=aG();return o.add=function(b){q(o,b,z,y,x,w)},o.visit=function(b){aF(b,o,z,y,x,w)},A.forEach(o.add),o},d3.time={};var aD=Date;aC.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){aB.setUTCDate.apply(this._,arguments)},setDay:function(){aB.setUTCDay.apply(this._,arguments)},setFullYear:function(){aB.setUTCFullYear.apply(this._,arguments)},setHours:function(){aB.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){aB.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){aB.setUTCMinutes.apply(this._,arguments)},setMonth:function(){aB.setUTCMonth.apply(this._,arguments)},setSeconds:function(){aB.setUTCSeconds.apply(this._,arguments)},setTime:function(){aB.setTime.apply(this._,arguments)}};var aB=Date.prototype;d3.time.format=function(f){function g(l){var k=[],j=-1,i=0,b,a;while(++j<e){f.charCodeAt(j)==37&&(k.push(f.substring(i,j),(a=av[b=f.charAt(++j)])?a(l):b),i=j+1)}return k.push(f.substring(i,j)),k.join("")}var e=f.length;return g.parse=function(a){var j={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},i=aA(j,f,a,0);if(i!=a.length){return null}"p" in j&&(j.H=j.H%12+j.p*12);var h=new aD;return h.setFullYear(j.y,j.m,j.d),h.setHours(j.H,j.M,j.S,j.L),h},g.toString=function(){return f},g};var az=d3.format("02d"),ay=d3.format("03d"),ax=d3.format("04d"),aw=d3.format("2d"),av={a:function(b){return e2[b.getDay()].substring(0,3)},A:function(b){return e2[b.getDay()]},b:function(b){return c9[b.getMonth()].substring(0,3)},B:function(b){return c9[b.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(b){return az(b.getDate())},e:function(b){return aw(b.getDate())},H:function(b){return az(b.getHours())},I:function(b){return az(b.getHours()%12||12)},j:function(b){return ay(1+d3.time.dayOfYear(b))},L:function(b){return ay(b.getMilliseconds())},m:function(b){return az(b.getMonth()+1)},M:function(b){return az(b.getMinutes())},p:function(b){return b.getHours()>=12?"PM":"AM"},S:function(b){return az(b.getSeconds())},U:function(b){return az(d3.time.sundayOfYear(b))},w:function(b){return b.getDay()},W:function(b){return az(d3.time.mondayOfYear(b))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(b){return az(b.getFullYear()%100)},Y:function(b){return ax(b.getFullYear()%10000)},Z:aY,"%":function(b){return"%"}},au={a:at,A:ar,b:e1,B:d7,c:c8,d:b4,e:b4,H:b2,I:b2,L:a6,m:b6,M:b0,p:a2,S:a8,x:c6,X:c4,y:c0,Y:c2},aq=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,e4=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,e2=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d8=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),d4=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,d1=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),c9=["January","February","March","April","May","June","July","August","September","October","November","December"],a3=/\s*\d+/,aZ=d3.map({am:0,pm:1});d3.time.format.utc=function(f){function g(b){try{aD=aC;var h=new aD;return h._=b,e(h)}finally{aD=Date}}var e=d3.time.format(f);return g.parse=function(b){try{aD=aC;var h=e.parse(b);return h&&h._}finally{aD=Date}},g.toString=e.toString,g};var aV=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?aU:aV,aU.parse=function(b){return new Date(b)},aU.toString=aV.toString,d3.time.second=gY(function(b){return new aD(Math.floor(b/1000)*1000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*1000)},function(b){return b.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=gY(function(b){return new aD(Math.floor(b/60000)*60000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*60000)},function(b){return b.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=gY(function(e){var c=e.getTimezoneOffset()/60;return new aD((Math.floor(e/3600000-c)+c)*3600000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*3600000)},function(b){return b.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=gY(function(b){return new aD(b.getFullYear(),b.getMonth(),b.getDate())},function(e,c){e.setDate(e.getDate()+c)},function(b){return b.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var c=d3.time.year(e);return Math.floor((e-c)/86400000-(e.getTimezoneOffset()-c.getTimezoneOffset())/1440)},e2.forEach(function(f,e){f=f.toLowerCase(),e=7-e;var g=d3.time[f]=gY(function(b){return(b=d3.time.day(b)).setDate(b.getDate()-(b.getDay()+e)%7),b},function(h,c){h.setDate(h.getDate()+Math.floor(c)*7)},function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)-(h!==e)});d3.time[f+"s"]=g.range,d3.time[f+"s"].utc=g.utc.range,d3.time[f+"OfYear"]=function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=gY(function(b){return new aD(b.getFullYear(),b.getMonth(),1)},function(e,c){e.setMonth(e.getMonth()+c)},function(b){return b.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=gY(function(b){return new aD(b.getFullYear(),0,1)},function(e,c){e.setFullYear(e.getFullYear()+c)},function(b){return b.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var aj=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],ai=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ah=[[d3.time.format("%Y"),function(b){return !0}],[d3.time.format("%B"),function(b){return b.getMonth()}],[d3.time.format("%b %d"),function(b){return b.getDate()!=1}],[d3.time.format("%a %d"),function(b){return b.getDay()&&b.getDate()!=1}],[d3.time.format("%I %p"),function(b){return b.getHours()}],[d3.time.format("%I:%M"),function(b){return b.getMinutes()}],[d3.time.format(":%S"),function(b){return b.getSeconds()}],[d3.time.format(".%L"),function(b){return b.getMilliseconds()}]],ag=d3.scale.linear(),af=am(ah);ai.year=function(e,c){return ag.domain(e.map(ak)).ticks(c).map(al)},d3.time.scale=function(){return ap(d3.scale.linear(),ai,af)};var ae=ai.map(function(b){return[b[0].utc,b[1]]}),ad=[[d3.time.format.utc("%Y"),function(b){return !0}],[d3.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(b){return b.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],ac=am(ad);ae.year=function(e,c){return ag.domain(e.map(aa)).ticks(c).map(ab)},d3.time.scale.utc=function(){return ap(d3.scale.linear(),ae,ac)}})();Raphael=(function(){var bh=/[, ]+/,cf=/^(circle|rect|path|ellipse|text|image)$/,bu=document,bH=window,a9={was:"Raphael" in bH,is:bH.Raphael},bQ=function(){if(bQ.is(arguments[0],"array")){var h=arguments[0],g=R[b7](bQ,h.splice(0,3+bQ.is(h[0],bS))),b=g.set();for(var c=0,a=h[a8];c<a;c++){var f=h[c]||{};cf.test(f.type)&&b[be](g[f.type]().attr(f))}return b}return R[b7](bQ,arguments)},ca=function(){},ci="appendChild",b7="apply",cb="concat",bJ="",bR=" ",e="split",bD="click dblclick mousedown mousemove mouseout mouseover mouseup"[e](bR),bp="hasOwnProperty",by="join",a8="length",b5="prototype",b4=String[b5].toLowerCase,b2=Math,bd=b2.max,cl=b2.min,bS="number",ct="toString",bE=Object[b5][ct],cd={},ch=b2.pow,be="push",b9=/^(?=[\da-f]$)/,bf=/^url\(['"]?([^\)]+)['"]?\)$/i,E=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,br=b2.round,S="setAttribute",bl=parseFloat,bC=parseInt,cg=String[b5].toUpperCase,bb={"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},bi={along:"along","clip-rect":"csv",cx:bS,cy:bS,fill:"colour","fill-opacity":bS,"font-size":bS,height:bS,opacity:bS,path:"path",r:bS,rotation:"csv",rx:bS,ry:bS,scale:"csv",stroke:"colour","stroke-opacity":bS,"stroke-width":bS,translation:"csv",width:bS,x:bS,y:bS},ce="replace";bQ.version="1.3.1";bQ.type=(bH.SVGAngle||bu.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(bQ.type=="VML"){var bX=document.createElement("div");bX.innerHTML="<!--[if vml]><br><br><![endif]-->";if(bX.childNodes[a8]!=2){return null}}bQ.svg=!(bQ.vml=bQ.type=="VML");ca[b5]=bQ[b5];bQ._id=0;bQ._oid=0;bQ.fn={};bQ.is=function(a,b){b=b4.call(b);return((b=="object"||b=="undefined")&&typeof a==b)||(a==null&&b=="null")||b4.call(bE.call(a).slice(8,-1))==b};bQ.setWindow=function(a){bH=a;bu=bH.document};var cq=function(b){if(bQ.vml){var c=/^\s+|\s+$/g;cq=bU(function(l){var k;l=(l+bJ)[ce](c,bJ);try{var h=new ActiveXObject("htmlfile");h.write("<body>");h.close();k=h.body}catch(f){k=createPopup().document.body}var j=k.createTextRange();try{k.style.color=l;var g=j.queryCommandValue("ForeColor");g=((g&255)<<16)|(g&65280)|((g&16711680)>>>16);return"#"+("000000"+g[ct](16)).slice(-6)}catch(f){return"none"}})}else{var a=bu.createElement("i");a.title="Rapha\xebl Colour Picker";a.style.display="none";bu.body[ci](a);cq=bU(function(f){a.style.color=f;return bu.defaultView.getComputedStyle(a,bJ).getPropertyValue("color")})}return cq(b)};bQ.hsb2rgb=bU(function(a,c,o){if(bQ.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){o=a.b;c=a.s;a=a.h}var h,g,m;if(o==0){return{r:0,g:0,b:0,hex:"#000"}}if(a>1||c>1||o>1){a/=255;c/=255;o/=255}var f=~~(a*6),s=(a*6)-f,r=o*(1-c),j=o*(1-(c*s)),l=o*(1-(c*(1-s)));h=[o,j,r,r,l,o,o][f];g=[l,o,o,j,r,r,l][f];m=[r,r,l,o,o,j,r][f];h*=255;g*=255;m*=255;var q={r:h,g:g,b:m},k=(~~h)[ct](16),b=(~~g)[ct](16),p=(~~m)[ct](16);k=k[ce](b9,"0");b=b[ce](b9,"0");p=p[ce](b9,"0");q.hex="#"+k+b+p;return q},bQ);bQ.rgb2hsb=bU(function(l,k,c){if(bQ.is(l,"object")&&"r" in l&&"g" in l&&"b" in l){c=l.b;k=l.g;l=l.r}if(bQ.is(l,"string")){var a=bQ.getRGB(l);l=a.r;k=a.g;c=a.b}if(l>1||k>1||c>1){l/=255;k/=255;c/=255}var f=bd(l,k,c),j=cl(l,k,c),h,m,g=f;if(j==f){return{h:0,s:0,b:f}}else{var b=(f-j);m=b/f;if(l==f){h=(k-c)/b}else{if(k==f){h=2+((c-l)/b)}else{h=4+((l-k)/b)}}h/=6;h<0&&h++;h>1&&h--}return{h:h,s:m,b:g}},bQ);var cp=/,?([achlmqrstvxz]),?/gi;bQ._path2string=function(){return this.join(",")[ce](cp,"$1")};function bU(b,c,f){function a(){var k=Array[b5].slice.call(arguments,0),h=k[by]("\u25ba"),j=a.cache=a.cache||{},g=a.count=a.count||[];if(j[bp](h)){return f?f(j[h]):j[h]}g[a8]>=1000&&delete j[g.shift()];g[be](h);j[h]=b[b7](c,k);return f?f(j[h]):j[h]}return a}bQ.getRGB=bU(function(l){if(!l||!!((l=l+bJ).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(l=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(({hs:1,rg:1})[bp](l.substring(0,2))||l.charAt()=="#")&&(l=cq(l));var g,j,m,b,a,f=l.match(E);if(f){if(f[2]){b=bC(f[2].substring(5),16);m=bC(f[2].substring(3,5),16);j=bC(f[2].substring(1,3),16)}if(f[3]){b=bC((a=f[3].charAt(3))+a,16);m=bC((a=f[3].charAt(2))+a,16);j=bC((a=f[3].charAt(1))+a,16)}if(f[4]){f=f[4][e](/\s*,\s*/);j=bl(f[0]);m=bl(f[1]);b=bl(f[2])}if(f[5]){f=f[5][e](/\s*,\s*/);j=bl(f[0])*2.55;m=bl(f[1])*2.55;b=bl(f[2])*2.55}if(f[6]){f=f[6][e](/\s*,\s*/);j=bl(f[0]);m=bl(f[1]);b=bl(f[2]);return bQ.hsb2rgb(j,m,b)}if(f[7]){f=f[7][e](/\s*,\s*/);j=bl(f[0])*2.55;m=bl(f[1])*2.55;b=bl(f[2])*2.55;return bQ.hsb2rgb(j,m,b)}f={r:j,g:m,b:b};var k=(~~j)[ct](16),h=(~~m)[ct](16),c=(~~b)[ct](16);k=k[ce](b9,"0");h=h[ce](b9,"0");c=c[ce](b9,"0");f.hex="#"+k+h+c;return f}return{r:-1,g:-1,b:-1,hex:"none",error:1}},bQ);bQ.getColor=function(b){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:b||0.75},c=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return c.hex};bQ.getColor.reset=function(){delete this.start};bQ.parsePathString=bU(function(c){if(!c){return null}var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},b=[];if(bQ.is(c,"array")&&bQ.is(c[0],"array")){b=bF(c)}if(!b[a8]){(c+bJ)[ce](/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(j,k,f){var g=[],h=b4.call(k);f[ce](/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(m,l){l&&g[be](+l)});while(g[a8]>=a[h]){b[be]([k][cb](g.splice(0,a[h])));if(!a[h]){break}}})}b[ct]=bQ._path2string;return b});bQ.findDotsAtSegment=function(q,s,a,f,y,g,w,x,o){var r=1-o,t=ch(r,3)*q+ch(r,2)*3*o*a+r*3*o*o*y+ch(o,3)*w,v=ch(r,3)*s+ch(r,2)*3*o*f+r*3*o*o*g+ch(o,3)*x,j=q+2*o*(a-q)+o*o*(y-2*a+q),m=s+2*o*(f-s)+o*o*(g-2*f+s),c=a+2*o*(y-a)+o*o*(w-2*y+a),h=f+2*o*(g-f)+o*o*(x-2*g+f),p=(1-o)*q+o*a,u=(1-o)*s+o*f,k=(1-o)*y+o*w,l=(1-o)*g+o*x,b=(90-b2.atan((j-c)/(m-h))*180/b2.PI);(j>c||m<h)&&(b+=180);return{x:t,y:v,m:{x:j,y:m},n:{x:c,y:h},start:{x:p,y:u},end:{x:k,y:l},alpha:b}};var bn=bU(function(l){if(!l){return{x:0,y:0,width:0,height:0}}l=bA(l);var b=0,c=0,h=[],j=[],o;for(var g=0,m=l[a8];g<m;g++){o=l[g];if(o[0]=="M"){b=o[1];c=o[2];h[be](b);j[be](c)}else{var f=cr(b,c,o[1],o[2],o[3],o[4],o[5],o[6]);h=h[cb](f.min.x,f.max.x);j=j[cb](f.min.y,f.max.y);b=o[5];c=o[6]}}var k=cl[b7](0,h),a=cl[b7](0,j);return{x:k,y:a,width:bd[b7](0,h)-k,height:bd[b7](0,j)-a}}),bF=function(a){var f=[];if(!bQ.is(a,"array")||!bQ.is(a&&a[0],"array")){a=bQ.parsePathString(a)}for(var g=0,c=a[a8];g<c;g++){f[g]=[];for(var h=0,b=a[g][a8];h<b;h++){f[g][h]=a[g][h]}}f[ct]=bQ._path2string;return f},b0=bU(function(h){if(!bQ.is(h,"array")||!bQ.is(h&&h[0],"array")){h=bQ.parsePathString(h)}var s=[],q=0,r=0,m=0,o=0,t=0;if(h[0][0]=="M"){q=h[0][1];r=h[0][2];m=q;o=r;t++;s[be](["M",q,r])}for(var c=t,l=h[a8];c<l;c++){var k=s[c]=[],p=h[c];if(p[0]!=b4.call(p[0])){k[0]=b4.call(p[0]);switch(k[0]){case"a":k[1]=p[1];k[2]=p[2];k[3]=p[3];k[4]=p[4];k[5]=p[5];k[6]=+(p[6]-q).toFixed(3);k[7]=+(p[7]-r).toFixed(3);break;case"v":k[1]=+(p[1]-r).toFixed(3);break;case"m":m=p[1];o=p[2];default:for(var f=1,b=p[a8];f<b;f++){k[f]=+(p[f]-((f%2)?q:r)).toFixed(3)}}}else{k=s[c]=[];if(p[0]=="m"){m=p[1]+q;o=p[2]+r}for(var g=0,j=p[a8];g<j;g++){s[c][g]=p[g]}}var a=s[c][a8];switch(s[c][0]){case"z":q=m;r=o;break;case"h":q+=+s[c][a-1];break;case"v":r+=+s[c][a-1];break;default:q+=+s[c][a-2];r+=+s[c][a-1]}}s[ct]=bQ._path2string;return s},0,bF),a3=bU(function(h){if(!bQ.is(h,"array")||!bQ.is(h&&h[0],"array")){h=bQ.parsePathString(h)}var a=[],q=0,r=0,m=0,o=0,s=0;if(h[0][0]=="M"){q=+h[0][1];r=+h[0][2];m=q;o=r;s++;a[0]=["M",q,r]}for(var c=s,l=h[a8];c<l;c++){var k=a[c]=[],p=h[c];if(p[0]!=cg.call(p[0])){k[0]=cg.call(p[0]);switch(k[0]){case"A":k[1]=p[1];k[2]=p[2];k[3]=p[3];k[4]=p[4];k[5]=p[5];k[6]=+(p[6]+q);k[7]=+(p[7]+r);break;case"V":k[1]=+p[1]+r;break;case"H":k[1]=+p[1]+q;break;case"M":m=+p[1]+q;o=+p[2]+r;default:for(var f=1,b=p[a8];f<b;f++){k[f]=+p[f]+((f%2)?q:r)}}}else{for(var g=0,j=p[a8];g<j;g++){a[c][g]=p[g]}}switch(k[0]){case"Z":q=m;r=o;break;case"H":q=k[1];break;case"V":r=k[1];break;default:q=a[c][a[c][a8]-2];r=a[c][a[c][a8]-1]}}a[ct]=bQ._path2string;return a},null,bF),b6=function(c,b,f,a){return[c,b,f,a,f,a]},cj=function(j,h,b,g,k,f){var c=1/3,a=2/3;return[c*j+a*b,c*h+a*g,c*k+a*b,c*f+a*g,k,f]},bv=function(m,f,O,T,aa,x,a,q,g,Z){var b=b2.PI,V=b*120/180,U=b/180*(+aa||0),K=[],N,k=bU(function(af,ab,ae){var ac=af*b2.cos(ae)-ab*b2.sin(ae),ad=af*b2.sin(ae)+ab*b2.cos(ae);return{x:ac,y:ad}});if(!Z){N=k(m,f,-U);m=N.x;f=N.y;N=k(q,g,-U);q=N.x;g=N.y;var Q=b2.cos(b/180*aa),u=b2.sin(b/180*aa),I=(m-q)/2,J=(f-g)/2;O=bd(O,b2.abs(I));T=bd(T,b2.abs(J));var o=(I*I)/(O*O)+(J*J)/(T*T);if(o>1){O=b2.sqrt(o)*O;T=b2.sqrt(o)*T}var c=O*O,C=T*T,y=(x==a?-1:1)*b2.sqrt(b2.abs((c*C-c*J*J-C*I*I)/(c*J*J+C*I*I))),X=y*O*J/T+(m+q)/2,Y=y*-T*I/O+(f+g)/2,A=b2.asin(((f-Y)/T).toFixed(7)),B=b2.asin(((g-Y)/T).toFixed(7));A=m<X?b-A:A;B=q<X?b-B:B;A<0&&(A=b*2+A);B<0&&(B=b*2+B);if(a&&A>B){A=A-b*2}if(!a&&B>A){B=B-b*2}}else{A=Z[0];B=Z[1];X=Z[2];Y=Z[3]}var s=B-A;if(b2.abs(s)>V){var W=B,P=q,w=g;B=A+V*(a&&B>A?1:-1);q=X+O*b2.cos(B);g=Y+T*b2.sin(B);K=bv(q,g,O,T,aa,0,a,P,w,[B,W,X,Y])}s=B-A;var F=b2.cos(A),h=b2.sin(A),H=b2.cos(B),j=b2.sin(B),G=b2.tan(s/4),z=4/3*O*G,D=4/3*T*G,l=[m,f],p=[m+z*h,f-D*F],r=[q+z*j,g-D*H],v=[q,g];p[0]=2*l[0]-p[0];p[1]=2*l[1]-p[1];if(Z){return[p,r,v][cb](K)}else{K=[p,r,v][cb](K)[by]()[e](",");var M=[];for(var t=0,L=K[a8];t<L;t++){M[t]=t%2?k(K[t-1],K[t],U).y:k(K[t],K[t+1],U).x}return M}},bt=function(k,l,m,j,b,c,f,g,a){var h=1-a;return{x:ch(h,3)*k+ch(h,2)*3*a*m+h*3*a*a*b+ch(a,3)*f,y:ch(h,3)*l+ch(h,2)*3*a*j+h*3*a*a*c+ch(a,3)*g}},cr=bU(function(j,l,h,t,m,o,r,b){var p=(m-2*h+j)-(r-2*m+h),s=2*(h-j)-2*(m-h),c=j-h,f=(-s+b2.sqrt(s*s-4*p*c))/2/p,g=(-s-b2.sqrt(s*s-4*p*c))/2/p,a=[l,b],q=[j,r],k;b2.abs(f)>1000000000000&&(f=0.5);b2.abs(g)>1000000000000&&(g=0.5);if(f>0&&f<1){k=bt(j,l,h,t,m,o,r,b,f);q[be](k.x);a[be](k.y)}if(g>0&&g<1){k=bt(j,l,h,t,m,o,r,b,g);q[be](k.x);a[be](k.y)}p=(o-2*t+l)-(b-2*o+t);s=2*(t-l)-2*(o-t);c=l-t;f=(-s+b2.sqrt(s*s-4*p*c))/2/p;g=(-s-b2.sqrt(s*s-4*p*c))/2/p;b2.abs(f)>1000000000000&&(f=0.5);b2.abs(g)>1000000000000&&(g=0.5);if(f>0&&f<1){k=bt(j,l,h,t,m,o,r,b,f);q[be](k.x);a[be](k.y)}if(g>0&&g<1){k=bt(j,l,h,t,m,o,r,b,g);q[be](k.x);a[be](k.y)}return{min:{x:cl[b7](0,q),y:cl[b7](0,a)},max:{x:bd[b7](0,q),y:bd[b7](0,a)}}}),bA=bU(function(l,s){var h=a3(l),q=s&&a3(s),p={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(w,v){var t,u;if(!w){return["C",v.x,v.y,v.x,v.y,v.x,v.y]}!(w[0] in {T:1,Q:1})&&(v.qx=v.qy=null);switch(w[0]){case"M":v.X=w[1];v.Y=w[2];break;case"A":w=["C"][cb](bv[b7](0,[v.x,v.y][cb](w.slice(1))));break;case"S":t=v.x+(v.x-(v.bx||v.x));u=v.y+(v.y-(v.by||v.y));w=["C",t,u][cb](w.slice(1));break;case"T":v.qx=v.x+(v.x-(v.qx||v.x));v.qy=v.y+(v.y-(v.qy||v.y));w=["C"][cb](cj(v.x,v.y,v.qx,v.qy,w[1],w[2]));break;case"Q":v.qx=w[1];v.qy=w[2];w=["C"][cb](cj(v.x,v.y,w[1],w[2],w[3],w[4]));break;case"L":w=["C"][cb](b6(v.x,v.y,w[1],w[2]));break;case"H":w=["C"][cb](b6(v.x,v.y,w[1],v.y));break;case"V":w=["C"][cb](b6(v.x,v.y,v.x,w[1]));break;case"Z":w=["C"][cb](b6(v.x,v.y,v.X,v.Y));break}return w},j=function(v,u){if(v[u][a8]>7){v[u].shift();var t=v[u];while(t[a8]){v.splice(u++,0,["C"][cb](t.splice(0,6)))}v.splice(u,1);o=bd(h[a8],q&&q[a8]||0)}},r=function(t,u,w,x,v){if(t&&u&&t[v][0]=="M"&&u[v][0]!="M"){u.splice(v,0,["M",x.x,x.y]);w.bx=0;w.by=0;w.x=t[v][1];w.y=t[v][2];o=bd(h[a8],q&&q[a8]||0)}};for(var b=0,o=bd(h[a8],q&&q[a8]||0);b<o;b++){h[b]=f(h[b],p);j(h,b);q&&(q[b]=f(q[b],k));q&&j(q,b);r(h,q,p,k,b);r(q,h,k,p,b);var c=h[b],m=q&&q[b],g=c[a8],a=q&&m[a8];p.x=c[g-2];p.y=c[g-1];p.bx=bl(c[g-4])||p.x;p.by=bl(c[g-3])||p.y;k.bx=q&&(bl(m[a-4])||k.x);k.by=q&&(bl(m[a-3])||k.y);k.x=q&&m[a-2];k.y=q&&m[a-1]}return q?[h,q]:h},null,bF),a5=bU(function(l){var a=[];for(var f=0,k=l[a8];f<k;f++){var j={},b=l[f].match(/^([^:]*):?([\d\.]*)/);j.color=bQ.getRGB(b[1]);if(j.color.error){return null}j.color=j.color.hex;b[2]&&(j.offset=b[2]+"%");a[be](j)}for(var f=1,k=a[a8]-1;f<k;f++){if(!a[f].offset){var m=bl(a[f-1].offset||0),h=0;for(var g=f+1;g<k;g++){if(a[g].offset){h=a[g].offset;break}}if(!h){h=100;g=k}h=bl(h);var c=(h-m)/(g-f+1);for(;f<g;f++){m+=c;a[f].offset=m+"%"}}}return a}),bP=function(){var a,f,b,c,g;if(bQ.is(arguments[0],"string")||bQ.is(arguments[0],"object")){if(bQ.is(arguments[0],"string")){a=bu.getElementById(arguments[0])}else{a=arguments[0]}if(a.tagName){if(arguments[1]==null){return{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}}else{return{container:a,width:arguments[1],height:arguments[2]}}}}else{if(bQ.is(arguments[0],bS)&&arguments[a8]>3){return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}}}},cn=function(f,a){var c=this;for(var b in a){if(a[bp](b)&&!(b in f)){switch(typeof a[b]){case"function":(function(g){f[b]=f===c?g:function(){return g[b7](c,arguments)}})(a[b]);break;case"object":f[b]=f[b]||{};cn.call(this,f[b],a[b]);break;default:f[b]=a[b];break}}}},bT=function(b,a){b==a.top&&(a.top=b.prev);b==a.bottom&&(a.bottom=b.next);b.next&&(b.next.prev=b.prev);b.prev&&(b.prev.next=b.next)},bj=function(b,a){if(a.top===b){return}bT(b,a);b.next=null;b.prev=a.top;a.top.next=b;a.top=b},ba=function(b,a){if(a.bottom===b){return}bT(b,a);b.next=a.bottom;b.prev=null;a.bottom.prev=b;a.bottom=b},bL=function(b,c,a){bT(b,a);c==a.top&&(a.top=b);c.next&&(c.next.prev=b);b.next=c.next;b.prev=c;c.next=b},bN=function(b,c,a){bT(b,a);c==a.bottom&&(a.bottom=b);c.prev&&(c.prev.next=b);b.prev=c.prev;c.prev=b;b.next=c},a2=function(a){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+a+"\u201d of removed object")}},bM=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(bQ.svg){ca[b5].svgns="http://www.w3.org/2000/svg";ca[b5].xlink="http://www.w3.org/1999/xlink";var br=function(a){return +a+(~~a===a)*0.5},bm=function(a){for(var f=0,c=a[a8];f<c;f++){if(b4.call(a[f][0])!="a"){for(var g=1,b=a[f][a8];g<b;g++){a[f][g]=br(a[f][g])}}else{a[f][6]=br(a[f][6]);a[f][7]=br(a[f][7])}}return a},ck=function(a,c){if(c){for(var b in c){if(c[bp](b)){a[S](b,c[b])}}}else{return bu.createElementNS(ca[b5].svgns,a)}};bQ[ct]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var a4=function(f,b){var c=ck("path");b.canvas&&b.canvas[ci](c);var a=new bB(c,b);a.type="path";b3(a,{fill:"none",stroke:"#000",path:f});return a};var bg=function(s,o,k){var r="linear",c=0.5,g=0.5,l=s.style;o=(o+bJ)[ce](bM,function(v,t,u){r="radial";if(t&&u){c=bl(t);g=bl(u);var w=((g>0.5)*2-1);ch(c-0.5,2)+ch(g-0.5,2)>0.25&&(g=b2.sqrt(0.25-ch(c-0.5,2))*w+0.5)&&g!=0.5&&(g=g.toFixed(5)-0.00001*w)}return bJ});o=o[e](/\s*\-\s*/);if(r=="linear"){var f=o.shift();f=-bl(f);if(isNaN(f)){return null}var h=[0,0,b2.cos(f*b2.PI/180),b2.sin(f*b2.PI/180)],p=1/(bd(b2.abs(h[2]),b2.abs(h[3]))||1);h[2]*=p;h[3]*=p;if(h[2]<0){h[0]=-h[2];h[2]=0}if(h[3]<0){h[1]=-h[3];h[3]=0}}var a=a5(o);if(!a){return null}var j=ck(r+"Gradient");j.id="r"+(bQ._id++)[ct](36);ck(j,r=="radial"?{fx:c,fy:g}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]});k.defs[ci](j);for(var b=0,m=a[a8];b<m;b++){var q=ck("stop");ck(q,{offset:a[b].offset?a[b].offset:!b?"0%":"100%","stop-color":a[b].color||"#fff"});j[ci](q)}ck(s,{fill:"url(#"+j.id+")",opacity:1,"fill-opacity":1});l.fill=bJ;l.opacity=1;l.fillOpacity=1;return 1};var bs=function(a){var b=a.getBBox();ck(a.pattern,{patternTransform:bQ.format("translate({0},{1})",b.x,b.y)})};var b3=function(u,b){var p={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},k=u.node,r=u.attrs,x=u.rotate(),g=function(G,H){H=p[b4.call(H)];if(H){var C=G.attrs["stroke-width"]||"1",F={round:C,square:C,butt:0}[G.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,B=[];var D=H[a8];while(D--){B[D]=H[D]*C+((D%2)?1:-1)*F}ck(k,{"stroke-dasharray":B[by](",")})}};b[bp]("rotation")&&(x=b.rotation);var y=(x+bJ)[e](bh);if(!(y.length-1)){y=null}else{y[1]=+y[1];y[2]=+y[2]}bl(x)&&u.rotate(0,true);for(var l in b){if(b[bp](l)){if(!bb[bp](l)){continue}var q=b[l];r[l]=q;switch(l){case"rotation":u.rotate(q,true);break;case"href":case"title":case"target":var f=k.parentNode;if(b4.call(f.tagName)!="a"){var m=ck("a");f.insertBefore(m,k);m[ci](k);f=m}f.setAttributeNS(u.paper.xlink,l,q);break;case"cursor":k.style.cursor=q;break;case"clip-rect":var s=(q+bJ)[e](bh);if(s[a8]==4){u.clip&&u.clip.parentNode.parentNode.removeChild(u.clip.parentNode);var o=ck("clipPath"),j=ck("rect");o.id="r"+(bQ._id++)[ct](36);ck(j,{x:s[0],y:s[1],width:s[2],height:s[3]});o[ci](j);u.paper.defs[ci](o);ck(k,{"clip-path":"url(#"+o.id+")"});u.clip=j}if(!q){var c=bu.getElementById(k.getAttribute("clip-path")[ce](/(^url\(#|\)$)/g,bJ));c&&c.parentNode.removeChild(c);ck(k,{"clip-path":bJ});delete u.clip}break;case"path":if(q&&u.type=="path"){r.path=bm(a3(q));ck(k,{d:r.path})}break;case"width":k[S](l,q);if(r.fx){l="x";q=r.x}else{break}case"x":if(r.fx){q=-r.x-(r.width||0)}case"rx":if(l=="rx"&&u.type=="rect"){break}case"cx":y&&(l=="x"||l=="cx")&&(y[1]+=q-r[l]);k[S](l,br(q));u.pattern&&bs(u);break;case"height":k[S](l,q);if(r.fy){l="y";q=r.y}else{break}case"y":if(r.fy){q=-r.y-(r.height||0)}case"ry":if(l=="ry"&&u.type=="rect"){break}case"cy":y&&(l=="y"||l=="cy")&&(y[2]+=q-r[l]);k[S](l,br(q));u.pattern&&bs(u);break;case"r":if(u.type=="rect"){ck(k,{rx:q,ry:q})}else{k[S](l,q)}break;case"src":if(u.type=="image"){k.setAttributeNS(u.paper.xlink,"href",q)}break;case"stroke-width":k.style.strokeWidth=q;k[S](l,q);if(r["stroke-dasharray"]){g(u,r["stroke-dasharray"])}break;case"stroke-dasharray":g(u,q);break;case"translation":var A=(q+bJ)[e](bh);A[0]=+A[0]||0;A[1]=+A[1]||0;if(y){y[1]+=A[0];y[2]+=A[1]}a1.call(u,A[0],A[1]);break;case"scale":var A=(q+bJ)[e](bh);u.scale(+A[0]||1,+A[1]||+A[0]||1,+A[2]||null,+A[3]||null);break;case"fill":var h=(q+bJ).match(bf);if(h){var o=ck("pattern"),v=ck("image");o.id="r"+(bQ._id++)[ct](36);ck(o,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});ck(v,{x:0,y:0});v.setAttributeNS(u.paper.xlink,"href",h[1]);o[ci](v);var a=bu.createElement("img");a.style.cssText="position:absolute;left:-9999em;top-9999em";a.onload=function(){ck(o,{width:this.offsetWidth,height:this.offsetHeight});ck(v,{width:this.offsetWidth,height:this.offsetHeight});bu.body.removeChild(this);u.paper.safari()};bu.body[ci](a);a.src=h[1];u.paper.defs[ci](o);k.style.fill="url(#"+o.id+")";ck(k,{fill:"url(#"+o.id+")"});u.pattern=o;u.pattern&&bs(u);break}if(!bQ.getRGB(q).error){delete b.gradient;delete r.gradient;!bQ.is(r.opacity,"undefined")&&bQ.is(b.opacity,"undefined")&&ck(k,{opacity:r.opacity});!bQ.is(r["fill-opacity"],"undefined")&&bQ.is(b["fill-opacity"],"undefined")&&ck(k,{"fill-opacity":r["fill-opacity"]})}else{if((({circle:1,ellipse:1})[bp](u.type)||(q+bJ).charAt()!="r")&&bg(k,q,u.paper)){r.gradient=q;r.fill="none";break}}case"stroke":k[S](l,bQ.getRGB(q).hex);break;case"gradient":(({circle:1,ellipse:1})[bp](u.type)||(q+bJ).charAt()!="r")&&bg(k,q,u.paper);break;case"opacity":case"fill-opacity":if(r.gradient){var t=bu.getElementById(k.getAttribute("fill")[ce](/^url\(#|\)$/g,bJ));if(t){var z=t.getElementsByTagName("stop");z[z[a8]-1][S]("stop-opacity",q)}break}default:l=="font-size"&&(q=bC(q,10)+"px");var w=l[ce](/(\-.)/g,function(B){return cg.call(B.substring(1))});k.style[w]=q;k[S](l,q);break}}}bG(u,b);if(y){u.rotate(y.join(bR))}else{bl(x)&&u.rotate(x,true)}};var bc=1.2;var bG=function(k,h){if(k.type!="text"||!(h[bp]("text")||h[bp]("font")||h[bp]("font-size")||h[bp]("x")||h[bp]("y"))){return}var a=k.attrs,j=k.node,l=j.firstChild?bC(bu.defaultView.getComputedStyle(j.firstChild,bJ).getPropertyValue("font-size"),10):10;if(h[bp]("text")){a.text=h.text;while(j.firstChild){j.removeChild(j.firstChild)}var o=(h.text+bJ)[e]("\n");for(var g=0,m=o[a8];g<m;g++){if(o[g]){var c=ck("tspan");g&&ck(c,{dy:l*bc,x:a.x});c[ci](bu.createTextNode(o[g]));j[ci](c)}}}else{var o=j.getElementsByTagName("tspan");for(var g=0,m=o[a8];g<m;g++){g&&ck(o[g],{dy:l*bc,x:a.x})}}ck(j,{y:a.y});var f=k.getBBox(),b=a.y-(f.y+f.height/2);b&&isFinite(b)&&ck(j,{y:a.y+b})};var bB=function(c,f){var b=0,a=0;this[0]=c;this.id=bQ._oid++;this.node=c;c.raphael=this;this.paper=f;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!f.bottom&&(f.bottom=this);this.prev=f.top;f.top&&(f.top.next=this);f.top=this;this.next=null};bB[b5].rotate=function(c,f,b){if(this.removed){return this}if(c==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][by](bR)}return this._.rt.deg}var a=this.getBBox();c=(c+bJ)[e](bh);if(c[a8]-1){f=bl(c[1]);b=bl(c[2])}c=bl(c[0]);if(f!=null){this._.rt.deg=c}else{this._.rt.deg+=c}(b==null)&&(f=null);this._.rt.cx=f;this._.rt.cy=b;f=f==null?a.x+a.width/2:f;b=b==null?a.y+a.height/2:b;if(this._.rt.deg){this.transformations[0]=bQ.format("rotate({0} {1} {2})",this._.rt.deg,f,b);this.clip&&ck(this.clip,{transform:bQ.format("rotate({0} {1} {2})",-this._.rt.deg,f,b)})}else{this.transformations[0]=bJ;this.clip&&ck(this.clip,{transform:bJ})}ck(this.node,{transform:this.transformations[by](bR)});return this};bB[b5].hide=function(){!this.removed&&(this.node.style.display="none");return this};bB[b5].show=function(){!this.removed&&(this.node.style.display="");return this};bB[b5].remove=function(){if(this.removed){return}bT(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this){delete this[a]}this.removed=true};bB[b5].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return bn(this.attrs.path)}if(this.node.style.display=="none"){this.show();var g=true}var a={};try{a=this.node.getBBox()}catch(c){}finally{a=a||{}}if(this.type=="text"){a={x:a.x,y:Infinity,width:0,height:0};for(var h=0,f=this.node.getNumberOfChars();h<f;h++){var b=this.node.getExtentOfChar(h);(b.y<a.y)&&(a.y=b.y);(b.y+b.height-a.y>a.height)&&(a.height=b.y+b.height-a.y);(b.x+b.width-a.x>a.width)&&(a.width=b.x+b.width-a.x)}}g&&this.hide();return a};bB[b5].attr=function(){if(this.removed){return this}if(arguments[a8]==0){var b={};for(var c in this.attrs){if(this.attrs[bp](c)){b[c]=this.attrs[c]}}this._.rt.deg&&(b.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(b.scale=this.scale());b.gradient&&b.fill=="none"&&(b.fill=b.gradient)&&delete b.gradient;return b}if(arguments[a8]==1&&bQ.is(arguments[0],"string")){if(arguments[0]=="translation"){return a1.call(this)}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}if(arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[arguments[0]]}if(arguments[a8]==1&&bQ.is(arguments[0],"array")){var g={};for(var f in arguments[0]){if(arguments[0][bp](f)){g[arguments[0][f]]=this.attrs[arguments[0][f]]}}return g}if(arguments[a8]==2){var a={};a[arguments[0]]=arguments[1];b3(this,a)}else{if(arguments[a8]==1&&bQ.is(arguments[0],"object")){b3(this,arguments[0])}}return this};bB[b5].toFront=function(){if(this.removed){return this}this.node.parentNode[ci](this.node);var a=this.paper;a.top!=this&&bj(this,a);return this};bB[b5].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);ba(this,this.paper);var a=this.paper}return this};bB[b5].insertAfter=function(b){if(this.removed){return this}var a=b.node;if(a.nextSibling){a.parentNode.insertBefore(this.node,a.nextSibling)}else{a.parentNode[ci](this.node)}bL(this,b,this.paper);return this};bB[b5].insertBefore=function(b){if(this.removed){return this}var a=b.node;a.parentNode.insertBefore(this.node,a);bN(this,b,this.paper);return this};var bq=function(g,h,b,c){h=br(h);b=br(b);var f=ck("circle");g.canvas&&g.canvas[ci](f);var a=new bB(f,g);a.attrs={cx:h,cy:b,r:c,fill:"none",stroke:"#000"};a.type="circle";ck(f,a.attrs);return a};var co=function(f,k,a,j,c,b){k=br(k);a=br(a);var g=ck("rect");f.canvas&&f.canvas[ci](g);var h=new bB(g,f);h.attrs={x:k,y:a,width:j,height:c,r:b||0,rx:b||0,ry:b||0,fill:"none",stroke:"#000"};h.type="rect";ck(g,h.attrs);return h};var bV=function(h,j,a,c,f){j=br(j);a=br(a);var g=ck("ellipse");h.canvas&&h.canvas[ci](g);var b=new bB(g,h);b.attrs={cx:j,cy:a,rx:c,ry:f,fill:"none",stroke:"#000"};b.type="ellipse";ck(g,b.attrs);return b};var a6=function(f,b,k,a,j,c){var g=ck("image");ck(g,{x:k,y:a,width:j,height:c,preserveAspectRatio:"none"});g.setAttributeNS(f.xlink,"href",b);f.canvas&&f.canvas[ci](g);var h=new bB(g,f);h.attrs={x:k,y:a,width:j,height:c,src:b};h.type="image";return h};var bk=function(g,h,b,c){var f=ck("text");ck(f,{x:h,y:b,"text-anchor":"middle"});g.canvas&&g.canvas[ci](f);var a=new bB(f,g);a.attrs={x:h,y:b,"text-anchor":"middle",text:c,font:bb.font,stroke:"none",fill:"#000"};a.type="text";b3(a,a.attrs);return a};var b8=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas[S]("width",this.width);this.canvas[S]("height",this.height);return this};var R=function(){var g=bP[b7](null,arguments),c=g&&g.container,h=g.x,a=g.y,f=g.width,j=g.height;if(!c){throw new Error("SVG container not found.")}var b=ck("svg");f=f||512;j=j||342;ck(b,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:j});if(c==1){b.style.cssText="position:absolute;left:"+h+"px;top:"+a+"px";bu.body[ci](b)}else{if(c.firstChild){c.insertBefore(b,c.firstChild)}else{c[ci](b)}}c=new ca;c.width=f;c.height=j;c.canvas=b;cn.call(c,c,bQ.fn);c.clear();return c};ca[b5].clear=function(){var a=this.canvas;while(a.firstChild){a.removeChild(a.firstChild)}this.bottom=this.top=null;(this.desc=ck("desc"))[ci](bu.createTextNode("Created with Rapha\xebl"));a[ci](this.desc);a[ci](this.defs=ck("defs"))};ca[b5].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=a2(a)}}}if(bQ.vml){var cm=function(l){var p=/[ahqstv]/ig,f=a3;(l+bJ).match(p)&&(f=bA);p=/[clmz]/g;if(f==a3&&!(l+bJ).match(p)){var j={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},h=/([clmz]),?([^clmz]*)/gi,g=/-?[^,\s-]+/g;var r=(l+bJ)[ce](h,function(t,u,s){var v=[];s[ce](g,function(w){v[be](br(w))});return j[u]+v});return r}var o=f(l),q,r=[],k;for(var b=0,m=o[a8];b<m;b++){q=o[b];k=b4.call(o[b][0]);k=="z"&&(k="x");for(var c=1,a=q[a8];c<a;c++){k+=br(q[c])+(c!=a-1?",":bJ)}r[be](k)}return r[by](bR)};bQ[ct]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var a4=function(h,b){var f=bW("group");f.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";f.coordsize=b.coordsize;f.coordorigin=b.coordorigin;var a=bW("shape"),g=a.style;g.width=b.width+"px";g.height=b.height+"px";a.coordsize=this.coordsize;a.coordorigin=this.coordorigin;f[ci](a);var c=new bB(a,f,b);c.isAbsolute=true;c.type="path";c.path=[];c.Path=bJ;h&&b3(c,{fill:"none",stroke:"#000",path:h});b.canvas[ci](f);return c};var b3=function(u,m){u.attrs=u.attrs||{};var q=u.node,l=u.attrs,x=q.style,j,a=u;for(var w in m){if(m[bp](w)){l[w]=m[w]}}m.href&&(q.href=m.href);m.title&&(q.title=m.title);m.target&&(q.target=m.target);m.cursor&&(x.cursor=m.cursor);if(m.path&&u.type=="path"){l.path=m.path;q.path=cm(l.path)}if(m.rotation!=null){u.rotate(m.rotation,true)}if(m.translation){j=(m.translation+bJ)[e](bh);a1.call(u,j[0],j[1]);if(u._.rt.cx!=null){u._.rt.cx+=+j[0];u._.rt.cy+=+j[1];u.setBox(u.attrs,j[0],j[1])}}if(m.scale){j=(m.scale+bJ)[e](bh);u.scale(+j[0]||1,+j[1]||+j[0]||1,+j[2]||null,+j[3]||null)}if("clip-rect" in m){var r=(m["clip-rect"]+bJ)[e](bh);if(r[a8]==4){r[2]=+r[2]+(+r[0]);r[3]=+r[3]+(+r[1]);var v=q.clipRect||bu.createElement("div"),c=v.style,b=q.parentNode;c.clip=bQ.format("rect({1}px {2}px {3}px {0}px)",r);if(!q.clipRect){c.position="absolute";c.top=0;c.left=0;c.width=u.paper.width+"px";c.height=u.paper.height+"px";b.parentNode.insertBefore(v,b);v[ci](b);q.clipRect=v}}if(!m["clip-rect"]){q.clipRect&&(q.clipRect.style.clip=bJ)}}if(u.type=="image"&&m.src){q.src=m.src}if(u.type=="image"&&m.opacity){q.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+(m.opacity*100)+")";x.filter=(q.filterMatrix||bJ)+(q.filterOpacity||bJ)}m.font&&(x.font=m.font);m["font-family"]&&(x.fontFamily='"'+m["font-family"][e](",")[0][ce](/^['"]+|['"]+$/g,bJ)+'"');m["font-size"]&&(x.fontSize=m["font-size"]);m["font-weight"]&&(x.fontWeight=m["font-weight"]);m["font-style"]&&(x.fontStyle=m["font-style"]);if(m.opacity!=null||m["stroke-width"]!=null||m.fill!=null||m.stroke!=null||m["stroke-width"]!=null||m["stroke-opacity"]!=null||m["fill-opacity"]!=null||m["stroke-dasharray"]!=null||m["stroke-miterlimit"]!=null||m["stroke-linejoin"]!=null||m["stroke-linecap"]!=null){q=u.shape||q;var o=(q.getElementsByTagName("fill")&&q.getElementsByTagName("fill")[0]),h=false;!o&&(h=o=bW("fill"));if("fill-opacity" in m||"opacity" in m){var p=((+l["fill-opacity"]+1||2)-1)*((+l.opacity+1||2)-1);p<0&&(p=0);p>1&&(p=1);o.opacity=p}m.fill&&(o.on=true);if(o.on==null||m.fill=="none"){o.on=false}if(o.on&&m.fill){var k=m.fill.match(bf);if(k){o.src=k[1];o.type="tile"}else{o.color=bQ.getRGB(m.fill).hex;o.src=bJ;o.type="solid";if(bQ.getRGB(m.fill).error&&(a.type in {circle:1,ellipse:1}||(m.fill+bJ).charAt()!="r")&&bg(a,m.fill)){l.fill="none";l.gradient=m.fill}}}h&&q[ci](o);var f=(q.getElementsByTagName("stroke")&&q.getElementsByTagName("stroke")[0]),g=false;!f&&(g=f=bW("stroke"));if((m.stroke&&m.stroke!="none")||m["stroke-width"]||m["stroke-opacity"]!=null||m["stroke-dasharray"]||m["stroke-miterlimit"]||m["stroke-linejoin"]||m["stroke-linecap"]){f.on=true}(m.stroke=="none"||f.on==null||m.stroke==0||m["stroke-width"]==0)&&(f.on=false);f.on&&m.stroke&&(f.color=bQ.getRGB(m.stroke).hex);var p=((+l["stroke-opacity"]+1||2)-1)*((+l.opacity+1||2)-1),t=(bl(m["stroke-width"])||1)*0.75;p<0&&(p=0);p>1&&(p=1);m["stroke-width"]==null&&(t=l["stroke-width"]);m["stroke-width"]&&(f.weight=t);t&&t<1&&(p*=t)&&(f.weight=1);f.opacity=p;m["stroke-linejoin"]&&(f.joinstyle=m["stroke-linejoin"]||"miter");f.miterlimit=m["stroke-miterlimit"]||8;m["stroke-linecap"]&&(f.endcap=m["stroke-linecap"]=="butt"?"flat":m["stroke-linecap"]=="square"?"square":"round");if(m["stroke-dasharray"]){var s={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};f.dashstyle=s[bp](m["stroke-dasharray"])?s[m["stroke-dasharray"]]:bJ}g&&q[ci](f)}if(a.type=="text"){var x=a.paper.span.style;l.font&&(x.font=l.font);l["font-family"]&&(x.fontFamily=l["font-family"]);l["font-size"]&&(x.fontSize=l["font-size"]);l["font-weight"]&&(x.fontWeight=l["font-weight"]);l["font-style"]&&(x.fontStyle=l["font-style"]);a.node.string&&(a.paper.span.innerHTML=(a.node.string+bJ)[ce](/</g,"&#60;")[ce](/&/g,"&#38;")[ce](/\n/g,"<br>"));a.W=l.w=a.paper.span.offsetWidth;a.H=l.h=a.paper.span.offsetHeight;a.X=l.x;a.Y=l.y+br(a.H/2);switch(l["text-anchor"]){case"start":a.node.style["v-text-align"]="left";a.bbx=br(a.W/2);break;case"end":a.node.style["v-text-align"]="right";a.bbx=-br(a.W/2);break;default:a.node.style["v-text-align"]="center";break}}};var bg=function(k,c){k.attrs=k.attrs||{};var b=k.attrs,o=k.node.getElementsByTagName("fill"),g="linear",f=".5 .5";k.attrs.gradient=c;c=(c+bJ)[ce](bM,function(r,q,p){g="radial";if(q&&p){q=bl(q);p=bl(p);ch(q-0.5,2)+ch(p-0.5,2)>0.25&&(p=b2.sqrt(0.25-ch(q-0.5,2))*((p>0.5)*2-1)+0.5);f=q+bR+p}return bJ});c=c[e](/\s*\-\s*/);if(g=="linear"){var j=c.shift();j=-bl(j);if(isNaN(j)){return null}}var h=a5(c);if(!h){return null}k=k.shape||k.node;o=o[0]||bW("fill");if(h[a8]){o.on=true;o.method="none";o.type=(g=="radial")?"gradientradial":"gradient";o.color=h[0].color;o.color2=h[h[a8]-1].color;var l=[];for(var m=0,a=h[a8];m<a;m++){h[m].offset&&l[be](h[m].offset+bR+h[m].color)}o.colors&&(o.colors.value=l[a8]?l[by](","):"0% "+o.color);if(g=="radial"){o.focus="100%";o.focussize=f;o.focusposition=f}else{o.angle=(270-j)%360}}return 1};var bB=function(f,a,j){var c=0,b=0,h=0,g=1;this[0]=f;this.id=bQ._oid++;this.node=f;f.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=a;this.paper=j;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!j.bottom&&(j.bottom=this);this.prev=j.top;j.top&&(j.top.next=this);j.top=this;this.next=null};bB[b5].rotate=function(b,c,a){if(this.removed){return this}if(b==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][by](bR)}return this._.rt.deg}b=(b+bJ)[e](bh);if(b[a8]-1){c=bl(b[1]);a=bl(b[2])}b=bl(b[0]);if(c!=null){this._.rt.deg=b}else{this._.rt.deg+=b}a==null&&(c=null);this._.rt.cx=c;this._.rt.cy=a;this.setBox(this.attrs,c,a);this.Group.style.rotation=this._.rt.deg;return this};bB[b5].setBox=function(f,m,p){if(this.removed){return this}var q=this.Group.style,c=(this.shape&&this.shape.style)||this.node.style;f=f||{};for(var j in f){if(f[bp](j)){this.attrs[j]=f[j]}}m=m||this._.rt.cx;p=p||this._.rt.cy;var l=this.attrs,u,v,t,g;switch(this.type){case"circle":u=l.cx-l.r;v=l.cy-l.r;t=g=l.r*2;break;case"ellipse":u=l.cx-l.rx;v=l.cy-l.ry;t=l.rx*2;g=l.ry*2;break;case"rect":case"image":u=+l.x;v=+l.y;t=l.width||0;g=l.height||0;break;case"text":this.textpath.v=["m",br(l.x),", ",br(l.y-2),"l",br(l.x)+1,", ",br(l.y-2)][by](bJ);u=l.x-br(this.W/2);v=l.y-this.H/2;t=this.W;g=this.H;break;case"path":if(!this.attrs.path){u=0;v=0;t=this.paper.width;g=this.paper.height}else{var k=bn(this.attrs.path);u=k.x;v=k.y;t=k.width;g=k.height}break;default:u=0;v=0;t=this.paper.width;g=this.paper.height;break}m=(m==null)?u+t/2:m;p=(p==null)?v+g/2:p;var h=m-this.paper.width/2,r=p-this.paper.height/2;if(this.type=="path"||this.type=="text"){(q.left!=h+"px")&&(q.left=h+"px");(q.top!=r+"px")&&(q.top=r+"px");this.X=this.type=="text"?u:-h;this.Y=this.type=="text"?v:-r;this.W=t;this.H=g;(c.left!=-h+"px")&&(c.left=-h+"px");(c.top!=-r+"px")&&(c.top=-r+"px")}else{(q.left!=h+"px")&&(q.left=h+"px");(q.top!=r+"px")&&(q.top=r+"px");this.X=u;this.Y=v;this.W=t;this.H=g;(q.width!=this.paper.width+"px")&&(q.width=this.paper.width+"px");(q.height!=this.paper.height+"px")&&(q.height=this.paper.height+"px");(c.left!=u-h+"px")&&(c.left=u-h+"px");(c.top!=v-r+"px")&&(c.top=v-r+"px");(c.width!=t+"px")&&(c.width=t+"px");(c.height!=g+"px")&&(c.height=g+"px");var a=(+f.r||0)/cl(t,g);if(this.type=="rect"&&this.arcsize.toFixed(4)!=a.toFixed(4)&&(a||this.arcsize)){var o=bW("roundrect"),b={},j=0,s=this.events&&this.events[a8];o.arcsize=a;o.raphael=this;this.Group[ci](o);this.Group.removeChild(this.node);this[0]=this.node=o;this.arcsize=a;for(var j in l){b[j]=l[j]}delete b.scale;this.attr(b);if(this.events){for(;j<s;j++){this.events[j].unbind=bZ(this.node,this.events[j].name,this.events[j].f,this)}}}}};bB[b5].hide=function(){!this.removed&&(this.Group.style.display="none");return this};bB[b5].show=function(){!this.removed&&(this.Group.style.display="block");return this};bB[b5].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return bn(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};bB[b5].remove=function(){if(this.removed){return}bT(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this){delete this[a]}this.removed=true};bB[b5].attr=function(){if(this.removed){return this}if(arguments[a8]==0){var c={};for(var f in this.attrs){if(this.attrs[bp](f)){c[f]=this.attrs[f]}}this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(arguments[a8]==1&&bQ.is(arguments[0],"string")){if(arguments[0]=="translation"){return a1.call(this)}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}if(arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[arguments[0]]}if(this.attrs&&arguments[a8]==1&&bQ.is(arguments[0],"array")){var g={};for(var f=0,b=arguments[0][a8];f<b;f++){g[arguments[0][f]]=this.attrs[arguments[0][f]]}return g}var a;if(arguments[a8]==2){a={};a[arguments[0]]=arguments[1]}arguments[a8]==1&&bQ.is(arguments[0],"object")&&(a=arguments[0]);if(a){if(a.text&&this.type=="text"){this.node.string=a.text}b3(this,a);if(a.gradient&&(({circle:1,ellipse:1})[bp](this.type)||(a.gradient+bJ).charAt()!="r")){bg(this,a.gradient)}(this.type!="path"||this._.rt.deg)&&this.setBox(this.attrs)}return this};bB[b5].toFront=function(){!this.removed&&this.Group.parentNode[ci](this.Group);this.paper.top!=this&&bj(this,this.paper);return this};bB[b5].toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);ba(this,this.paper)}return this};bB[b5].insertAfter=function(a){if(this.removed){return this}if(a.Group.nextSibling){a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling)}else{a.Group.parentNode[ci](this.Group)}bL(this,a,this.paper);return this};bB[b5].insertBefore=function(a){if(this.removed){return this}a.Group.parentNode.insertBefore(this.Group,a.Group);bN(this,a,this.paper);return this};var bq=function(j,k,a,f){var g=bW("group"),b=bW("oval"),c=b.style;g.style.cssText="position:absolute;left:0;top:0;width:"+j.width+"px;height:"+j.height+"px";g.coordsize=j.coordsize;g.coordorigin=j.coordorigin;g[ci](b);var h=new bB(b,g,j);h.type="circle";b3(h,{stroke:"#000",fill:"none"});h.attrs.cx=k;h.attrs.cy=a;h.attrs.r=f;h.setBox({x:k-f,y:a-f,width:f*2,height:f*2});j.canvas[ci](g);return h},co=function(k,c,f,b,m,l){var h=bW("group"),j=bW("roundrect"),a=(+l||0)/(cl(b,m));h.style.cssText="position:absolute;left:0;top:0;width:"+k.width+"px;height:"+k.height+"px";h.coordsize=k.coordsize;h.coordorigin=k.coordorigin;h[ci](j);j.arcsize=a;var g=new bB(j,h,k);g.type="rect";b3(g,{stroke:"#000"});g.arcsize=a;g.setBox({x:c,y:f,width:b,height:m,r:l});k.canvas[ci](h);return g},bV=function(k,a,b,h,j){var g=bW("group"),l=bW("oval"),c=l.style;g.style.cssText="position:absolute;left:0;top:0;width:"+k.width+"px;height:"+k.height+"px";g.coordsize=k.coordsize;g.coordorigin=k.coordorigin;g[ci](l);var f=new bB(l,g,k);f.type="ellipse";b3(f,{stroke:"#000"});f.attrs.cx=a;f.attrs.cy=b;f.attrs.rx=h;f.attrs.ry=j;f.setBox({x:a-h,y:b-j,width:h*2,height:j*2});k.canvas[ci](g);return f},a6=function(k,l,b,c,a,m){var h=bW("group"),j=bW("image"),f=j.style;h.style.cssText="position:absolute;left:0;top:0;width:"+k.width+"px;height:"+k.height+"px";h.coordsize=k.coordsize;h.coordorigin=k.coordorigin;j.src=l;h[ci](j);var g=new bB(j,h,k);g.type="image";g.attrs.src=l;g.attrs.x=b;g.attrs.y=c;g.attrs.w=a;g.attrs.h=m;g.setBox({x:b,y:c,width:a,height:m});k.canvas[ci](h);return g},bk=function(k,b,c,a){var j=bW("group"),o=bW("shape"),f=o.style,m=bW("path"),l=m.style,h=bW("textpath");j.style.cssText="position:absolute;left:0;top:0;width:"+k.width+"px;height:"+k.height+"px";j.coordsize=k.coordsize;j.coordorigin=k.coordorigin;m.v=bQ.format("m{0},{1}l{2},{1}",br(b),br(c),br(b)+1);m.textpathok=true;f.width=k.width;f.height=k.height;h.string=a+bJ;h.on=true;o[ci](h);o[ci](m);j[ci](o);var g=new bB(h,j,k);g.shape=o;g.textpath=m;g.type="text";g.attrs.text=a;g.attrs.x=b;g.attrs.y=c;g.attrs.w=1;g.attrs.h=1;b3(g,{font:bb.font,stroke:"none",fill:"#000"});g.setBox();k.canvas[ci](j);return g},b8=function(a,c){var b=this.canvas.style;a==+a&&(a+="px");c==+c&&(c+="px");b.width=a;b.height=c;b.clip="rect(0 "+a+" "+c+" 0)";return this},bW;bu.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!bu.namespaces.rvml&&bu.namespaces.add("rvml","urn:schemas-microsoft-com:vml");bW=function(a){return bu.createElement("<rvml:"+a+' class="rvml">')}}catch(bY){bW=function(a){return bu.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var R=function(){var j=bP[b7](null,arguments),l=j.container,b=j.height,a,k=j.width,c=j.x,f=j.y;if(!l){throw new Error("VML container not found.")}var h=new ca,g=h.canvas=bu.createElement("div"),m=g.style;k=k||512;b=b||342;k==+k&&(k+="px");b==+b&&(b+="px");h.width=1000;h.height=1000;h.coordsize="1000 1000";h.coordorigin="0 0";h.span=bu.createElement("span");h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g[ci](h.span);m.cssText=bQ.format("width:{0};height:{1};position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",k,b);if(l==1){bu.body[ci](g);m.left=c+"px";m.top=f+"px"}else{l.style.width=k;l.style.height=b;if(l.firstChild){l.insertBefore(g,l.firstChild)}else{l[ci](g)}}cn.call(h,h,bQ.fn);return h};ca[b5].clear=function(){this.canvas.innerHTML=bJ;this.span=bu.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[ci](this.span);this.bottom=this.top=null};ca[b5].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=a2(a)}}}if((/^Apple|^Google/).test(navigator.vendor)&&!(navigator.userAgent.indexOf("Version/4.0")+1)){ca[b5].safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){a.remove()})}}else{ca[b5].safari=function(){}}var bZ=(function(){if(bu.addEventListener){return function(b,a,f,g){var c=function(h){return f.call(g,h)};b.addEventListener(a,c,false);return function(){b.removeEventListener(a,c,false);return true}}}else{if(bu.attachEvent){return function(b,f,a,g){var c=function(j){return a.call(g,j||bH.event)};b.attachEvent("on"+f,c);var h=function(){b.detachEvent("on"+f,c);return true};return h}}}})();for(var b1=bD[a8];b1--;){(function(a){bB[b5][a]=function(b){if(bQ.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:bZ(this.shape||this.node,a,b,this)})}return this};bB[b5]["un"+a]=function(c){var b=this.events,f=b[a8];while(f--){if(b[f].name==a&&b[f].f==c){b[f].unbind();b.splice(f,1);!b.length&&delete this.events;return this}}return this}})(bD[b1])}bB[b5].hover=function(a,b){return this.mouseover(a).mouseout(b)};bB[b5].unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};ca[b5].circle=function(c,a,b){return bq(this,c||0,a||0,b||0)};ca[b5].rect=function(g,b,f,a,c){return co(this,g||0,b||0,f||0,a||0,c||0)};ca[b5].ellipse=function(f,b,a,c){return bV(this,f||0,b||0,a||0,c||0)};ca[b5].path=function(a){a&&!bQ.is(a,"string")&&!bQ.is(a[0],"array")&&(a+=bJ);return a4(bQ.format[b7](bQ,arguments),this)};ca[b5].image=function(c,g,b,f,a){return a6(this,c||"about:blank",g||0,b||0,f||0,a||0)};ca[b5].text=function(c,a,b){return bk(this,c||0,a||0,b||bJ)};ca[b5].set=function(a){arguments[a8]>1&&(a=Array[b5].splice.call(arguments,0,arguments[a8]));return new bo(a)};ca[b5].setSize=b8;ca[b5].top=ca[b5].bottom=null;ca[b5].raphael=bQ;function a0(){return this.x+bR+this.y}bB[b5].scale=function(z,A,t,x){if(z==null&&A==null){return{x:this._.sx,y:this._.sy,toString:a0}}A=A||z;!+A&&(A=z);var s,v,u,w,b=this.attrs;if(z!=0){var B=this.getBBox(),F=B.x+B.width/2,r=B.y+B.height/2,c=z/this._.sx,f=A/this._.sy;t=(+t||t==0)?t:F;x=(+x||x==0)?x:r;var C=~~(z/b2.abs(z)),H=~~(A/b2.abs(A)),m=this.node.style,G=t+(F-t)*c,a=x+(r-x)*f;switch(this.type){case"rect":case"image":var D=b.width*C*c,p=b.height*H*f;this.attr({height:p,r:b.r*cl(C*c,H*f),width:D,x:G-D/2,y:a-p/2});break;case"circle":case"ellipse":this.attr({rx:b.rx*C*c,ry:b.ry*H*f,r:b.r*cl(C*c,H*f),cx:G,cy:a});break;case"path":var k=b0(b.path),j=true;for(var g=0,q=k[a8];g<q;g++){var l=k[g],h,o=cg.call(l[0]);if(o=="M"&&j){continue}else{j=false}if(o=="A"){l[k[g][a8]-2]*=c;l[k[g][a8]-1]*=f;l[1]*=C*c;l[2]*=H*f;l[5]=+(C+H?!!+l[5]:!+l[5])}else{if(o=="H"){for(h=1,jj=l[a8];h<jj;h++){l[h]*=c}}else{if(o=="V"){for(h=1,jj=l[a8];h<jj;h++){l[h]*=f}}else{for(h=1,jj=l[a8];h<jj;h++){l[h]*=(h%2)?c:f}}}}}var y=bn(k),s=G-y.x-y.width/2,v=a-y.y-y.height/2;k[0][1]+=s;k[0][2]+=v;this.attr({path:k});break}if(this.type in {text:1,image:1}&&(C!=1||H!=1)){if(this.transformations){this.transformations[2]="scale("[cb](C,",",H,")");this.node[S]("transform",this.transformations[by](bR));s=(C==-1)?-b.x-(D||0):b.x;v=(H==-1)?-b.y-(p||0):b.y;this.attr({x:s,y:v});b.fx=C-1;b.fy=H-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11="[cb](C,", M12=0, M21=0, M22=",H,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");m.filter=(this.node.filterMatrix||bJ)+(this.node.filterOpacity||bJ)}}else{if(this.transformations){this.transformations[2]=bJ;this.node[S]("transform",this.transformations[by](bR));b.fx=0;b.fy=0}else{this.node.filterMatrix=bJ;m.filter=(this.node.filterMatrix||bJ)+(this.node.filterOpacity||bJ)}}b.scale=[z,A,t,x][by](bR);this._.sx=z;this._.sy=A}return this};bB[b5].clone=function(){var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var cs=function(b,a){return function(l,j,h){l=bA(l);var q,r,s,g,k="",m={},p,c=0;for(var f=0,o=l.length;f<o;f++){s=l[f];if(s[0]=="M"){q=+s[1];r=+s[2]}else{g=a7(q,r,s[1],s[2],s[3],s[4],s[5],s[6]);if(c+g>j){if(a&&!m.start){p=bQ.findDotsAtSegment(q,r,s[1],s[2],s[3],s[4],s[5],s[6],(j-c)/g);k+=["C",p.start.x,p.start.y,p.m.x,p.m.y,p.x,p.y];if(h){return k}m.start=k;k=["M",p.x,p.y+"C",p.n.x,p.n.y,p.end.x,p.end.y,s[5],s[6]][by]();c+=g;q=+s[5];r=+s[6];continue}if(!b&&!a){p=bQ.findDotsAtSegment(q,r,s[1],s[2],s[3],s[4],s[5],s[6],(j-c)/g);return{x:p.x,y:p.y,alpha:p.alpha}}}c+=g;q=+s[5];r=+s[6]}k+=s}m.end=k;p=b?c:a?m:bQ.findDotsAtSegment(q,r,s[1],s[2],s[3],s[4],s[5],s[6],1);p.alpha&&(p={x:p.x,y:p.y,alpha:p.alpha});return p}},a7=bU(function(p,k,f,g,l,m,o,a){var h={x:0,y:0},b=0;for(var c=0;c<1.01;c+=0.01){var j=bt(p,k,f,g,l,m,o,a,c);c&&(b+=b2.sqrt(ch(h.x-j.x,2)+ch(h.y-j.y,2)));h=j}return b});var bO=cs(1),bI=cs(),bw=cs(0,1);bB[b5].getTotalLength=function(){if(this.type!="path"){return}return bO(this.attrs.path)};bB[b5].getPointAtLength=function(a){if(this.type!="path"){return}return bI(this.attrs.path,a)};bB[b5].getSubpath=function(a,b){if(this.type!="path"){return}if(b2.abs(this.getTotalLength()-b)<0.000001){return bw(this.attrs.path,a).end}var c=bw(this.attrs.path,b,1);return a?bw(c,a).end:c};bQ.easing_formulas={linear:function(a){return a},"<":function(a){return ch(a,3)},">":function(a){return ch(a-1,3)+1},"<>":function(a){a=a*2;if(a<1){return ch(a,3)/2}a-=2;return(ch(a,3)+2)/2},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a=a-1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){if(a==0||a==1){return a}var b=0.3,c=b/4;return ch(2,-10*a)*b2.sin((a-c)*(2*b2.PI)/b)+1},bounce:function(b){var c=7.5625,a=2.75,f;if(b<(1/a)){f=c*b*b}else{if(b<(2/a)){b-=(1.5/a);f=c*b*b+0.75}else{if(b<(2.5/a)){b-=(2.25/a);f=c*b*b+0.9375}else{b-=(2.625/a);f=c*b*b+0.984375}}}return f}};var bx={length:0},cc=function(){var z=+new Date;for(var h in bx){if(h!="length"&&bx[bp](h)){var a=bx[h];if(a.stop){delete bx[h];bx[a8]--;continue}var B=z-a.start,o=a.ms,p=a.easing,g=a.from,t=a.diff,q=a.to,u=a.t,r=a.prev||0,A=a.el,m=a.callback,s={},v;if(B<o){var k=bQ.easing_formulas[p]?bQ.easing_formulas[p](B/o):B/o;for(var l in g){if(g[bp](l)){switch(bi[l]){case"along":v=k*o*t[l];q.back&&(v=q.len-v);var j=bI(q[l],v);A.translate(t.sx-t.x||0,t.sy-t.y||0);t.x=j.x;t.y=j.y;A.translate(j.x-t.sx,j.y-t.sy);q.rot&&A.rotate(t.r+j.alpha,j.x,j.y);break;case"number":v=+g[l]+k*o*t[l];break;case"colour":v="rgb("+[bK(br(g[l].r+k*o*t[l].r)),bK(br(g[l].g+k*o*t[l].g)),bK(br(g[l].b+k*o*t[l].b))][by](",")+")";break;case"path":v=[];for(var c=0,w=g[l][a8];c<w;c++){v[c]=[g[l][c][0]];for(var f=1,b=g[l][c][a8];f<b;f++){v[c][f]=+g[l][c][f]+k*o*t[l][c][f]}v[c]=v[c][by](bR)}v=v[by](bR);break;case"csv":switch(l){case"translation":var x=t[l][0]*(B-r),y=t[l][1]*(B-r);u.x+=x;u.y+=y;v=x+bR+y;break;case"rotation":v=+g[l][0]+k*o*t[l][0];g[l][1]&&(v+=","+g[l][1]+","+g[l][2]);break;case"scale":v=[+g[l][0]+k*o*t[l][0],+g[l][1]+k*o*t[l][1],(2 in q[l]?q[l][2]:bJ),(3 in q[l]?q[l][3]:bJ)][by](bR);break;case"clip-rect":v=[];var c=4;while(c--){v[c]=+g[l][c]+k*o*t[l][c]}break}break}s[l]=v}}A.attr(s);A._run&&A._run.call(A)}else{if(q.along){var j=bI(q.along,q.len*!q.back);A.translate(t.sx-(t.x||0)+j.x-t.sx,t.sy-(t.y||0)+j.y-t.sy);q.rot&&A.rotate(t.r+j.alpha,j.x,j.y)}(u.x||u.y)&&A.translate(-u.x,-u.y);q.scale&&(q.scale=q.scale+bJ);A.attr(q);delete bx[h];bx[a8]--;A.in_animation=null;bQ.is(m,"function")&&m.call(A)}a.prev=B}}bQ.svg&&A&&A.paper.safari();bx[a8]&&setTimeout(cc)},bK=function(a){return a>255?255:(a<0?0:a)},a1=function(c,a){if(c==null){return{x:this._.tx,y:this._.ty,toString:a0}}this._.tx+=+c;this._.ty+=+a;switch(this.type){case"circle":case"ellipse":this.attr({cx:+c+this.attrs.cx,cy:+a+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+c+this.attrs.x,y:+a+this.attrs.y});break;case"path":var b=b0(this.attrs.path);b[0][1]+=+c;b[0][2]+=+a;this.attr({path:b});break}return this};bB[b5].animateWith=function(f,a,g,b,c){bx[f.id]&&(a.start=bx[f.id].start);return this.animate(a,g,b,c)};bB[b5].animateAlong=bz();bB[b5].animateAlongBack=bz(1);function bz(a){return function(g,c,h,b){var f={back:a};bQ.is(h,"function")?(b=h):(f.rot=h);g&&g.constructor==bB&&(g=g.attrs.path);g&&(f.along=g);return this.animate(f,c,b)}}bB[b5].onAnimation=function(a){this._run=a||0;return this};bB[b5].animate=function(a,s,t,k){if(bQ.is(t,"function")||!t){k=t||null}var l={},p={},v={};for(var r in a){if(a[bp](r)){if(bi[bp](r)){l[r]=this.attr(r);(l[r]==null)&&(l[r]=bb[r]);p[r]=a[r];switch(bi[r]){case"along":var f=bO(a[r]),o=bI(a[r],f*!!a.back),g=this.getBBox();v[r]=f/s;v.tx=g.x;v.ty=g.y;v.sx=o.x;v.sy=o.y;p.rot=a.rot;p.back=a.back;p.len=f;a.rot&&(v.r=bl(this.rotate())||0);break;case"number":v[r]=(p[r]-l[r])/s;break;case"colour":l[r]=bQ.getRGB(l[r]);var m=bQ.getRGB(p[r]);v[r]={r:(m.r-l[r].r)/s,g:(m.g-l[r].g)/s,b:(m.b-l[r].b)/s};break;case"path":var c=bA(l[r],p[r]);l[r]=c[0];var u=c[1];v[r]=[];for(var h=0,w=l[r][a8];h<w;h++){v[r][h]=[0];for(var j=1,b=l[r][h][a8];j<b;j++){v[r][h][j]=(u[h][j]-l[r][h][j])/s}}break;case"csv":var q=(a[r]+bJ)[e](bh),x=(l[r]+bJ)[e](bh);switch(r){case"translation":l[r]=[0,0];v[r]=[q[0]/s,q[1]/s];break;case"rotation":l[r]=(x[1]==q[1]&&x[2]==q[2])?x:[0,q[1],q[2]];v[r]=[(q[0]-l[r][0])/s,0,0];break;case"scale":a[r]=q;l[r]=(l[r]+bJ)[e](bh);v[r]=[(q[0]-l[r][0])/s,(q[1]-l[r][1])/s,0,0];break;case"clip-rect":l[r]=(l[r]+bJ)[e](bh);v[r]=[];var h=4;while(h--){v[r][h]=(q[h]-l[r][h])/s}break}p[r]=q}}}}this.stop();this.in_animation=1;bx[this.id]={start:a.start||+new Date,ms:s,easing:t,from:l,diff:v,to:p,el:this,callback:k,t:{x:0,y:0}};++bx[a8]==1&&cc();return this};bB[b5].stop=function(){bx[this.id]&&bx[a8]--;delete bx[this.id];return this};bB[b5].translate=function(b,a){return this.attr({translation:b+" "+a})};bB[b5][ct]=function(){return"Rapha\xebl\u2019s object"};bQ.ae=bx;var bo=function(c){this.items=[];this[a8]=0;if(c){for(var b=0,a=c[a8];b<a;b++){if(c[b]&&(c[b].constructor==bB||c[b].constructor==bo)){this[this.items[a8]]=this.items[this.items[a8]]=c[b];this[a8]++}}}};bo[b5][be]=function(){var a,f;for(var c=0,b=arguments[a8];c<b;c++){a=arguments[c];if(a&&(a.constructor==bB||a.constructor==bo)){f=this.items[a8];this[f]=this.items[f]=a;this[a8]++}}return this};bo[b5].pop=function(){delete this[this[a8]--];return this.items.pop()};for(var i in bB[b5]){if(bB[b5][bp](i)){bo[b5][i]=(function(a){return function(){for(var c=0,b=this.items[a8];c<b;c++){this.items[c][a][b7](this.items[c],arguments)}return this}})(i)}}bo[b5].attr=function(g,a){if(g&&bQ.is(g,"array")&&bQ.is(g[0],"object")){for(var h=0,b=g[a8];h<b;h++){this.items[h].attr(g[h])}}else{for(var f=0,c=this.items[a8];f<c;f++){this.items[f].attr[b7](this.items[f],arguments)}}return this};bo[b5].animate=function(f,j,a,b){(bQ.is(a,"function")||!a)&&(b=a||null);var k=this.items[a8],h=k,c=this,g;b&&(g=function(){!--k&&b.call(c)});this.items[--h].animate(f,j,a||g,g);while(h--){this.items[h].animateWith(this.items[k-1],f,j,a||g,g)}return this};bo[b5].insertAfter=function(a){var b=this.items[a8];while(b--){this.items[b].insertAfter(a)}return this};bo[b5].getBBox=function(){var h=[],a=[],g=[],c=[];for(var f=this.items[a8];f--;){var b=this.items[f].getBBox();h[be](b.x);a[be](b.y);g[be](b.x+b.width);c[be](b.y+b.height)}h=cl[b7](0,h);a=cl[b7](0,a);return{x:h,y:a,width:bd[b7](0,g)-h,height:bd[b7](0,c)-a}};bQ.registerFont=function(h){if(!h.face){return h}this.fonts=this.fonts||{};var g={w:h.w,face:{},glyphs:{}},c=h.face["font-family"];for(var a in h.face){if(h.face[bp](a)){g.face[a]=h.face[a]}}if(this.fonts[c]){this.fonts[c][be](g)}else{this.fonts[c]=[g]}if(!h.svg){g.face["units-per-em"]=bC(h.face["units-per-em"],10);for(var f in h.glyphs){if(h.glyphs[bp](f)){var b=h.glyphs[f];g.glyphs[f]={w:b.w,k:{},d:b.d&&"M"+b.d[ce](/[mlcxtrv]/g,function(k){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[k]||"M"})+"z"};if(b.k){for(var j in b.k){if(b[bp](j)){g.glyphs[f].k[j]=b.k[j]}}}}}}return h};ca[b5].getFont=function(b,a,j,h){h=h||"normal";j=j||"normal";a=+a||{normal:400,bold:700,lighter:300,bolder:800}[a]||400;var g=bQ.fonts[b];if(!g){var m=new RegExp("(^|\\s)"+b[ce](/[^\w\d\s+!~.:_-]/g,bJ)+"(\\s|$)","i");for(var k in bQ.fonts){if(bQ.fonts[bp](k)){if(m.test(k)){g=bQ.fonts[k];break}}}}var f;if(g){for(var c=0,l=g[a8];c<l;c++){f=g[c];if(f.face["font-weight"]==a&&(f.face["font-style"]==j||!f.face["font-style"])&&f.face["font-stretch"]==h){break}}}return f};ca[b5].print=function(c,h,p,u,t,f){f=f||"middle";var l=this.set(),g=(p+bJ)[e](bJ),k=0,r=bJ,b;bQ.is(u,"string")&&(u=this.getFont(u));if(u){b=(t||16)/u.face["units-per-em"];var m=u.face.bbox.split(bh),v=+m[0],s=+m[1]+(f=="baseline"?m[3]-m[1]+(+u.face.descent):(m[3]-m[1])/2);for(var o=0,a=g[a8];o<a;o++){var q=o&&u.glyphs[g[o-1]]||{},j=u.glyphs[g[o]];k+=o?(q.w||u.w)+(q.k&&q.k[g[o]]||0):0;j&&j.d&&l[be](this.path(j.d).attr({fill:"#000",stroke:"none",translation:[k,0]}))}l.scale(b,b,v,s).translate(c-v,h-s)}return l};bQ.format=function(a){var b=bQ.is(arguments[1],"array")?[0][cb](arguments[1]):arguments,c=/\{(\d+)\}/g;a&&bQ.is(a,"string")&&b[a8]-1&&(a=a[ce](c,function(f,g){return b[++g]==null?bJ:b[g]}));return a||bJ};bQ.ninja=function(){var a=Raphael;if(a9.was){Raphael=a9.is}else{delete Raphael}return a};bQ.el=bB[b5];return bQ})();Raphael.colorwheel=function(a,E,R){var o,C,l,u=R||60,V={},t={},K,j={},W,e,c,v,S,b=[function(){},function(){}],M,T=2,s;function G(Y,Z){return{x:Y,y:Z}}function L(Y){return Y*(Math.PI/180)}function A(Y,aa){var Z=Y>0?0:180;return Z+Math.atan((0-aa)/(0-Y))*180/(Math.PI)}function r(Z,Y){l=Y;K=l/20;c=l/2;v=$(Z);o=Raphael(v[0],l,l);o.safari();Q();g();t.cursor=N(K);V.cursor=N(K*0.5);z();v.css({height:l+"px",width:l+"px"});m(v);return J()}function m(Y){$(Y).css({unselectable:"on","-moz-user-select":"none","-webkit-user-select":"none"})}function J(){return{input:f,onchange:X,ondrag:x,color:H}}function f(Y){S=null;e=Y;$(Y).keyup(function(){if(this.value.match(/^#([0-9A-F]){3}$|^#([0-9A-F]){6}$/img)){O(this.value);U(true);i()}});O(Y.value);U(true);return J()}function X(Y){S=Y;U(false);return J()}function x(Y,Z){b=[Y||function(){},Z||function(){}];return J()}function h(Z){var Y=Z.pageX-(v.offset().left+c),aa=Z.pageY-(v.offset().top+c);if(W==t){B(Y,aa);U();i();return true}if(W==V){D(Y,aa);U();i();return true}}function k(Y,Z){$(document).mouseup(w);$(document).mousemove(h);W=Z;h(Y);b[0](C)}function w(){$(document).unbind("mouseup",w);$(document).unbind("mousemove",h);b[1](C);i()}function F(Y,Z){Z.mousemove=null;W=null}function z(){$([t.event.node,t.cursor[0].node]).mousedown(function(Y){k(Y,t)});$([V.b.node,V.cursor[0].node]).mousedown(function(Y){k(Y,V)})}function N(Y){var Z=o.set().push(o.circle(0,0,Y).attr({"stroke-width":4,stroke:"#333"}),o.circle(0,0,Y+2).attr({"stroke-width":1,stroke:"#FFF",opacity:0.5}));Z[0].node.style.cursor="crosshair";return Z}function D(Y,Z){Y=Y+c;Z=Z+c;if(Y<s.x){Y=s.x}if(Y>s.x+s.l){Y=s.x+s.l}if(Z<s.y){Z=s.y}if(Z>s.y+s.l){Z=s.y+s.l}V.cursor.attr({cx:Y,cy:Z}).translate(0,0)}function y(Y){var Z=Raphael.getRGB(Y).hex;V.h.attr("fill",Z)}function I(){return Raphael.rgb2hsb(V.h.attr("fill")).h}function H(Z){var Y=O(Z);U(false);return Y}function O(aa){if(aa===undefined){return C}var Z=o.rect(1,1,1,1).attr({fill:aa}),Y=o.raphael.rgb2hsb(Z.attr("fill"));D((0-s.l/2)+(s.l*Y.s),s.l/2-(s.l*Y.b));B((360*(Y.h))-90);Z.remove();return J()}function U(aa){var Y=V.cursor.items[0].attr("cx"),ac=V.cursor.items[0].attr("cy"),Z={b:1-(ac-s.y)/s.l,s:(Y-s.x)/s.l,h:I()};C=Raphael.hsb2rgb(Z.h,Z.s,Z.b);if(e){var ab=C.hex;if(aa!=true){e.value=ab}if(Z.b<0.5){$(e).css("color","#FFF")}else{$(e).css("color","#000")}e.style.background=ab}}function B(Z){var aa;if(arguments.length==2){aa=A(arguments[0],arguments[1])}else{aa=arguments[0]}var Y=Math.cos(L(aa))*(c-K-T);var ab=Math.sin(L(aa))*(c-K-T);t.cursor.attr({cx:Y+c,cy:ab+c}).translate(0,0);y("hsb("+(aa+90)/360+",1,1)")}function P(){if(s){return s}var Y=l-(K*4);s={x:(Y/6)+K*2+T,y:(Y/6)+K*2+T,l:(Y*2/3)-T*2};return s}function Q(){P();box=[s.x,s.y,s.l,s.l];V.h=o.rect.apply(o,box).attr({stroke:"#EEE",gradient:"0-#FFF-#000",opacity:1});V.s=o.rect.apply(o,box).attr({stroke:null,gradient:"0-#FFF-#FFF",opacity:0});V.b=o.rect.apply(o,box).attr({stroke:null,gradient:"90-#000-#FFF",opacity:0});V.b.node.style.cursor="crosshair"}function p(){var Y="M -@W 0 L @W 0 L @W @H L -@W @H z";return Y.replace(/@H/img,K*2).replace(/@W/img,K)}function q(aa,ab,Z){var ac=aa.clone();var Y=ab*(255/Z);ac.rotate((360/Z)*ab,(l/2),l/2);ac.attr({"stroke-width":0,fill:"hsb("+ab*(1/Z)+", 1, 0.85)"});t.hues.push(ac)}function g(){var Z=p(),aa=o.path(Z).attr({stroke:null}).translate(l/2,T),Y=u;t.hues=o.set();for(n=0;n<Y;n++){q(aa,n,Y)}t.event=o.circle(c,c,c-K-T).attr({"stroke-width":K*2,opacity:0.01});t.outline=o.circle(c,c,c-K-T).attr({stroke:"#000","stroke-width":(K*2)+3,opacity:0.1});t.outline.toBack();t.event.node.style.cursor="crosshair"}function i(){if(S!=undefined){S(C)}}return r(a,E)};
/*! jQuery v1.7.2 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement){cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close()}d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1){for(h in a.converters){typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h])}}l=k,k=d[g];if(k==="*"){k=l}else{if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g){i in d&&(c[g[i]]=d[i])}while(f[0]==="*"){f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"))}if(h){for(i in e){if(e[i]&&e[i].test(h)){f.unshift(i);break}}}if(f[0] in d){j=f[0]}else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b)){f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)})}else{if(!c&&f.type(b)==="object"){for(var e in b){b_(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c){c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d])}e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++){l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)))}(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++){h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border"){for(;e<g;e+=2){c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0}}return d+"px"}d=by(a,b);if(d<0||d==null){d=a.style[b]}if(bt.test(d)){return d}d=parseFloat(d)||0;if(c){for(;e<g;e+=2){d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0)}}return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio"){a.defaultChecked=a.checked}}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i){for(d=0,e=i[c].length;d<e;d++){f.event.add(b,c,i[c][d])}}}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}function T(a,b,c){b=b||0;if(f.isFunction(b)){return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c})}if(b.nodeType){return f.grep(a,function(a,d){return a===b===c})}if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b)){return f.filter(b,d,!c)}b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return !a||!a.parentNode||a.parentNode.nodeType===11}function K(){return !0}function J(){return !1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b])){continue}if(b!=="toJSON"){return !1}}return !0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else{d=b}}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++){b[a[c]]=!0}return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a){return this}if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2]){return f.find(a)}this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return !d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a)){return f.ready(a)}a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++){if((a=arguments[j])!=null){for(c in a){d=i[c],f=a[c];if(i===f){continue}l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}}}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body){return setTimeout(e.ready,1)}e.isReady=!0;if(a!==!0&&--e.readyWait>0){return}A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete"){return setTimeout(e.ready,1)}if(c.addEventListener){c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1)}else{if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a)){return !1}try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}var d;for(d in a){}return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a){return !1}return !0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b){return null}b=e.trim(b);if(a.JSON&&a.JSON.parse){return a.JSON.parse(b)}if(n.test(b.replace(o,"@").replace(p,"]").replace(q,""))){return(new Function("return "+b))()}e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c){return null}var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a){if(c.apply(a[f],d)===!1){break}}}else{for(;g<h;){if(c.apply(a[g++],d)===!1){break}}}}else{if(i){for(f in a){if(c.call(a[f],f,a[f])===!1){break}}}else{for(;g<h;){if(c.call(a[g],g,a[g++])===!1){break}}}}return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H){return H.call(b,a,c)}d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number"){for(var f=c.length;e<f;e++){a[d++]=c[e]}}else{while(c[e]!==b){a[d++]=c[e++]}}a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++){e=!!b(a[f],f),c!==e&&d.push(a[f])}return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k){for(;i<j;i++){f=c(a[i],i,d),f!=null&&(h[h.length]=f)}}else{for(g in a){f=c(a[g],g,d),f!=null&&(h[h.length]=f)}}return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a)){return b}var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d){e.access(a,c,l,d[l],1,h,f)}g=1}else{if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c){for(;l<m;l++){c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i)}}g=1}}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++){g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)}},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++){if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++){for(var f=0;f<c.length;f++){if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique){break}}}}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++){if(a===c[b]){return !0}}}return !1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return !c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return !d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return !!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null){a=h}else{for(var b in h){a[b]=h[b]}}return a}},i=h.promise({}),j;for(j in g){i[j]=g[j].fire,i[j+"With"]=g[j].fireWith}i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++){b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g}g||j.resolveWith(j,b)}else{j!==a&&j.resolveWith(j,d?[a]:[])}return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e){return{}}g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent){for(n in {submit:1,change:1,focusin:1}){m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o}}j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div><table "+n+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return !!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b){return}n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function"){e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c)}g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c]){return g.events}k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k]){return}if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++){delete d[b[e]]}if(!(c?m:f.isEmptyObject)(d)){return}}}if(!c){delete j[k].data;if(!m(j[k])){return}}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b){return b!==!0&&a.getAttribute("classid")===b}}return !0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++){h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]))}f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object"){return this.each(function(){f.data(this,a)})}d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d){return f.queue(this[0],a)}return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--){if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0)){h++,l.add(m)}}m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a)){return this.each(function(b){f(this).addClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1){if(!e.className&&b.length===1){e.className=a}else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++){~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ")}e.className=f.trim(g)}}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a)){return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className){if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++){h=h.replace(" "+c[i]+" "," ")}g.className=f.trim(h)}else{g.className=""}}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a)){return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)})}return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++]){i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}}else{if(c==="undefined"||c==="boolean"){this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""}}})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++){if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1){return !0}}return !1},val:function(a){var c,d,e,g=this[0];if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set" in c)||c.set(this,h,"value")===b){this.value=h}}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get" in c&&(d=c.get(g,"value"))!==b){return d}d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return !b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0){return null}c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j){return b}h.push(b)}}if(j&&!h.length&&i.length){return f(i[g]).val()}return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn){return f(a)[c](d)}if(typeof a.getAttribute=="undefined"){return f.prop(a,c,d)}i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set" in h&&i&&(g=h.set(a,d,c))!==b){return g}a.setAttribute(c,""+d);return d}if(h&&"get" in h&&i&&(g=h.get(a,c))!==null){return g}g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++){e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode){f.error("type property can't be changed")}else{if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button")){return w.get(a,b)}return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button")){return w.set(a,b,c)}a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set" in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get" in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b)){return a.checked=f.inArray(f(a).val(),b)>=0}}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1){a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o){f.event.remove(a,j+b[h],c,d,!0)}continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++){s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s))}r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered)){return}h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h]){return}c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j){j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0)}return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1){return}r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode){r.push([m,s]),n=m}n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++){m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault()}c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this){if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++){s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s)}r.length&&j.push({elem:m,matches:r})}}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace)){c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando]){return a}var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;){e=i[--d],a[e]=g[e]}a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event)){return new f.Event(a,b)}a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d)){a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b}return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form")){return !1}f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form")){return !1}f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})}return !1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox"){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a){this.on(i,c,d,a[i],g)}return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1){e=J}else{if(!e){return this}}g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a){this.off(g,c,a[g])}return this}if(c===!1||typeof c=="function"){d=c,c=b}d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){return f.event.trigger(a,b,this[0],!0)}},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length){b[d++].guid=c}return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else{if(m.filter(b,[j]).length>0){k=j;break}}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9){return[]}if(!b||typeof b!="string"){return e}var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b)){if(w.length===2&&o.relative[w[0]]){j=y(w[0]+w[1],d,f)}else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length){b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}}}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length){q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}}else{k=w=[]}}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]"){if(!u){e.push.apply(e,k)}else{if(d&&d.nodeType===1){for(t=0;k[t]!=null;t++){k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t])}}else{for(t=0;k[t]!=null;t++){k[t]&&k[t].nodeType===1&&e.push(j[t])}}}}else{s(k,e)}l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h){for(var b=1;b<a.length;b++){a[b]===a[b-1]&&a.splice(b--,1)}}}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a){return[]}for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter){if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\"){continue}s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f){g=i=!0}else{if(f===!0){continue}}}if(f){for(n=0;(j=s[n])!=null;n++){j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0))}}if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g){return[]}break}}}if(a===q){if(g==null){m.error(a)}else{break}}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string"){return a.textContent}if(typeof a.innerText=="string"){return a.innerText.replace(k,"")}for(a=a.firstChild;a;a=a.nextSibling){e+=n(a)}}else{if(d===3||d===4){return a.nodeValue}}}else{for(b=0;c=a[b];b++){c.nodeType!==8&&(e+=n(c))}}return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++){if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++){c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b)}d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++){d[e].getAttribute("name")===a[1]&&c.push(d[e])}return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined"){return b.getElementsByTagName(a[1])}}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f){return a}for(var g=0,h;(h=b[g])!=null;g++){h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1))}return !1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else{a[2]&&m.error(a[0])}a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if((a.exec(b[3])||"").length>1||/^\w/.test(b[3])){b[3]=m(b[3],null,null,c)}else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return !1}}else{if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0])){return !0}}return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return !!a.firstChild},empty:function(a){return !a.firstChild},has:function(a,b,c){return !!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f){return f(a,c,b,d)}if(e==="contains"){return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0}if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++){if(g[h]===a){return !1}}return !0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling){if(l.nodeType===1){return !1}}if(k==="first"){return !0}l=a;case"last":while(l=l.nextSibling){if(l.nodeType===1){return !1}}return !0;case"nth":c=b[2],e=b[3];if(c===1&&e===0){return !0}f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling){l.nodeType===1&&(l.nodeIndex=++i)}g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f){return f(a,c,b,d)}}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match){o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q))}o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]"){Array.prototype.push.apply(d,a)}else{if(typeof a.length=="number"){for(var e=a.length;c<e;c++){d.push(a[c])}}else{for(;a[c];c++){d.push(a[c])}}}return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i){return v(a,b)}if(!g){return -1}if(!i){return 1}while(j){e.unshift(j),j=j.parentNode}j=i;while(j){f.unshift(j),j=j.parentNode}c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++){if(e[k]!==f[k]){return v(e[k],f[k])}}return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b){return c}var d=a.nextSibling;while(d){if(d===b){return -1}d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++){c[e].nodeType===1&&d.push(c[e])}c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1]){return s(e.getElementsByTagName(b),f)}if(h[2]&&o.find.CLASS&&e.getElementsByClassName){return s(e.getElementsByClassName(h[2]),f)}}if(e.nodeType===9){if(b==="body"&&e.body){return s([e.body],f)}if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode){return s([],f)}if(i.id===h[3]){return s([i],f)}}try{return s(e.querySelectorAll(b),f)}catch(j){}}else{if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p){return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}}catch(r){}finally{l||k.removeAttribute("id")}}}}return a(b,e,f,g)};for(var e in a){m[e]=a[e]}b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a)){try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11){return f}}}catch(g){}}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1){return}o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c){return b.getElementsByClassName(a[1])}},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return !1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a)){f+=d[0],a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++){m(a,g[h],e,c)}return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string"){return f(a).filter(function(){for(c=0,d=b.length;c<d;c++){if(f.contains(b[c],this)){return !0}}})}var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0){for(h=g;h<e.length;h++){for(i=0;i<g;i++){if(e[i]===e[h]){e.splice(h--,1);break}}}}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++){if(f.contains(this,b[a])){return !0}}})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return !!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++){f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h})}g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11){break}}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof a=="string"){return f.inArray(this[0],f(a))}return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d))){g.nodeType===1&&e.push(g),g=g[c]}return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c]){if(a.nodeType===1&&++e===b){break}}return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling){a.nodeType===1&&a!==b&&c.push(a)}return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapAll(a.call(this,b))})}if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)})}if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})}if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++){if(!a||f.filter(a,[d]).length){!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d)}}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b){return c.nodeType===1?c.innerHTML.replace(W,""):null}if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++){c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a)}c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a)){return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))})}typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j)){return this.each(function(){f(this).domManip(a,c,d,!0)})}if(f.isFunction(j)){return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)})}if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++){d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g){e[g]&&bk(d[g],e[g])}}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g){bj(d[g],e[g])}}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l){continue}if(typeof l=="string"){if(!_.test(l)){l=b.createTextNode(l)}else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--){p=p.lastChild}if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i){f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}}var u;if(!f.support.appendChecked){if(l[0]&&typeof(u=l.length)=="number"){for(i=0;i<u;i++){bn(l[i])}}else{bn(l)}}l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return !a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type))){e.push(h.parentNode?h.parentNode.removeChild(h):h)}else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()]){continue}c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events){e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle)}b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get" in k&&(g=k.get(a,!1,e))!==b){return g}return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d)){return}h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set" in k)||(d=k.set(a,d))!==b){try{j[c]=d}catch(l){}}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get" in g&&(e=g.get(a,!0,d))!==b){return e}if(by){return by(a,c)}},swap:function(a,b,c){var d={},e,f;for(f in b){d[f]=a.style[f],a.style[f]=b[f]}e=c.call(a);for(f in b){a.style[f]=d[f]}return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c){return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})}},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter){return}}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return !f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++){f[a+bx[d]+b]=e[d]||e[d-2]||e[0]}return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR){return bR.apply(this,arguments)}if(!this.length){return this}var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified")){f.lastModified[k]=y}if(z=v.getResponseHeader("Etag")){f.etag[k]=z}}if(a===304){w="notmodified",o=!0}else{try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}}else{u=w;if(!w||a){w="error",a<0&&(a=0)}}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n)){o[c[1].toLowerCase()]=c[2]}}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2){for(b in a){j[b]=[j[b],a[b]]}}else{b=a[v.status],v.then(b,b)}}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2){return !1}t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers){v.setRequestHeader(u,d.headers[u])}if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return !1}for(u in {success:1,error:1,complete:1}){v[u](d[u])}p=bZ(bT,d,c,v);if(!p){w(-1,"No Transport")}else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2){w(-1,z)}else{throw z}}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a)){f.each(a,function(){e(this.name,this.value)})}else{for(var g in a){b_(g,a[g],c,e)}}return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")}},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg){cg[a](0,1)}}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return !this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials" in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields){for(j in c.xhrFields){h[j]=c.xhrFields[j]}}c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e){h.setRequestHeader(j,e[j])}}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e){h.readyState!==4&&h.abort()}else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0){return this.animate(ct("show",3),a,b,c)}for(var g=0,h=this.length;g<h;g++){d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)))}for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none"){d.style.display=f._data(d,"olddisplay")||""}}}return this},hide:function(a,b,c){if(a||a===0){return this.animate(ct("hide",3),a,b,c)}var d,e,g=0,h=this.length;for(;g<h;g++){d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e))}for(g=0;g<h;g++){this[g].style&&(this[g].style.display="none")}return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand" in k){l=k.expand(a[g]),delete a[g];for(i in l){i in a||(a[i]=l[i])}}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d){return b.complete.call(this)}c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a){j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""))}return !0}var e=f.speed(b,c,d);if(f.isEmptyObject(a)){return this.each(e.complete,[!1])}a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null){for(b in g){g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b)}}else{g[b=a+".run"]&&g[b].stop&&h(this,g,b)}for(b=e.length;b--;){e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1))}(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0){d.queue="fx"}d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return -Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties){i.animatedProperties[b]!==!0&&(g=!1)}if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show){for(b in i.animatedProperties){f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0)}}d=i.complete,d&&(i.complete=!1,d.call(h))}return !1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return !0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++){a=b[c],!a()&&b[c]===a&&b.splice(c--,1)}b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect" in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a)){return d?{top:d.top,left:d.left}:{top:0,left:0}}var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed"){break}d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static"){k+=h.offsetTop,l+=h.offsetLeft}f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length){return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)})}var c=this[0],d=c&&c.ownerDocument;if(!d){return null}if(c===d.body){return f.offset.bodyOffset(c)}return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using" in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0]){return null}var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static"){a=a.offsetParent}return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b){return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e]}h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e]){return i[d]}return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);var Kinetic={};Kinetic.GlobalObject={stages:[],idCounter:0,tempNodes:[],animations:[],animIdCounter:0,animRunning:!1,dragTimeInterval:0,maxDragTimeInterval:20,frame:{time:0,timeDiff:0,lastTime:0},drag:{moving:!1,node:undefined,offset:{x:0,y:0},lastDrawTime:0},extend:function(f,e){for(var g in e.prototype){e.prototype.hasOwnProperty(g)&&f.prototype[g]===undefined&&(f.prototype[g]=e.prototype[g])}},_pullNodes:function(f){var e=this.tempNodes;for(var h=0;h<e.length;h++){var g=e[h];g.getStage()!==undefined&&g.getStage()._id===f._id&&(f._addId(g),f._addName(g),this.tempNodes.splice(h,1),h-=1)}},_addAnimation:function(b){b.id=this.animIdCounter++,this.animations.push(b)},_removeAnimation:function(f){var e=f.id,h=this.animations;for(var g=0;g<h.length;g++){if(h[g].id===e){return this.animations.splice(g,1),!1}}},_runFrames:function(){var f={};for(var e=0;e<this.animations.length;e++){var h=this.animations[e];h.node&&h.node._id!==undefined&&(f[h.node._id]=h.node),h.func(this.frame)}for(var g in f){f[g].draw()}},_updateFrameObject:function(){var e=new Date,c=e.getTime();this.frame.lastTime===0?this.frame.lastTime=c:(this.frame.timeDiff=c-this.frame.lastTime,this.frame.lastTime=c,this.frame.time+=this.frame.timeDiff)},_animationLoop:function(){if(this.animations.length>0){this._updateFrameObject(),this._runFrames();var b=this;requestAnimFrame(function(){b._animationLoop()})}else{this.animRunning=!1,this.frame.lastTime=0}},_handleAnimation:function(){var b=this;this.animRunning?this.frame.lastTime=0:(this.animRunning=!0,b._animationLoop())},_isElement:function(b){return !!b&&b.nodeType==1},_isFunction:function(b){return !!(b&&b.constructor&&b.call&&b.apply)},_isArray:function(b){return Object.prototype.toString.call(b)=="[object Array]"},_isObject:function(b){return b===Object(b)},_getXY:function(b){return b.length===1?b[0]:{x:b[0],y:b[1]}},_setXY:function(f,e,g){f[e]===undefined&&(f[e]={}),Kinetic.GlobalObject._isArray(g)?(f[e].x=g[0],f[e].y=g[1]):f[e]!==undefined&&(g.x!==undefined&&(f[e].x=g.x),g.y!==undefined&&(f[e].y=g.y))},_setSize:function(f,e,g){f[e]===undefined&&(f[e]={}),Kinetic.GlobalObject._isArray(g)?(f[e].width=g[2],f[e].height=g[3]):f[e]!==undefined&&(g.width!==undefined&&(f[e].width=g.width),g.y!==undefined&&(f[e].height=g.height))},_setPoints:function(g,f,j){if(this._isObject(j[0])){g[f]=j}else{var i=[];for(var h=0;h<j.length;h+=2){i.push({x:j[h],y:j[h+1]})}g[f]=i}}},window.requestAnimFrame=function(b){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1000/60)}}(),Kinetic.Node=function(b){this.setDefaultAttrs({visible:!0,listening:!0,name:undefined,alpha:1,x:0,y:0,scale:{x:1,y:1},rotation:0,centerOffset:{x:0,y:0},dragConstraint:"none",dragBounds:{},draggable:!1}),this.eventListeners={},this.setAttrs(b)},Kinetic.Node.prototype={on:function(s,r){var q=s.split(" ");for(var p=0;p<q.length;p++){var o=q[p],m=o.indexOf("touch")===-1?"on"+o:o,l=m.split("."),k=l[0],j=l.length>1?l[1]:"";this.eventListeners[k]||(this.eventListeners[k]=[]),this.eventListeners[k].push({name:j,handler:r})}},off:function(s){var r=s.split(" ");for(var q=0;q<r.length;q++){var p=r[q],o=p.indexOf("touch")===-1?"on"+p:p,m=o.split("."),l=m[0];if(this.eventListeners[l]&&m.length>1){var k=m[1];for(var j=0;j<this.eventListeners[l].length;j++){if(this.eventListeners[l][j].name===k){this.eventListeners[l].splice(j,1),this.eventListeners[l].length===0&&(this.eventListeners[l]=undefined);break}}}else{this.eventListeners[l]=undefined}}},getAttrs:function(){return this.attrs},setDefaultAttrs:function(e){this.attrs===undefined&&(this.attrs={});if(e){for(var c in e){this.attrs[c]===undefined&&(this.attrs[c]=e[c])}}},setAttrs:function(f){var e=Kinetic.GlobalObject;if(f){for(var h in f){var g=f[h];if(e._isFunction(g)||e._isElement(g)){this[h]=g}else{switch(h){case"draggable":this.draggable(f[h]);break;case"listening":this.listen(f[h]);break;case"rotationDeg":this.attrs.rotation=f[h]*Math.PI/180;break;case"centerOffset":e._setXY(this.attrs,h,g);break;case"shadowOffset":e._setXY(this.attrs,h,g);break;case"scale":e._setXY(this.attrs,h,g);break;case"points":e._setPoints(this.attrs,h,g);break;case"crop":e._setXY(this.attrs,h,g),e._setSize(this.attrs,h,g);break;default:this.attrs[h]=f[h]}}}}},isVisible:function(){return this.attrs.visible},show:function(){this.attrs.visible=!0},hide:function(){this.attrs.visible=!1},getZIndex:function(){return this.index},getAbsoluteZIndex:function(){function h(a){var k=[];for(var e=0;e<a.length;e++){var c=a[e];i++,c.nodeType!=="Shape"&&(k=k.concat(c.getChildren())),c._id===j._id&&(e=a.length)}k.length>0&&k[0].getLevel()<=g&&h(k)}var g=this.getLevel(),f=this.getStage(),j=this,i=0;return j.nodeType!=="Stage"&&h(j.getStage().getChildren()),i},getLevel:function(){var e=0,c=this.parent;while(c){e++,c=c.parent}return e},setScale:function(e,c){c!==undefined?(this.attrs.scale.x=e,this.attrs.scale.y=c):(this.attrs.scale.x=e,this.attrs.scale.y=e)},getScale:function(){return this.attrs.scale},setPosition:function(){var b=Kinetic.GlobalObject._getXY(arguments);this.attrs.x=b.x,this.attrs.y=b.y},setX:function(b){this.attrs.x=b},setY:function(b){this.attrs.y=b},getX:function(){return this.attrs.x},getY:function(){return this.attrs.y},setDetectionType:function(b){this.attrs.detectionType=b},getDetectionType:function(){return this.attrs.detectionType},getPosition:function(){return{x:this.attrs.x,y:this.attrs.y}},getAbsolutePosition:function(){return this.getAbsoluteTransform().getTranslation()},setAbsolutePosition:function(){var g=Kinetic.GlobalObject._getXY(arguments),f=this.attrs.rotation,j={x:this.attrs.scale.x,y:this.attrs.scale.y},i={x:this.attrs.centerOffset.x,y:this.attrs.centerOffset.y};this.attrs.rotation=0,this.attrs.scale={x:1,y:1};var h=this.getAbsoluteTransform();h.invert(),h.translate(g.x,g.y),g={x:this.attrs.x+h.getTranslation().x,y:this.attrs.y+h.getTranslation().y},this.setPosition(g.x,g.y),this.rotate(f),this.attrs.scale={x:j.x,y:j.y}},move:function(e,c){this.attrs.x+=e,this.attrs.y+=c},setRotation:function(b){this.attrs.rotation=b},setRotationDeg:function(b){this.attrs.rotation=b*Math.PI/180},getRotation:function(){return this.attrs.rotation},getRotationDeg:function(){return this.attrs.rotation*180/Math.PI},rotate:function(b){this.attrs.rotation+=b},rotateDeg:function(b){this.attrs.rotation+=b*Math.PI/180},listen:function(b){this.attrs.listening=b},moveToTop:function(){var b=this.index;this.parent.children.splice(b,1),this.parent.children.push(this),this.parent._setChildrenIndices()},moveUp:function(){var b=this.index;this.parent.children.splice(b,1),this.parent.children.splice(b+1,0,this),this.parent._setChildrenIndices()},moveDown:function(){var b=this.index;b>0&&(this.parent.children.splice(b,1),this.parent.children.splice(b-1,0,this),this.parent._setChildrenIndices())},moveToBottom:function(){var b=this.index;this.parent.children.splice(b,1),this.parent.children.unshift(this),this.parent._setChildrenIndices()},setZIndex:function(e){var c=this.index;this.parent.children.splice(c,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices()},setAlpha:function(b){this.attrs.alpha=b},getAlpha:function(){return this.attrs.alpha},getAbsoluteAlpha:function(){var e=1,c=this;while(c.nodeType!=="Stage"){e*=c.attrs.alpha,c=c.parent}return e},draggable:function(b){this.attrs.draggable!==b&&(b?this._initDrag():this._dragCleanup(),this.attrs.draggable=b)},isDragging:function(){var b=Kinetic.GlobalObject;return b.drag.node!==undefined&&b.drag.node._id===this._id&&b.drag.moving},moveTo:function(e){var c=this.parent;c.children.splice(this.index,1),c._setChildrenIndices(),e.children.push(this),this.index=e.children.length-1,this.parent=e,e._setChildrenIndices()},getParent:function(){return this.parent},getLayer:function(){return this.nodeType==="Layer"?this:this.getParent().getLayer()},getStage:function(){return this.nodeType==="Stage"?this:this.getParent()===undefined?undefined:this.getParent().getStage()},getName:function(){return this.attrs.name},setCenterOffset:function(){var b=Kinetic.GlobalObject._getXY(arguments);this.attrs.centerOffset.x=b.x,this.attrs.centerOffset.y=b.y},getCenterOffset:function(){return this.attrs.centerOffset},transitionTo:function(h){var g=Kinetic.GlobalObject;this.transAnim!==undefined&&(g._removeAnimation(this.transAnim),this.transAnim=undefined);var l=this.nodeType==="Stage"?this:this.getLayer(),k=this,j=new Kinetic.Transition(this,h),i={func:function(){j.onEnterFrame()},node:l};return this.transAnim=i,g._addAnimation(i),j.onFinished=function(){g._removeAnimation(i),k.transAnim=undefined,h.callback!==undefined&&h.callback(),i.node.draw()},j.start(),g._handleAnimation(),j},setDragConstraint:function(b){this.attrs.dragConstraint=b},getDragConstraint:function(){return this.attrs.dragConstraint},setDragBounds:function(b){this.attrs.dragBounds=b},getDragBounds:function(){return this.attrs.dragBounds},getAbsoluteTransform:function(){var h=new Kinetic.Transform,g=[],l=this.parent;g.unshift(this);while(l){g.unshift(l),l=l.parent}for(var k=0;k<g.length;k++){var j=g[k],i=j.getTransform();h.multiply(i)}return h},getTransform:function(){var b=new Kinetic.Transform;return(this.attrs.x!==0||this.attrs.y!==0)&&b.translate(this.attrs.x,this.attrs.y),this.attrs.rotation!==0&&b.rotate(this.attrs.rotation),(this.attrs.scale.x!==1||this.attrs.scale.y!==1)&&b.scale(this.attrs.scale.x,this.attrs.scale.y),b},_initDrag:function(){this._dragCleanup();var e=Kinetic.GlobalObject,c=this;this.on("mousedown.initdrag touchstart.initdrag",function(j){var i=c.getStage(),h=i.getUserPosition();if(h){var b=c.getTransform().getTranslation(),a=c.getAbsoluteTransform().getTranslation();e.drag.node=c,e.drag.offset.x=h.x-c.getAbsoluteTransform().getTranslation().x,e.drag.offset.y=h.y-c.getAbsoluteTransform().getTranslation().y}})},_dragCleanup:function(){this.off("mousedown.initdrag"),this.off("touchstart.initdrag")},_handleEvents:function(f,e){this.nodeType==="Shape"&&(e.shape=this);var g=this.getStage();this._handleEvent(this,g.mouseoverShape,g.mouseoutShape,f,e)},_handleEvent:function(w,v,u,t,s){var r=w.eventListeners,q=!0;t==="onmouseover"&&u&&u._id===w._id?q=!1:t==="onmouseout"&&v&&v._id===w._id&&(q=!1);if(r[t]&&q){var p=r[t];for(var o=0;o<p.length;o++){p[o].handler.apply(w,[s])}}var m=v?v.parent:undefined,l=u?u.parent:undefined;!s.cancelBubble&&w.parent.nodeType!=="Stage"&&this._handleEvent(w.parent,m,l,t,s)}},Kinetic.Container=function(){this.children=[]},Kinetic.Container.prototype={getChildren:function(){return this.children},removeChildren:function(){while(this.children.length>0){this.remove(this.children[0])}},_remove:function(g){if(g.index!==undefined&&this.children[g.index]._id==g._id){var f=this.getStage();f!==undefined&&(f._removeId(g),f._removeName(g));var j=Kinetic.GlobalObject;for(var i=0;i<j.tempNodes.length;i++){var h=j.tempNodes[i];h._id===g._id&&(j.tempNodes.splice(i,1),i=j.tempNodes.length)}this.children.splice(g.index,1),this._setChildrenIndices(),g=undefined}},get:function(i){var h=this.getStage(),o,m=i.slice(1);if(i.charAt(0)==="#"){o=h.ids[m]!==undefined?[h.ids[m]]:[]}else{if(i.charAt(0)!=="."){return i==="Shape"||i==="Group"||i==="Layer"?this._getNodes(i):!1}o=h.names[m]!==undefined?h.names[m]:[]}var l=[];for(var k=0;k<o.length;k++){var j=o[k];this.isAncestorOf(j)&&l.push(j)}return l},isAncestorOf:function(e){if(this.nodeType==="Stage"){return !0}var c=e.getParent();while(c){if(c._id===this._id){return !0}c=c.getParent()}return !1},_getNodes:function(f){function g(h){var c=h.getChildren();for(var b=0;b<c.length;b++){var a=c[b];a.nodeType===f?e.push(a):a.nodeType!=="Shape"&&g(a)}}var e=[];return g(this),e},_drawChildren:function(){var f=this.getStage(),e=this.children;for(var h=0;h<e.length;h++){var g=e[h];g.nodeType==="Shape"&&g.isVisible()&&f.isVisible()?g._draw(g.getLayer()):g._draw()}},_add:function(f){f._id=Kinetic.GlobalObject.idCounter++,f.index=this.children.length,f.parent=this,this.children.push(f);var e=f.getStage();if(e===undefined){var g=Kinetic.GlobalObject;g.tempNodes.push(f)}else{e._addId(f),e._addName(f);var g=Kinetic.GlobalObject;g._pullNodes(e)}},_setChildrenIndices:function(){if(this.nodeType==="Stage"){var f=this.content.children,e=f[0],h=f[1];this.content.innerHTML="",this.content.appendChild(e),this.content.appendChild(h)}for(var g=0;g<this.children.length;g++){this.children[g].index=g,this.nodeType==="Stage"&&this.content.appendChild(this.children[g].canvas)}}},Kinetic.Stage=function(e){this.setDefaultAttrs({width:400,height:200}),this.nodeType="Stage",typeof e.container=="string"&&(e.container=document.getElementById(e.container)),Kinetic.Container.apply(this,[]),Kinetic.Node.apply(this,[e]),this.container=e.container,this.content=document.createElement("div"),this.dblClickWindow=400,this._setDefaults(),this._id=Kinetic.GlobalObject.idCounter++,this._buildDOM(),this._listen(),this._prepareDrag();var c=Kinetic.GlobalObject;c.stages.push(this),this._addId(this),this._addName(this)},Kinetic.Stage.prototype={onFrame:function(e){var c=Kinetic.GlobalObject;this.anim={func:e}},start:function(){if(!this.animRunning){var b=Kinetic.GlobalObject;b._addAnimation(this.anim),b._handleAnimation(),this.animRunning=!0}},stop:function(){var b=Kinetic.GlobalObject;b._removeAnimation(this.anim),this.animRunning=!1},draw:function(){this._drawChildren()},setSize:function(g,f){this.attrs.width=g,this.attrs.height=f,this.content.style.width=this.attrs.width+"px",this.content.style.height=this.attrs.height+"px",this.bufferLayer.getCanvas().width=g,this.bufferLayer.getCanvas().height=f,this.pathLayer.getCanvas().width=g,this.pathLayer.getCanvas().height=f;var j=this.children;for(var i=0;i<j.length;i++){var h=j[i];h.getCanvas().width=g,h.getCanvas().height=f,h.draw()}},getSize:function(){return{width:this.attrs.width,height:this.attrs.height}},clear:function(){var e=this.children;for(var c=0;c<e.length;c++){e[c].clear()}},toDataURL:function(j,i,q){function k(c){var b=m[c].getCanvas().toDataURL(),a=new Image;a.onload=function(){o.drawImage(this,0,0),c++;if(c<m.length){k(c)}else{try{j(p.getCanvas().toDataURL(i,q))}catch(e){j(p.getCanvas().toDataURL())}}},a.src=b}var p=this.bufferLayer,o=p.getContext(),m=this.children,l=this;p.clear(),k(0)},toJSON:function(){function c(b){var j={};j.attrs=b.attrs,j.nodeType=b.nodeType,j.shapeType=b.shapeType;if(b.nodeType!=="Shape"){j.children=[];var i=b.getChildren();for(var h=0;h<i.length;h++){var g=i[h];j.children.push(c(g))}}return j}var e=Kinetic.GlobalObject;return JSON.stringify(c(this))},reset:function(){this.removeChildren(),this._setDefaults(),this.setAttrs({visible:!0,listening:!0,name:undefined,alpha:1,x:0,y:0,scale:{x:1,y:1},rotation:0,centerOffset:{x:0,y:0},dragConstraint:"none",dragBounds:{},draggable:!1})},load:function(f){function e(b,o){var m=o.children;if(m!==undefined){for(var l=0;l<m.length;l++){var k=m[l],j;k.nodeType==="Shape"?k.shapeType===undefined?j="Shape":j=k.shapeType:j=k.nodeType;var i=new Kinetic[j](k.attrs);b.add(i),e(i,k)}}}this.reset();var g=JSON.parse(f);this.attrs=g.attrs,e(this,g),this.draw()},remove:function(e){try{this.content.removeChild(e.canvas)}catch(c){}this._remove(e)},add:function(b){b.canvas.width=this.attrs.width,b.canvas.height=this.attrs.height,this._add(b),b.draw(),this.content.appendChild(b.canvas)},getMousePosition:function(b){return this.mousePos},getTouchPosition:function(b){return this.touchPos},getUserPosition:function(b){return this.getTouchPosition()||this.getMousePosition()},getContainer:function(){return this.container},getContent:function(){return this.content},getStage:function(){return this},getWidth:function(){return this.attrs.width},getHeight:function(){return this.attrs.height},getIntersections:function(){var g=Kinetic.GlobalObject._getXY(arguments),f=[],j=this.get("Shape");for(var i=0;i<j.length;i++){var h=j[i];h.intersects(g)&&f.push(h)}return f},getDOM:function(){return this.content},_detectEvent:function(j,i){var q=Kinetic.GlobalObject.drag.moving,p=Kinetic.GlobalObject,o=this.getUserPosition(),m=j.eventListeners;this.targetShape&&j._id===this.targetShape._id&&(this.targetFound=!0);if(j.attrs.visible&&o!==undefined&&j.intersects(o)){if(!q&&this.mouseDown){return this.mouseDown=!1,this.clickStart=!0,j._handleEvents("onmousedown",i),!0}if(this.mouseUp){return this.mouseUp=!1,j._handleEvents("onmouseup",i),this.clickStart&&(!p.drag.moving||!p.drag.node)&&(j._handleEvents("onclick",i),j.inDoubleClickWindow&&j._handleEvents("ondblclick",i),j.inDoubleClickWindow=!0,setTimeout(function(){j.inDoubleClickWindow=!1},this.dblClickWindow)),!0}if(this.touchStart){this.touchStart=!1,j._handleEvents("touchstart",i);if(m.ondbltap&&j.inDoubleClickWindow){var l=m.ondbltap;for(var k=0;k<l.length;k++){l[k].handler.apply(j,[i])}}return j.inDoubleClickWindow=!0,setTimeout(function(){j.inDoubleClickWindow=!1},this.dblClickWindow),!0}if(this.touchEnd){return this.touchEnd=!1,j._handleEvents("touchend",i),!0}if(!q&&this._isNewTarget(j,i)){return this.mouseoutShape&&(this.mouseoverShape=j,this.mouseoutShape._handleEvents("onmouseout",i),this.mouseoverShape=undefined),j._handleEvents("onmouseover",i),this._setTarget(j),!0}if(!q){return j._handleEvents("onmousemove",i),j._handleEvents("touchmove",i),!0}}else{if(!q&&this.targetShape&&this.targetShape._id===j._id){return this._setTarget(undefined),this.mouseoutShape=j,!0}}return !1},_setTarget:function(b){this.targetShape=b,this.targetFound=!0},_isNewTarget:function(f,e){if(!this.targetShape||!this.targetFound&&f._id!==this.targetShape._id){if(this.targetShape){var g=this.targetShape.eventListeners;g&&(this.mouseoutShape=this.targetShape)}return !0}return !1},_traverseChildren:function(h,g){var l=h.children;for(var k=l.length-1;k>=0;k--){var j=l[k];if(j.attrs.listening){if(j.nodeType==="Shape"){var i=this._detectEvent(j,g);if(i){return !0}}else{var i=this._traverseChildren(j,g);if(i){return !0}}}}return !1},_handleStageEvent:function(g){var f=Kinetic.GlobalObject;g||(g=window.event),this._setMousePosition(g),this._setTouchPosition(g),this.pathLayer.clear(),this.targetFound=!1;var j=!1;for(var i=this.children.length-1;i>=0;i--){var h=this.children[i];h.attrs.visible&&i>=0&&h.attrs.listening&&this._traverseChildren(h,g)&&(i=-1,j=!0)}!j&&this.mouseoutShape&&(this.mouseoutShape._handleEvents("onmouseout",g),this.mouseoutShape=undefined)},_listen:function(){var b=this;this.content.addEventListener("mousedown",function(a){b.mouseDown=!0,b._handleStageEvent(a)},!1),this.content.addEventListener("mousemove",function(a){b.mouseUp=!1,b.mouseDown=!1,b._handleStageEvent(a)},!1),this.content.addEventListener("mouseup",function(a){b.mouseUp=!0,b.mouseDown=!1,b._handleStageEvent(a),b.clickStart=!1},!1),this.content.addEventListener("mouseover",function(a){b._handleStageEvent(a)},!1),this.content.addEventListener("mouseout",function(a){var e=b.targetShape;e&&(e._handleEvents("onmouseout",a),b.targetShape=undefined),b.mousePos=undefined},!1),this.content.addEventListener("touchstart",function(a){a.preventDefault(),b.touchStart=!0,b._handleStageEvent(a)},!1),this.content.addEventListener("touchmove",function(a){a.preventDefault(),b._handleStageEvent(a)},!1),this.content.addEventListener("touchend",function(a){a.preventDefault(),b.touchEnd=!0,b._handleStageEvent(a)},!1)},_setMousePosition:function(f){var e=f.offsetX||f.clientX-this._getContentPosition().left+window.pageXOffset,g=f.offsetY||f.clientY-this._getContentPosition().top+window.pageYOffset;this.mousePos={x:e,y:g}},_setTouchPosition:function(f){if(f.touches!==undefined&&f.touches.length===1){var e=f.touches[0],h=e.clientX-this._getContentPosition().left+window.pageXOffset,g=e.clientY-this._getContentPosition().top+window.pageYOffset;this.touchPos={x:h,y:g}}},_getContentPosition:function(){var f=this.content,e=0,g=0;while(f&&f.tagName!=="BODY"){e+=f.offsetTop-f.scrollTop,g+=f.offsetLeft-f.scrollLeft,f=f.offsetParent}return{top:e,left:g}},_modifyPathContext:function(b){b.stroke=function(){},b.fill=function(){},b.fillRect=function(a,h,g,f){b.rect(a,h,g,f)},b.strokeRect=function(a,h,g,f){b.rect(a,h,g,f)},b.drawImage=function(){},b.fillText=function(){},b.strokeText=function(){}},_endDrag:function(e){var c=Kinetic.GlobalObject;c.drag.node&&c.drag.moving&&(c.drag.moving=!1,c.drag.node._handleEvents("ondragend",e)),c.drag.node=undefined},_prepareDrag:function(){var b=this;this._onContent("mousemove touchmove",function(u){var t=Kinetic.GlobalObject,s=t.drag.node;if(s){var r=new Date,q=r.getTime();if(q-t.drag.lastDrawTime>t.dragTimeInterval){t.drag.lastDrawTime=q;var p=b.getUserPosition(),o=s.attrs.dragConstraint,m=s.attrs.dragBounds,l={x:s.attrs.x,y:s.attrs.y},a={x:p.x-t.drag.offset.x,y:p.y-t.drag.offset.y};m.left!==undefined&&a.x<m.left&&(a.x=m.left),m.right!==undefined&&a.x>m.right&&(a.x=m.right),m.top!==undefined&&a.y<m.top&&(a.y=m.top),m.bottom!==undefined&&a.y>m.bottom&&(a.y=m.bottom),s.setAbsolutePosition(a),o==="horizontal"?s.attrs.y=l.y:o==="vertical"&&(s.attrs.x=l.x),t.drag.node.getLayer().draw(),t.drag.moving||(t.drag.moving=!0,t.drag.node._handleEvents("ondragstart",u)),t.drag.node._handleEvents("ondragmove",u)}}},!1),this._onContent("mouseup touchend mouseout",function(a){b._endDrag(a)})},_buildDOM:function(){this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.container.appendChild(this.content),this.bufferLayer=new Kinetic.Layer({name:"bufferLayer"}),this.pathLayer=new Kinetic.Layer({name:"pathLayer"}),this.bufferLayer.parent=this,this.pathLayer.parent=this,this._modifyPathContext(this.pathLayer.context),this.bufferLayer.getCanvas().style.display="none",this.pathLayer.getCanvas().style.display="none",this.bufferLayer.canvas.className="kineticjs-buffer-layer",this.content.appendChild(this.bufferLayer.canvas),this.pathLayer.canvas.className="kineticjs-path-layer",this.content.appendChild(this.pathLayer.canvas),this.setSize(this.attrs.width,this.attrs.height)},_addId:function(b){b.attrs.id!==undefined&&(this.ids[b.attrs.id]=b)},_removeId:function(b){b.attrs.id!==undefined&&(this.ids[b.attrs.id]=undefined)},_addName:function(e){var c=e.attrs.name;c!==undefined&&(this.names[c]===undefined&&(this.names[c]=[]),this.names[c].push(e))},_removeName:function(f){if(f.attrs.name!==undefined){var e=this.names[f.attrs.name];if(e!==undefined){for(var h=0;h<e.length;h++){var g=e[h];g._id===f._id&&e.splice(h,1)}}}},_onContent:function(g,f){var j=g.split(" ");for(var i=0;i<j.length;i++){var h=j[i];this.content.addEventListener(h,f,!1)}},_setDefaults:function(){this.clickStart=!1,this.targetShape=undefined,this.targetFound=!1,this.mouseoverShape=undefined,this.mouseoutShape=undefined,this.mousePos=undefined,this.mouseDown=!1,this.mouseUp=!1,this.touchPos=undefined,this.touchStart=!1,this.touchEnd=!1,this.ids={},this.names={},this.anim=undefined,this.animRunning=!1}},Kinetic.GlobalObject.extend(Kinetic.Stage,Kinetic.Container),Kinetic.GlobalObject.extend(Kinetic.Stage,Kinetic.Node),Kinetic.Layer=function(b){this.setDefaultAttrs({throttle:80}),this.nodeType="Layer",this.lastDrawTime=0,this.beforeDrawFunc=undefined,this.afterDrawFunc=undefined,this.drawFunc=undefined,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.style.position="absolute",Kinetic.Container.apply(this,[]),Kinetic.Node.apply(this,[b])},Kinetic.Layer.prototype={draw:function(){var h=this.attrs.throttle,g=new Date,l=g.getTime(),k=l-this.lastDrawTime,j=1000/h;if(k>=j){this._draw(),this.drawTimeout!==undefined&&(clearTimeout(this.drawTimeout),this.drawTimeout=undefined)}else{if(this.drawTimeout===undefined){var i=this;this.drawTimeout=setTimeout(function(){i.draw()},17)}}},setThrottle:function(b){this.attrs.throttle=b},getThrottle:function(){return this.attrs.throttle},beforeDraw:function(b){this.beforeDrawFunc=b},afterDraw:function(b){this.afterDrawFunc=b},clear:function(){var e=this.getContext(),c=this.getCanvas();e.clearRect(0,0,c.width,c.height)},getCanvas:function(){return this.canvas},getContext:function(){return this.context},add:function(b){this._add(b)},remove:function(b){this._remove(b)},_draw:function(){var e=new Date,c=e.getTime();this.lastDrawTime=c,this.beforeDrawFunc!==undefined&&this.beforeDrawFunc(),this.clear(),this.attrs.visible&&(this.drawFunc!==undefined&&this.drawFunc(),this._drawChildren()),this.afterDrawFunc!==undefined&&this.afterDrawFunc()}},Kinetic.GlobalObject.extend(Kinetic.Layer,Kinetic.Container),Kinetic.GlobalObject.extend(Kinetic.Layer,Kinetic.Node),Kinetic.Group=function(b){this.nodeType="Group",Kinetic.Container.apply(this,[]),Kinetic.Node.apply(this,[b])},Kinetic.Group.prototype={add:function(b){this._add(b)},remove:function(b){this._remove(b)},_draw:function(){this.attrs.visible&&this._drawChildren()}},Kinetic.GlobalObject.extend(Kinetic.Group,Kinetic.Container),Kinetic.GlobalObject.extend(Kinetic.Group,Kinetic.Node),Kinetic.Shape=function(b){this.setDefaultAttrs({fill:undefined,stroke:undefined,strokeWidth:undefined,lineJoin:undefined,detectionType:"path",shadowColor:undefined,shadowBlur:5,shadowOffset:{x:0,y:0}}),this.data=[],this.nodeType="Shape",Kinetic.Node.apply(this,[b])},Kinetic.Shape.prototype={getContext:function(){return this.tempLayer===undefined?null:this.tempLayer.getContext()},getCanvas:function(){return this.tempLayer.getCanvas()},stroke:function(){var f=this.getContext();if(!!this.attrs.stroke||!!this.attrs.strokeWidth){var e=this.attrs.stroke?this.attrs.stroke:"black",g=this.attrs.strokeWidth?this.attrs.strokeWidth:2;f.lineWidth=g,f.strokeStyle=e,f.stroke()}},applyStyles:function(){var b=this.getContext();this.attrs.fill?(b.save(),this.applyShadow(),this.fill(),b.restore(),this.stroke()):(this.applyShadow(),this.stroke())},fill:function(){var j=this.getContext(),i=this.attrs.fill;if(!!i){var q=i.start,p=i.end,o=null;if(typeof i=="string"){o=this.attrs.fill,j.fillStyle=o,j.fill()}else{if(i.image!==undefined){var m={};i.offset!==undefined&&Kinetic.GlobalObject._setXY(m,"pos",i.offset);var l=i.repeat===undefined?"repeat":i.repeat;o=j.createPattern(i.image,l),j.save(),j.translate(m.pos.x,m.pos.y),j.fillStyle=o,j.fill(),j.restore()}else{if(q.x!==undefined&&q.y!==undefined&&p.x!==undefined&&p.y!==undefined){var j=this.getContext(),k=j.createLinearGradient(q.x,q.y,p.x,p.y);k.addColorStop(0,q.color),k.addColorStop(1,p.color),o=k,j.fillStyle=o,j.fill()}else{if(q.radius!==undefined&&p.radius!==undefined){var j=this.getContext(),k=j.createRadialGradient(q.x,q.y,q.radius,q.x,q.y,p.radius);k.addColorStop(0,q.color),k.addColorStop(1,p.color),o=k,j.fillStyle=o,j.fill()}else{o="black",j.fillStyle=o,j.fill()}}}}}},applyLineJoin:function(){var b=this.getContext();this.attrs.lineJoin!==undefined&&(b.lineJoin=this.attrs.lineJoin)},applyShadow:function(){var b=this.getContext();this.attrs.shadowColor!==undefined&&(b.shadowColor=this.attrs.shadowColor,b.shadowBlur=this.attrs.shadowBlur,b.shadowOffsetX=this.attrs.shadowOffset.x,b.shadowOffsetY=this.attrs.shadowOffset.y)},setFill:function(b){this.attrs.fill=b},getFill:function(){return this.attrs.fill},setStroke:function(b){this.attrs.stroke=b},getStroke:function(){return this.attrs.stroke},setLineJoin:function(b){this.attrs.lineJoin=b},getLineJoin:function(){return this.attrs.lineJoin},setStrokeWidth:function(b){this.attrs.strokeWidth=b},getStrokeWidth:function(){return this.attrs.strokeWidth},setShadowColor:function(b){this.attrs.shadowColor=b},getShadowColor:function(){return this.attrs.shadowColor},setShadowBlur:function(b){this.attrs.shadowBlur=b},getShadowBlur:function(){return this.attrs.shadowBlur},setShadowOffset:function(){var b={};b.shadowOffset=Kinetic.GlobalObject._getXY(arguments),this.setAttrs(b)},getShadowOffset:function(){return this.attrs.shadowOffset},setDrawFunc:function(b){this.drawFunc=b},saveData:function(){var h=this.getStage(),g=h.attrs.width,l=h.attrs.height,k=h.bufferLayer,j=k.getContext();k.clear(),this._draw(k);var i=j.getImageData(0,0,g,l);this.data=i.data},clearData:function(){this.data=[]},intersects:function(){var h=Kinetic.GlobalObject._getXY(arguments),g=this.getStage();if(this.attrs.detectionType==="path"){var l=g.pathLayer,k=l.getContext();return this._draw(l),k.isPointInPath(h.x,h.y)}var j=g.attrs.width,i=this.data[(j*h.y+h.x)*4+3];return i!==undefined&&i!==0},_draw:function(s){if(s!==undefined&&this.drawFunc!==undefined){var r=s.getStage(),q=s.getContext(),p=[],o=this.parent;p.unshift(this);while(o){p.unshift(o),o=o.parent}q.save();for(var m=0;m<p.length;m++){var l=p[m],k=l.getTransform();(l.attrs.centerOffset.x!==0||l.attrs.centerOffset.y!==0)&&k.translate(-1*l.attrs.centerOffset.x,-1*l.attrs.centerOffset.y);var j=k.getMatrix();q.transform(j[0],j[1],j[2],j[3],j[4],j[5])}this.tempLayer=s,this.getAbsoluteAlpha()!==1&&(q.globalAlpha=this.getAbsoluteAlpha()),this.applyLineJoin(),this.drawFunc.call(this),q.restore()}}},Kinetic.GlobalObject.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Rect=function(b){this.setDefaultAttrs({width:0,height:0,cornerRadius:0}),this.shapeType="Rect",b.drawFunc=function(){var c=this.getContext();c.beginPath(),this.attrs.cornerRadius===0?c.rect(0,0,this.attrs.width,this.attrs.height):(c.moveTo(this.attrs.cornerRadius,0),c.lineTo(this.attrs.width-this.attrs.cornerRadius,0),c.arc(this.attrs.width-this.attrs.cornerRadius,this.attrs.cornerRadius,this.attrs.cornerRadius,Math.PI*3/2,0,!1),c.lineTo(this.attrs.width,this.attrs.height-this.attrs.cornerRadius),c.arc(this.attrs.width-this.attrs.cornerRadius,this.attrs.height-this.attrs.cornerRadius,this.attrs.cornerRadius,0,Math.PI/2,!1),c.lineTo(this.attrs.cornerRadius,this.attrs.height),c.arc(this.attrs.cornerRadius,this.attrs.height-this.attrs.cornerRadius,this.attrs.cornerRadius,Math.PI/2,Math.PI,!1),c.lineTo(0,this.attrs.cornerRadius),c.arc(this.attrs.cornerRadius,this.attrs.cornerRadius,this.attrs.cornerRadius,Math.PI,Math.PI*3/2,!1)),c.closePath(),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.Rect.prototype={setWidth:function(b){this.attrs.width=b},getWidth:function(){return this.attrs.width},setHeight:function(b){this.attrs.height=b},getHeight:function(){return this.attrs.height},setSize:function(e,c){this.attrs.width=e,this.attrs.height=c},getSize:function(){return{width:this.attrs.width,height:this.attrs.height}},setCornerRadius:function(b){this.attrs.cornerRadius=b},getCornerRadius:function(){return this.attrs.cornerRadius}},Kinetic.GlobalObject.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Circle=function(b){this.setDefaultAttrs({radius:0}),this.shapeType="Circle",b.drawFunc=function(){var e=this.getCanvas(),c=this.getContext();c.beginPath(),c.arc(0,0,this.attrs.radius,0,Math.PI*2,!0),c.closePath(),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.Circle.prototype={setRadius:function(b){this.attrs.radius=b},getRadius:function(){return this.attrs.radius}},Kinetic.GlobalObject.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Image=function(b){this.setDefaultAttrs({crop:{x:0,y:0,width:undefined,height:undefined}}),this.shapeType="Image",b.drawFunc=function(){if(this.image!==undefined){var j=this.attrs.width!==undefined?this.attrs.width:this.image.width,i=this.attrs.height!==undefined?this.attrs.height:this.image.height,q=this.attrs.crop.x,p=this.attrs.crop.y,o=this.attrs.crop.width,m=this.attrs.crop.height,l=this.getCanvas(),k=this.getContext();k.beginPath(),k.rect(0,0,j,i),k.closePath(),this.applyStyles(),o!==undefined&&m!==undefined?k.drawImage(this.image,q,p,o,m,0,0,j,i):k.drawImage(this.image,0,0,j,i)}},Kinetic.Shape.apply(this,[b])},Kinetic.Image.prototype={setImage:function(b){this.image=b},getImage:function(){return this.image},setWidth:function(b){this.attrs.width=b},getWidth:function(){return this.attrs.width},setHeight:function(b){this.attrs.height=b},getHeight:function(){return this.attrs.height},setSize:function(e,c){this.attrs.width=e,this.attrs.height=c},getSize:function(){return{width:this.attrs.width,height:this.attrs.height}},getCrop:function(){return this.attrs.crop},setCrop:function(e){var c={};c.crop=e,this.setAttrs(c)}},Kinetic.GlobalObject.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Sprite=function(b){this.setDefaultAttrs({index:0,frameRate:17}),b.drawFunc=function(){if(this.image!==undefined){var f=this.getContext(),e=this.attrs.animation,h=this.attrs.index,g=this.attrs.animations[e][h];f.beginPath(),f.rect(0,0,g.width,g.height),f.closePath(),f.drawImage(this.image,g.x,g.y,g.width,g.height,0,0,g.width,g.height)}},Kinetic.Shape.apply(this,[b])},Kinetic.Sprite.prototype={start:function(){var e=this,c=this.getLayer();this.interval=setInterval(function(){e._updateIndex(),c.draw(),e.afterFrameFunc&&e.attrs.index===e.afterFrameIndex&&e.afterFrameFunc()},1000/this.attrs.frameRate)},stop:function(){clearInterval(this.interval)},afterFrame:function(e,c){this.afterFrameIndex=e,this.afterFrameFunc=c},setAnimation:function(b){this.attrs.animation=b},setAnimations:function(b){this.attrs.animations=b},getAnimations:function(){return this.attrs.animations},getAnimation:function(){return this.attrs.animation},setIndex:function(b){this.attrs.index=b},_updateIndex:function(){var e=this.attrs.index,c=this.attrs.animation;e<this.attrs.animations[c].length-1?this.attrs.index++:this.attrs.index=0}},Kinetic.GlobalObject.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Polygon=function(b){this.setDefaultAttrs({points:[]}),this.shapeType="Polygon",b.drawFunc=function(){var e=this.getContext();e.beginPath(),e.moveTo(this.attrs.points[0].x,this.attrs.points[0].y);for(var c=1;c<this.attrs.points.length;c++){e.lineTo(this.attrs.points[c].x,this.attrs.points[c].y)}e.closePath(),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.Polygon.prototype={setPoints:function(e){var c={};c.points=e,this.setAttrs(c)},getPoints:function(){return this.attrs.points}},Kinetic.GlobalObject.extend(Kinetic.Polygon,Kinetic.Shape),Kinetic.RegularPolygon=function(b){this.setDefaultAttrs({radius:0,sides:0}),this.shapeType="RegularPolygon",b.drawFunc=function(){var f=this.getContext();f.beginPath(),f.moveTo(0,0-this.attrs.radius);for(var e=1;e<this.attrs.sides;e++){var h=this.attrs.radius*Math.sin(e*2*Math.PI/this.attrs.sides),g=-1*this.attrs.radius*Math.cos(e*2*Math.PI/this.attrs.sides);f.lineTo(h,g)}f.closePath(),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.RegularPolygon.prototype={setRadius:function(b){this.attrs.radius=b},getRadius:function(){return this.attrs.radius},setSides:function(b){this.attrs.sides=b},getSides:function(){return this.attrs.sides}},Kinetic.GlobalObject.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Star=function(b){this.setDefaultAttrs({numPoints:0,innerRadius:0,outerRadius:0}),this.shapeType="Star",b.drawFunc=function(){var g=this.getContext();g.beginPath(),g.moveTo(0,0-this.attrs.outerRadius);for(var f=1;f<this.attrs.numPoints*2;f++){var j=f%2===0?this.attrs.outerRadius:this.attrs.innerRadius,i=j*Math.sin(f*Math.PI/this.attrs.numPoints),h=-1*j*Math.cos(f*Math.PI/this.attrs.numPoints);g.lineTo(i,h)}g.closePath(),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.Star.prototype={setNumPoints:function(b){this.attrs.numPoints=b},getNumPoints:function(){return this.attrs.numPoints},setOuterRadius:function(b){this.attrs.outerRadius=b},getOuterRadius:function(){return this.attrs.outerRadius},setInnerRadius:function(b){this.attrs.innerRadius=b},getInnerRadius:function(){return this.attrs.innerRadius}},Kinetic.GlobalObject.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Text=function(b){this.setDefaultAttrs({fontFamily:"Calibri",text:"",fontSize:12,align:"left",verticalAlign:"top",padding:0,fontStyle:"normal",width:"auto"}),this.shapeType="Text",b.drawFunc=function(){var j=this.getContext();j.font=this.attrs.fontStyle+" "+this.attrs.fontSize+"pt "+this.attrs.fontFamily,j.textBaseline="middle";var i=this.getTextHeight(),q=this.attrs.width==="auto"?this.getTextWidth():this.attrs.width,p=this.attrs.padding,o=0,m=0;switch(this.attrs.align){case"center":o=q/-2-p;break;case"right":o=-1*q-p}switch(this.attrs.verticalAlign){case"middle":m=i/-2-p;break;case"bottom":m=-1*i-p}j.save(),j.beginPath(),j.rect(o,m,q+p*2,i+p*2),j.closePath(),this.applyStyles(),j.restore();var l=p+o,k=i/2+p+m;j.save(),this.attrs.width!=="auto"&&(j.beginPath(),j.rect(o,m,q+p,i+p*2),j.closePath(),j.clip()),this.attrs.textFill!==undefined&&(j.fillStyle=this.attrs.textFill,j.fillText(this.attrs.text,l,k));if(this.attrs.textStroke!==undefined||this.attrs.textStrokeWidth!==undefined){this.attrs.textStroke===undefined?this.attrs.textStroke="black":this.attrs.textStrokeWidth===undefined&&(this.attrs.textStrokeWidth=2),j.lineWidth=this.attrs.textStrokeWidth,j.strokeStyle=this.attrs.textStroke,j.strokeText(this.attrs.text,l,k)}j.restore()},Kinetic.Shape.apply(this,[b])},Kinetic.Text.prototype={setFontFamily:function(b){this.attrs.fontFamily=b},getFontFamily:function(){return this.attrs.fontFamily},setFontSize:function(b){this.attrs.fontSize=b},getFontSize:function(){return this.attrs.fontSize},setFontStyle:function(b){this.attrs.fontStyle=b},getFontStyle:function(){return this.attrs.fontStyle},setTextFill:function(b){this.attrs.textFill=b},getTextFill:function(){return this.attrs.textFill},setTextStroke:function(b){this.attrs.textStroke=b},getTextStroke:function(){return this.attrs.textStroke},setTextStrokeWidth:function(b){this.attrs.textStrokeWidth=b},getTextStrokeWidth:function(){return this.attrs.textStrokeWidth},setPadding:function(b){this.attrs.padding=b},getPadding:function(){return this.attrs.padding},setAlign:function(b){this.attrs.align=b},getAlign:function(){return this.attrs.align},setVerticalAlign:function(b){this.attrs.verticalAlign=b},getVerticalAlign:function(){return this.attrs.verticalAlign},setText:function(b){this.attrs.text=b},getText:function(){return this.attrs.text},getTextWidth:function(){return this.getTextSize().width},getTextHeight:function(){return this.getTextSize().height},getTextSize:function(){var f=this.getContext();if(!f){var e=document.createElement("canvas");f=e.getContext("2d")}f.save(),f.font=this.attrs.fontStyle+" "+this.attrs.fontSize+"pt "+this.attrs.fontFamily;var g=f.measureText(this.attrs.text);return f.restore(),{width:g.width,height:parseInt(this.attrs.fontSize,10)}},getWidth:function(){return this.attrs.width},setWidth:function(b){this.attrs.width=b}},Kinetic.GlobalObject.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Line=function(b){this.setDefaultAttrs({points:[],lineCap:"butt",dashArray:[],detectionType:"pixel"}),this.shapeType="Line",b.drawFunc=function(){var i=this.getContext(),h={};i.beginPath(),i.moveTo(this.attrs.points[0].x,this.attrs.points[0].y);for(var o=1;o<this.attrs.points.length;o++){var m=this.attrs.points[o].x,l=this.attrs.points[o].y;if(this.attrs.dashArray.length>0){var k=this.attrs.points[o-1].x,j=this.attrs.points[o-1].y;this._dashedLine(k,j,m,l,this.attrs.dashArray)}else{i.lineTo(m,l)}}!this.attrs.lineCap||(i.lineCap=this.attrs.lineCap),this.applyStyles()},Kinetic.Shape.apply(this,[b])},Kinetic.Line.prototype={setPoints:function(e){var c={};c.points=e,this.setAttrs(c)},getPoints:function(){return this.attrs.points},setLineCap:function(b){this.attrs.lineCap=b},getLineCap:function(){return this.attrs.lineCap},setDashArray:function(b){this.attrs.dashArray=b},getDashArray:function(){return this.attrs.dashArray},_dashedLine:function(F,E,D,C,B){var A=this.getContext(),z=B.length,y=D-F,x=C-E,w=y>x,v=w?x/y:y/x;v>9999?v=9999:v<-9999&&(v=-9999);var u=Math.sqrt(y*y+x*x),t=0,s=!0;while(u>=0.1&&t<10000){var r=B[t++%z];r===0&&(r=0.001),r>u&&(r=u);var q=Math.sqrt(r*r/(1+v*v));w?(F+=y<0&&x<0?q*-1:q,E+=y<0&&x<0?v*q*-1:v*q):(F+=y<0&&x<0?v*q*-1:v*q,E+=y<0&&x<0?q*-1:q),A[s?"lineTo":"moveTo"](F,E),u-=r,s=!s}A.moveTo(D,C)}},Kinetic.GlobalObject.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]},Kinetic.Transform.prototype={translate:function(e,c){this.m[4]+=this.m[0]*e+this.m[2]*c,this.m[5]+=this.m[1]*e+this.m[3]*c},scale:function(e,c){this.m[0]*=e,this.m[1]*=e,this.m[2]*=c,this.m[3]*=c},rotate:function(i){var h=Math.cos(i),o=Math.sin(i),m=this.m[0]*h+this.m[2]*o,l=this.m[1]*h+this.m[3]*o,k=this.m[0]*-o+this.m[2]*h,j=this.m[1]*-o+this.m[3]*h;this.m[0]=m,this.m[1]=l,this.m[2]=k,this.m[3]=j},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},multiply:function(i){var h=this.m[0]*i.m[0]+this.m[2]*i.m[1],o=this.m[1]*i.m[0]+this.m[3]*i.m[1],m=this.m[0]*i.m[2]+this.m[2]*i.m[3],l=this.m[1]*i.m[2]+this.m[3]*i.m[3],k=this.m[0]*i.m[4]+this.m[2]*i.m[5]+this.m[4],j=this.m[1]*i.m[4]+this.m[3]*i.m[5]+this.m[5];this.m[0]=h,this.m[1]=o,this.m[2]=m,this.m[3]=l,this.m[4]=k,this.m[5]=j},invert:function(){var i=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),h=this.m[3]*i,o=-this.m[1]*i,m=-this.m[2]*i,l=this.m[0]*i,k=i*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),j=i*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=h,this.m[1]=o,this.m[2]=m,this.m[3]=l,this.m[4]=k,this.m[5]=j},getMatrix:function(){return this.m}},Kinetic.Transition=function(i,h){function m(f,c){for(var g in f){g!=="duration"&&g!=="easing"&&g!=="callback"&&(Kinetic.GlobalObject._isObject(f[g])?m(f[g],c[g]):o.add(o._getTween(c,g,f[g])))}}this.node=i,this.config=h,this.tweens=[];var o=this;m(h,i.attrs);var l=0,o=this;for(var k=0;k<this.tweens.length;k++){var j=this.tweens[k];j.onFinished=function(){l++,l>=o.tweens.length&&o.onFinished()}}},Kinetic.Transition.prototype={add:function(b){this.tweens.push(b)},start:function(){for(var b=0;b<this.tweens.length;b++){this.tweens[b].start()}},onEnterFrame:function(){for(var b=0;b<this.tweens.length;b++){this.tweens[b].onEnterFrame()}},stop:function(){for(var b=0;b<this.tweens.length;b++){this.tweens[b].stop()}},resume:function(){for(var b=0;b<this.tweens.length;b++){this.tweens[b].resume()}},_getTween:function(i,h,o){var m=this.config,l=this.node,k=m.easing;k===undefined&&(k="linear");var j=new Kinetic.Tween(l,function(a){i[h]=a},Kinetic.Tweens[k],i[h],o,m.duration);return j}},Kinetic.Tween=function(h,g,l,k,j,i){this._listeners=[],this.addListener(this),this.obj=h,this.propFunc=g,this.begin=k,this._pos=k,this.setDuration(i),this.isPlaying=!1,this._change=0,this.prevTime=0,this.prevPos=0,this.looping=!1,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.name="",this.func=l,this.setFinish(j)},Kinetic.Tween.prototype={setTime:function(b){this.prevTime=this._time,b>this.getDuration()?this.looping?(this.rewind(b-this._duration),this.update(),this.broadcastMessage("onLooped",{target:this,type:"onLooped"})):(this._time=this._duration,this.update(),this.stop(),this.broadcastMessage("onFinished",{target:this,type:"onFinished"})):b<0?(this.rewind(),this.update()):(this._time=b,this.update())},getTime:function(){return this._time},setDuration:function(b){this._duration=b===null||b<=0?100000:b},getDuration:function(){return this._duration},setPosition:function(b){this.prevPos=this._pos,this.propFunc(b),this._pos=b,this.broadcastMessage("onChanged",{target:this,type:"onChanged"})},getPosition:function(b){return b===undefined&&(b=this._time),this.func(b,this.begin,this._change,this._duration)},setFinish:function(b){this._change=b-this.begin},getFinish:function(){return this.begin+this._change},start:function(){this.rewind(),this.startEnterFrame(),this.broadcastMessage("onStarted",{target:this,type:"onStarted"})},rewind:function(b){this.stop(),this._time=b===undefined?0:b,this.fixTime(),this.update()},fforward:function(){this._time=this._duration,this.fixTime(),this.update()},update:function(){this.setPosition(this.getPosition(this._time))},startEnterFrame:function(){this.stopEnterFrame(),this.isPlaying=!0,this.onEnterFrame()},onEnterFrame:function(){this.isPlaying&&this.nextFrame()},nextFrame:function(){this.setTime((this.getTimer()-this._startTime)/1000)},stop:function(){this.stopEnterFrame(),this.broadcastMessage("onStopped",{target:this,type:"onStopped"})},stopEnterFrame:function(){this.isPlaying=!1},continueTo:function(e,c){this.begin=this._pos,this.setFinish(e),this._duration!=undefined&&this.setDuration(c),this.start()},resume:function(){this.fixTime(),this.startEnterFrame(),this.broadcastMessage("onResumed",{target:this,type:"onResumed"})},yoyo:function(){this.continueTo(this.begin,this._time)},addListener:function(b){return this.removeListener(b),this._listeners.push(b)},removeListener:function(f){var e=this._listeners,g=e.length;while(g--){if(e[g]==f){return e.splice(g,1),!0}}return !1},broadcastMessage:function(){var g=[];for(var f=0;f<arguments.length;f++){g.push(arguments[f])}var j=g.shift(),i=this._listeners,h=i.length;for(var f=0;f<h;f++){i[f][j]&&i[f][j].apply(i[f],g)}},fixTime:function(){this._startTime=this.getTimer()-this._time*1000},getTimer:function(){return(new Date).getTime()-this._time}},Kinetic.Tweens={"back-ease-in":function(i,h,o,m,l,k){var j=1.70158;return o*(i/=m)*i*((j+1)*i-j)+h},"back-ease-out":function(i,h,o,m,l,k){var j=1.70158;return o*((i=i/m-1)*i*((j+1)*i+j)+1)+h},"back-ease-in-out":function(i,h,o,m,l,k){var j=1.70158;return(i/=m/2)<1?o/2*i*i*(((j*=1.525)+1)*i-j)+h:o/2*((i-=2)*i*(((j*=1.525)+1)*i+j)+2)+h},"elastic-ease-in":function(i,h,o,m,l,k){var j=0;return i===0?h:(i/=m)==1?h+o:(k||(k=m*0.3),!l||l<Math.abs(o)?(l=o,j=k/4):j=k/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*m-j)*2*Math.PI/k))+h)},"elastic-ease-out":function(i,h,o,m,l,k){var j=0;return i===0?h:(i/=m)==1?h+o:(k||(k=m*0.3),!l||l<Math.abs(o)?(l=o,j=k/4):j=k/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*m-j)*2*Math.PI/k)+o+h)},"elastic-ease-in-out":function(i,h,o,m,l,k){var j=0;return i===0?h:(i/=m/2)==2?h+o:(k||(k=m*0.3*1.5),!l||l<Math.abs(o)?(l=o,j=k/4):j=k/(2*Math.PI)*Math.asin(o/l),i<1?-0.5*l*Math.pow(2,10*(i-=1))*Math.sin((i*m-j)*2*Math.PI/k)+h:l*Math.pow(2,-10*(i-=1))*Math.sin((i*m-j)*2*Math.PI/k)*0.5+o+h)},"bounce-ease-out":function(f,e,h,g){return(f/=g)<1/2.75?h*7.5625*f*f+e:f<2/2.75?h*(7.5625*(f-=1.5/2.75)*f+0.75)+e:f<2.5/2.75?h*(7.5625*(f-=2.25/2.75)*f+0.9375)+e:h*(7.5625*(f-=2.625/2.75)*f+0.984375)+e},"bounce-ease-in":function(f,e,h,g){return h-Kinetic.Tweens["bounce-ease-out"](g-f,0,h,g)+e},"bounce-ease-in-out":function(f,e,h,g){return f<g/2?Kinetic.Tweens["bounce-ease-in"](f*2,0,h,g)*0.5+e:Kinetic.Tweens["bounce-ease-out"](f*2-g,0,h,g)*0.5+h*0.5+e},"ease-in":function(f,e,h,g){return h*(f/=g)*f+e},"ease-out":function(f,e,h,g){return -h*(f/=g)*(f-2)+e},"ease-in-out":function(f,e,h,g){return(f/=g/2)<1?h/2*f*f+e:-h/2*(--f*(f-2)-1)+e},"strong-ease-in":function(f,e,h,g){return h*(f/=g)*f*f*f*f+e},"strong-ease-out":function(f,e,h,g){return h*((f=f/g-1)*f*f*f*f+1)+e},"strong-ease-in-out":function(f,e,h,g){return(f/=g/2)<1?h/2*f*f*f*f*f+e:h/2*((f-=2)*f*f*f*f+2)+e},linear:function(f,e,h,g){return h*f/g+e}};